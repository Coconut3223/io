<!DOCTYPE html>

<html lang="zh-CN" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Elegant Python &#8212; HomePage</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=83e35b93" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css?v=79c92029" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/katex-math.css?v=91adb8b6" />
    <link rel="stylesheet" type="text/css" href="../_static/css/rtd_sphinx_search.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/def.css?v=5a9d86bd" />
    <script src="../_static/documentation_options.js?v=7d86a446"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=9f22d18c"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/rtd_search_config.js"></script>
    <script src="../_static/js/rtd_sphinx_search.min.js"></script>
    <script src="https://unpkg.com/mermaid@10.2.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æœç´¢" href="../search.html" />
    <link rel="next" title="Enhanced Python" href="enhanced.html" />
    <link rel="prev" title="Python" href="index.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=blue data-md-color-accent=cyan>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#python/elegant" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="HomePage"
           class="md-header-nav__button md-logo">
          
            <i class="md-icon">&#xe869</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Cocobook</span>
          <span class="md-header-nav__topic"> Elegant Python </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder=""Search""
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/Coconut3223/io/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    io
  </div>
</a>
          </div>
        </div>
      
      
    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">HomePage</a></li>
            
            <li class="md-tabs__item"><a href="../AI/index.html" class="md-tabs__link">AI</a></li>
            
            <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">Python</a></li>
            
            <li class="md-tabs__item"><a href="../NLP/index.html" class="md-tabs__link">NLP</a></li>
            
            <li class="md-tabs__item"><a href="../SQL/index.html" class="md-tabs__link">SQL</a></li>
            
            <li class="md-tabs__item"><a href="../utils/index.html" class="md-tabs__link">Utils</a></li>
            
            <li class="md-tabs__item"><a href="../frontend/index.html" class="md-tabs__link">Frontend</a></li>
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">Python</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="HomePage" class="md-nav__button md-logo">
      
        <i class="md-icon">&#xe869</i>
      
    </a>
    <a href="../index.html"
       title="HomePage">Cocobook</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/Coconut3223/io/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    io
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Content</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../AI/index.html" class="md-nav__link">AI</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../AI/ML/index.html" class="md-nav__link">ML</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../AI/DL/index.html" class="md-nav__link">DL</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../CV/index.html" class="md-nav__link">CV</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../NLP/index.html" class="md-nav__link">NLP</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="index.html" class="md-nav__link">python</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Elegant Python </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Elegant Python</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#python-elegant--page-root" class="md-nav__link">Elegant Python</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id1" class="md-nav__link">å¯¹è±¡</a>
        </li>
        <li class="md-nav__item"><a href="#some" class="md-nav__link">Some</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#path" class="md-nav__link">ç¯å¢ƒå˜é‡ ç³»ç»Ÿè·¯å¾„ PATH</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id2" class="md-nav__link">å¯¹è±¡å¼•ç”¨æœºåˆ¶</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#is" class="md-nav__link">is & == æ ‡è¯† & ç›¸ç­‰æ€§</a>
        </li>
        <li class="md-nav__item"><a href="#id3" class="md-nav__link">å†…å­˜ç®¡ç†</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id4" class="md-nav__link">æ ˆåŒºå’Œå †åŒº</a>
        </li>
        <li class="md-nav__item"><a href="#id5" class="md-nav__link">åƒåœ¾å›æ”¶æœºåˆ¶</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id6" class="md-nav__link">ä¸å˜ & å¯å˜</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id7" class="md-nav__link">æ·±æµ…æ‹·è´</a>
        </li>
        <li class="md-nav__item"><a href="#id8" class="md-nav__link">æ•´æ•°æ± </a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#general" class="md-nav__link">General</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#convention" class="md-nav__link">convention</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#naming-conventions" class="md-nav__link">naming conventions</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id9" class="md-nav__link">å‡½æ•°</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id10" class="md-nav__link">å‚æ•°ä¼ é€’</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id11" class="md-nav__link">å…±äº«ä¼ å‚</a>
        </li>
        <li class="md-nav__item"><a href="#args-kwargs" class="md-nav__link">args & kwargs</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id12" class="md-nav__link">å˜é‡ä½œç”¨åŸŸ</a>
        </li>
        <li class="md-nav__item"><a href="#id13" class="md-nav__link">å‡½æ•°åˆ†ç±»</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id14" class="md-nav__link">ç”¨æˆ·å®šä¹‰çš„å‡½æ•°</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#lambda" class="md-nav__link">lambda åŒ¿åå‡½æ•°</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id15" class="md-nav__link">å†…ç½®å‡½æ•°</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#map" class="md-nav__link">map</a>
        </li>
        <li class="md-nav__item"><a href="#id16" class="md-nav__link">è§„çº¦å‡½æ•°</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id17" class="md-nav__link">è£…é¥°å™¨</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id18" class="md-nav__link">å‚æ•°åŒ–è£…é¥°å™¨</a>
        </li>
        <li class="md-nav__item"><a href="#id19" class="md-nav__link">ç°æœ‰çš„æœ‰ç”¨çš„è£…é¥°å™¨</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id20" class="md-nav__link">å‡½æ•°å¼ç¼–ç¨‹</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#class" class="md-nav__link">Class</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#none" class="md-nav__link">ç©º  <code class="docutils literal notranslate"><span class="pre">None</span></code></a>
        </li>
        <li class="md-nav__item"><a href="#id21" class="md-nav__link">åŸå­ä¸å¯å˜å¯¹è±¡</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#int-float" class="md-nav__link">æ•°å€¼  <code class="docutils literal notranslate"><span class="pre">int</span></code>  &  <code class="docutils literal notranslate"><span class="pre">float</span></code></a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id22" class="md-nav__link">åºåˆ—</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id23" class="md-nav__link">åºåˆ—æ“ä½œ</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#listcomps-genexps" class="md-nav__link">listcomps & genexps</a>
        </li>
        <li class="md-nav__item"><a href="#id24" class="md-nav__link">æ‹†åŒ…</a>
        </li>
        <li class="md-nav__item"><a href="#id25" class="md-nav__link">åˆ‡ç‰‡</a>
        </li>
        <li class="md-nav__item"><a href="#id26" class="md-nav__link">æ‹¼æ¥</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id27" class="md-nav__link">å¤åˆ¶åæ‹¼æ¥</a>
        </li>
        <li class="md-nav__item"><a href="#id28" class="md-nav__link">å°±åœ°åŠ ä¹˜</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id29" class="md-nav__link">æ’åº</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#list" class="md-nav__link">list</a>
        </li>
        <li class="md-nav__item"><a href="#tuple" class="md-nav__link">tuple</a>
        </li>
        <li class="md-nav__item"><a href="#namedtuple" class="md-nav__link">namedtuple</a>
        </li>
        <li class="md-nav__item"><a href="#array" class="md-nav__link">array æ•°ç»„</a>
        </li>
        <li class="md-nav__item"><a href="#memoryview" class="md-nav__link">memoryview å†…å­˜è§†å›¾</a>
        </li>
        <li class="md-nav__item"><a href="#deque" class="md-nav__link">deque åŒå‘é˜Ÿåˆ—</a>
        </li>
        <li class="md-nav__item"><a href="#bytes" class="md-nav__link">bytes å­—èŠ‚</a>
        </li>
        <li class="md-nav__item"><a href="#str" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">str</span></code></a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#support" class="md-nav__link">æ•£åˆ—è¡¨-support</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#dict" class="md-nav__link">dict</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#defaultdict" class="md-nav__link">defaultdict</a>
        </li>
        <li class="md-nav__item"><a href="#ordereddict" class="md-nav__link">OrderedDict</a>
        </li>
        <li class="md-nav__item"><a href="#chainmaps" class="md-nav__link">ChainMaps</a>
        </li>
        <li class="md-nav__item"><a href="#counter" class="md-nav__link">Counter</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id30" class="md-nav__link">ä¸å¯å˜çš„æ˜ å°„ç±»å‹</a>
        </li>
        <li class="md-nav__item"><a href="#set" class="md-nav__link">set</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#sparse-matrix" class="md-nav__link">sparse_matrix</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#scipy-sparse-coo-matrix" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">scipy.sparse.coo_matrix</span></code></a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id31" class="md-nav__link">å †</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#heapq-py" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">heapq.py</span></code>  å †é˜Ÿåˆ— = ä¼˜å…ˆé˜Ÿåˆ—ç®—æ³•</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#code" class="md-nav__link">code</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#basic-operaions" class="md-nav__link">Basic operaions</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#n" class="md-nav__link">æŸ¥æ‰¾æœ€å¤§æˆ–æœ€å°çš„ N ä¸ªå…ƒç´ </a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id32" class="md-nav__link">å¤æ‚å¯¹è±¡</a>
        </li>
        <li class="md-nav__item"><a href="#id33" class="md-nav__link">å…¶ä»–å¸¸ç”¨</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id34" class="md-nav__link">å¹¶è¡Œè¿­ä»£å¯¹è±¡</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id35" class="md-nav__link">åŸºæœ¬æ“ä½œ</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id36" class="md-nav__link">è¿ç®—ç¬¦</a>
        </li>
        <li class="md-nav__item"><a href="#iterator" class="md-nav__link">iterator è¿­ä»£å™¨</a>
        </li>
        <li class="md-nav__item"><a href="#itertools-module" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">itertools</span></code>  module</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id37" class="md-nav__link">å¾ªç¯</a>
        </li>
        <li class="md-nav__item"><a href="#cls" class="md-nav__link">ç±» cls</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id38" class="md-nav__link">åè®®</a>
        </li>
        <li class="md-nav__item"><a href="#id39" class="md-nav__link">å€Ÿå£</a>
        </li>
        <li class="md-nav__item"><a href="#id40" class="md-nav__link">ç»§æ‰¿ç±»</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id41" class="md-nav__link">å¯ç»§æ‰¿çš„ç±»</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#userdict" class="md-nav__link">UserDict</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id42" class="md-nav__link">é­”æ³•æ–¹æ³•</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#example" class="md-nav__link">Example</a>
        </li>
        <li class="md-nav__item"><a href="#init" class="md-nav__link">init</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id43" class="md-nav__link">ç§æœ‰å±æ€§</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#getitem" class="md-nav__link">getitem</a>
        </li>
        <li class="md-nav__item"><a href="#setitem" class="md-nav__link">setitem</a>
        </li>
        <li class="md-nav__item"><a href="#iterableobject" class="md-nav__link">IterableObject å¯è¿­ä»£å¯¹è±¡</a>
        </li>
        <li class="md-nav__item"><a href="#id44" class="md-nav__link">å­—ç¬¦ä¸²è¡¨ç°å½¢å¼</a>
        </li>
        <li class="md-nav__item"><a href="#id45" class="md-nav__link">é‡è½½è¿ç®—ç¬¦</a>
        </li>
        <li class="md-nav__item"><a href="#hash" class="md-nav__link">hash</a>
        </li>
        <li class="md-nav__item"><a href="#id46" class="md-nav__link">ä¸€äº›ä¼˜åŒ–</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id47" class="md-nav__link">é‡å†™</a>
        </li>
        <li class="md-nav__item"><a href="#id48" class="md-nav__link">ç”¨æˆ·äº¤äº’</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#input" class="md-nav__link">Input</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id49" class="md-nav__link">è¯»ç…§ç‰‡</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#output" class="md-nav__link">output  æ ¼å¼åŒ–è¾“å‡º</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id50" class="md-nav__link">è¯»å†™æ–‡ä»¶</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id51" class="md-nav__link">æ–‡ä»¶è·¯å¾„</a>
        </li>
        <li class="md-nav__item"><a href="#txt" class="md-nav__link">txt</a>
        </li>
        <li class="md-nav__item"><a href="#id52" class="md-nav__link">å¿«é€Ÿåºåˆ—</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#error" class="md-nav__link">Error</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id53" class="md-nav__link">å­—ç¬¦ä¸²ç›¸å…³</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="enhanced.html" class="md-nav__link">Enhanced Python</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="numpy.html" class="md-nav__link">Numpy & Scipy</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="pytorch.html" class="md-nav__link">pytorch</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="exam.html" class="md-nav__link">ç¬”é¢</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="plot.html" class="md-nav__link">Plot</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="trans.html" class="md-nav__link">äº¤å‰</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="pandas.html" class="md-nav__link">pandas</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../SQL/index.html" class="md-nav__link">SQL</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../utils/index.html" class="md-nav__link">utils</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../frontend/index.html" class="md-nav__link">frontend</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#python-elegant--page-root" class="md-nav__link">Elegant Python</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id1" class="md-nav__link">å¯¹è±¡</a>
        </li>
        <li class="md-nav__item"><a href="#some" class="md-nav__link">Some</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#path" class="md-nav__link">ç¯å¢ƒå˜é‡ ç³»ç»Ÿè·¯å¾„ PATH</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id2" class="md-nav__link">å¯¹è±¡å¼•ç”¨æœºåˆ¶</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#is" class="md-nav__link">is & == æ ‡è¯† & ç›¸ç­‰æ€§</a>
        </li>
        <li class="md-nav__item"><a href="#id3" class="md-nav__link">å†…å­˜ç®¡ç†</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id4" class="md-nav__link">æ ˆåŒºå’Œå †åŒº</a>
        </li>
        <li class="md-nav__item"><a href="#id5" class="md-nav__link">åƒåœ¾å›æ”¶æœºåˆ¶</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id6" class="md-nav__link">ä¸å˜ & å¯å˜</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id7" class="md-nav__link">æ·±æµ…æ‹·è´</a>
        </li>
        <li class="md-nav__item"><a href="#id8" class="md-nav__link">æ•´æ•°æ± </a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#general" class="md-nav__link">General</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#convention" class="md-nav__link">convention</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#naming-conventions" class="md-nav__link">naming conventions</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id9" class="md-nav__link">å‡½æ•°</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id10" class="md-nav__link">å‚æ•°ä¼ é€’</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id11" class="md-nav__link">å…±äº«ä¼ å‚</a>
        </li>
        <li class="md-nav__item"><a href="#args-kwargs" class="md-nav__link">args & kwargs</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id12" class="md-nav__link">å˜é‡ä½œç”¨åŸŸ</a>
        </li>
        <li class="md-nav__item"><a href="#id13" class="md-nav__link">å‡½æ•°åˆ†ç±»</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id14" class="md-nav__link">ç”¨æˆ·å®šä¹‰çš„å‡½æ•°</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#lambda" class="md-nav__link">lambda åŒ¿åå‡½æ•°</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id15" class="md-nav__link">å†…ç½®å‡½æ•°</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#map" class="md-nav__link">map</a>
        </li>
        <li class="md-nav__item"><a href="#id16" class="md-nav__link">è§„çº¦å‡½æ•°</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id17" class="md-nav__link">è£…é¥°å™¨</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id18" class="md-nav__link">å‚æ•°åŒ–è£…é¥°å™¨</a>
        </li>
        <li class="md-nav__item"><a href="#id19" class="md-nav__link">ç°æœ‰çš„æœ‰ç”¨çš„è£…é¥°å™¨</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id20" class="md-nav__link">å‡½æ•°å¼ç¼–ç¨‹</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#class" class="md-nav__link">Class</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#none" class="md-nav__link">ç©º  <code class="docutils literal notranslate"><span class="pre">None</span></code></a>
        </li>
        <li class="md-nav__item"><a href="#id21" class="md-nav__link">åŸå­ä¸å¯å˜å¯¹è±¡</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#int-float" class="md-nav__link">æ•°å€¼  <code class="docutils literal notranslate"><span class="pre">int</span></code>  &  <code class="docutils literal notranslate"><span class="pre">float</span></code></a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id22" class="md-nav__link">åºåˆ—</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id23" class="md-nav__link">åºåˆ—æ“ä½œ</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#listcomps-genexps" class="md-nav__link">listcomps & genexps</a>
        </li>
        <li class="md-nav__item"><a href="#id24" class="md-nav__link">æ‹†åŒ…</a>
        </li>
        <li class="md-nav__item"><a href="#id25" class="md-nav__link">åˆ‡ç‰‡</a>
        </li>
        <li class="md-nav__item"><a href="#id26" class="md-nav__link">æ‹¼æ¥</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id27" class="md-nav__link">å¤åˆ¶åæ‹¼æ¥</a>
        </li>
        <li class="md-nav__item"><a href="#id28" class="md-nav__link">å°±åœ°åŠ ä¹˜</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id29" class="md-nav__link">æ’åº</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#list" class="md-nav__link">list</a>
        </li>
        <li class="md-nav__item"><a href="#tuple" class="md-nav__link">tuple</a>
        </li>
        <li class="md-nav__item"><a href="#namedtuple" class="md-nav__link">namedtuple</a>
        </li>
        <li class="md-nav__item"><a href="#array" class="md-nav__link">array æ•°ç»„</a>
        </li>
        <li class="md-nav__item"><a href="#memoryview" class="md-nav__link">memoryview å†…å­˜è§†å›¾</a>
        </li>
        <li class="md-nav__item"><a href="#deque" class="md-nav__link">deque åŒå‘é˜Ÿåˆ—</a>
        </li>
        <li class="md-nav__item"><a href="#bytes" class="md-nav__link">bytes å­—èŠ‚</a>
        </li>
        <li class="md-nav__item"><a href="#str" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">str</span></code></a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#support" class="md-nav__link">æ•£åˆ—è¡¨-support</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#dict" class="md-nav__link">dict</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#defaultdict" class="md-nav__link">defaultdict</a>
        </li>
        <li class="md-nav__item"><a href="#ordereddict" class="md-nav__link">OrderedDict</a>
        </li>
        <li class="md-nav__item"><a href="#chainmaps" class="md-nav__link">ChainMaps</a>
        </li>
        <li class="md-nav__item"><a href="#counter" class="md-nav__link">Counter</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id30" class="md-nav__link">ä¸å¯å˜çš„æ˜ å°„ç±»å‹</a>
        </li>
        <li class="md-nav__item"><a href="#set" class="md-nav__link">set</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#sparse-matrix" class="md-nav__link">sparse_matrix</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#scipy-sparse-coo-matrix" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">scipy.sparse.coo_matrix</span></code></a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id31" class="md-nav__link">å †</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#heapq-py" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">heapq.py</span></code>  å †é˜Ÿåˆ— = ä¼˜å…ˆé˜Ÿåˆ—ç®—æ³•</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#code" class="md-nav__link">code</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#basic-operaions" class="md-nav__link">Basic operaions</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#n" class="md-nav__link">æŸ¥æ‰¾æœ€å¤§æˆ–æœ€å°çš„ N ä¸ªå…ƒç´ </a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id32" class="md-nav__link">å¤æ‚å¯¹è±¡</a>
        </li>
        <li class="md-nav__item"><a href="#id33" class="md-nav__link">å…¶ä»–å¸¸ç”¨</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id34" class="md-nav__link">å¹¶è¡Œè¿­ä»£å¯¹è±¡</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id35" class="md-nav__link">åŸºæœ¬æ“ä½œ</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id36" class="md-nav__link">è¿ç®—ç¬¦</a>
        </li>
        <li class="md-nav__item"><a href="#iterator" class="md-nav__link">iterator è¿­ä»£å™¨</a>
        </li>
        <li class="md-nav__item"><a href="#itertools-module" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">itertools</span></code>  module</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id37" class="md-nav__link">å¾ªç¯</a>
        </li>
        <li class="md-nav__item"><a href="#cls" class="md-nav__link">ç±» cls</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id38" class="md-nav__link">åè®®</a>
        </li>
        <li class="md-nav__item"><a href="#id39" class="md-nav__link">å€Ÿå£</a>
        </li>
        <li class="md-nav__item"><a href="#id40" class="md-nav__link">ç»§æ‰¿ç±»</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id41" class="md-nav__link">å¯ç»§æ‰¿çš„ç±»</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#userdict" class="md-nav__link">UserDict</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id42" class="md-nav__link">é­”æ³•æ–¹æ³•</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#example" class="md-nav__link">Example</a>
        </li>
        <li class="md-nav__item"><a href="#init" class="md-nav__link">init</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id43" class="md-nav__link">ç§æœ‰å±æ€§</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#getitem" class="md-nav__link">getitem</a>
        </li>
        <li class="md-nav__item"><a href="#setitem" class="md-nav__link">setitem</a>
        </li>
        <li class="md-nav__item"><a href="#iterableobject" class="md-nav__link">IterableObject å¯è¿­ä»£å¯¹è±¡</a>
        </li>
        <li class="md-nav__item"><a href="#id44" class="md-nav__link">å­—ç¬¦ä¸²è¡¨ç°å½¢å¼</a>
        </li>
        <li class="md-nav__item"><a href="#id45" class="md-nav__link">é‡è½½è¿ç®—ç¬¦</a>
        </li>
        <li class="md-nav__item"><a href="#hash" class="md-nav__link">hash</a>
        </li>
        <li class="md-nav__item"><a href="#id46" class="md-nav__link">ä¸€äº›ä¼˜åŒ–</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id47" class="md-nav__link">é‡å†™</a>
        </li>
        <li class="md-nav__item"><a href="#id48" class="md-nav__link">ç”¨æˆ·äº¤äº’</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#input" class="md-nav__link">Input</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id49" class="md-nav__link">è¯»ç…§ç‰‡</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#output" class="md-nav__link">output  æ ¼å¼åŒ–è¾“å‡º</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#id50" class="md-nav__link">è¯»å†™æ–‡ä»¶</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id51" class="md-nav__link">æ–‡ä»¶è·¯å¾„</a>
        </li>
        <li class="md-nav__item"><a href="#txt" class="md-nav__link">txt</a>
        </li>
        <li class="md-nav__item"><a href="#id52" class="md-nav__link">å¿«é€Ÿåºåˆ—</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#error" class="md-nav__link">Error</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id53" class="md-nav__link">å­—ç¬¦ä¸²ç›¸å…³</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="elegant-python">
<h1 id="python-elegant--page-root">Elegant Python<a class="headerlink" href="#python-elegant--page-root" title="Link to this heading">Â¶</a></h1>
<div class="admonition- admonition hint">
<p class="admonition-title">è¿­ä»£å™¨ &amp; ç”Ÿæˆå™¨ åŒºåˆ« å“ªä¸ªæ›´å¥½â€</p>
</div>
<ul class="simple">
<li><dl class="simple">
<dt><strong>python ç¨‹åºè¿è¡Œ</strong>ï¼Œ <code class="docutils literal notranslate"><span class="pre">python.exe</span> <span class="pre">xxx.py</span></code>  å®è´¨ä¸Šæ˜¯ä½¿ç”¨&lt;kbd&gt;python.exe&lt;/kbd&gt; è§£é‡Šæ‰€å†™çš„ &lt;kbd&gt;.pyæ–‡ä»¶&lt;/kbd&gt; é‡Œçš„ä»£ç ï¼Œæ•ˆç‡å¾ˆå¤§ç¨‹åº¦ä¾èµ– exe è§£é‡Šå™¨çš„æ•ˆç‡ã€‚</dt><dd><ol class="arabic simple">
<li><p>&lt;kbd&gt;python.exe&lt;/kbd&gt;  å¯åŠ¨</p></li>
<li><p>&lt;kbd&gt;python.exe&lt;/kbd&gt; æŠŠ&lt;kbd&gt;.pyæ–‡ä»¶&lt;/kbd&gt; é‡Œçš„ä»£ç å½“ä½œæ™®é€šæ–‡æœ¬å†…å®¹ç”±ç¡¬ç›˜è¯»å…¥å†…å­˜ã€‚ï¼ˆæœ¬è´¨ä¸Šæ˜¯å‘æ“ä½œç³»ç»Ÿå‘èµ·ç³»ç»Ÿè°ƒç”¨ï¼Œæ§åˆ¶ç¡¬ä»¶å®Œæˆè¯»å–ã€‚ï¼‰</p></li>
<li><p>&lt;kbd&gt;python.exe&lt;/kbd&gt; è¯†åˆ« python è¯­æ³•ï¼Œæ‰§è¡Œè¯»å…¥å†…å­˜çš„ä»£ç ã€‚</p></li>
</ol>
</dd>
</dl>
</li>
</ul>
<p><span class="defi">PyObject</span> . å†…å­˜ä¸­é•¿åº¦å¯å˜çš„å†…ç½®å¯¹è±¡çš„ C è¯­è¨€ç»“æ„ä½“ã€‚</p>
<p>[æå‡pythonæ‰§è¡Œæ•ˆç‡çš„è‹¥å¹²æ–¹æ³•]</p>
<p>ä¸€å¼€å§‹åº”è®©ä»£ç ç»“æ„å°½å¯èƒ½ç®€å•ã€‚å…ˆå°½å¯èƒ½åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å®Œæˆæ‰€æœ‰çš„å·¥ä½œï¼Œç¡®å®šä¸€åˆ‡éƒ½èƒ½æ­£ç¡®è¿è¡Œåï¼Œå†å°†ç±»ç§»åˆ°ç‹¬ç«‹çš„æ¨¡å—ä¸­ã€‚å…ˆæ‰¾å‡ºè®©ä½ èƒ½å¤Ÿç¼–å†™å‡ºå¯è¡Œä»£ç çš„æ–¹å¼ï¼Œå†å°è¯•è®©ä»£ç æ›´ä¸ºç»„ç»‡æœ‰åºã€‚
éƒ½åº”ç´§è·Ÿåœ¨ç±»å®šä¹‰åé¢åŒ…å«ä¸€ä¸ªæ–‡æ¡£å­—ç¬¦ä¸²ã€‚è¿™ç§æ–‡æ¡£å­—ç¬¦ä¸²ç®€è¦åœ°æè¿°ç±»çš„åŠŸèƒ½ï¼Œå¹¶éµå¾ªç¼–å†™å‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²æ—¶é‡‡ç”¨çš„æ ¼å¼çº¦å®šã€‚</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
<span class="linenos">2</span><span class="n">c</span> <span class="o">=</span> <span class="s1">'a'</span>
<span class="linenos">3</span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="linenos">4</span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="linenos">5</span><span class="n">s</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">,</span> <span class="mi">1</span><span class="p">}</span>
<span class="linenos">6</span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">:</span><span class="s1">'A'</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="s1">'one'</span><span class="p">}</span>
</pre></div>
</div>
<section id="id1">
<h2 id="id1">å¯¹è±¡<a class="headerlink" href="#id1" title="Link to this heading">Â¶</a></h2>
<div class="admonition- admonition note">
<p class="admonition-title">ä¸‡ç‰©çš†å¯å¯¹è±¡</p>
<p>ä¸€èˆ¬å¯¹è±¡ &amp; å‡½æ•°å¯¹è±¡</p>
</div>
<div class="line-block">
<div class="line">ğŸ“• å±æ€§</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">__doc__</span></code>  ç”Ÿæˆå¯¹è±¡çš„å¸®åŠ©æ–‡æœ¬</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">__dict__</span></code>  å‚¨å­˜ç”¨æˆ·å±æ€§</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">dir(obj)</span></code>  æŸ¥çœ‹å¯¹è±¡å±æ€§</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">callable(obj)</span></code>  æŸ¥çœ‹å¯¹è±¡æ˜¯å¦å¯è°ƒç”¨</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">C</span><span class="p">:</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>  <span class="c1"># ä¸€èˆ¬å¯¹è±¡</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">():</span> <span class="k">pass</span>  <span class="c1"># å‡½æ•°å¯¹è±¡</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">func</span><span class="p">))</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">obj</span><span class="p">)))</span>
<span class="go">['__annotations__', '__builtins__', '__call__', '__closure__',</span>
<span class="go">'__code__', '__defaults__', '__get__', '__globals__',</span>
<span class="go">'__kwdefaults__', '__name__', '__qualname__']</span>
</pre></div>
</div>
<p><span class="defi">å¯è°ƒç”¨å¯¹è±¡</span> ã€‚å¯ä½¿ç”¨ <span class="defi">è°ƒç”¨è¿ç®—ç¬¦</span> <code class="docutils literal notranslate"><span class="pre">()</span></code>  çš„å¯¹è±¡ã€‚å¯ç”¨  <code class="docutils literal notranslate"><span class="pre">callable(obj)</span></code>  è¿›è¡Œåˆ¤æ–­ã€‚</p>
<ul class="simple">
<li><p>ç”¨æˆ·å®šä¹‰ï¼š ç”¨  <code class="docutils literal notranslate"><span class="pre">def</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">lambda</span></code>  åˆ›å»ºçš„</p></li>
<li><p>å†…ç½®å‡½æ•°ï¼š <code class="docutils literal notranslate"><span class="pre">map</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">filter</span></code>  â€¦</p></li>
<li><p>å†…ç½®æ–¹æ³•ï¼š  <code class="docutils literal notranslate"><span class="pre">dict.get</span></code></p></li>
<li><p>æ–¹æ³•ï¼šåœ¨ç±»çš„å®šä¹‰ä½“ä¸­å®šä¹‰çš„å‡½æ•°</p></li>
<li><p>ç±»ï¼šè°ƒç”¨æ˜¯ä¼šè¿è¡Œ  <code class="docutils literal notranslate"><span class="pre">__new__</span></code>  åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œç„¶åè¿è¡Œ  <code class="docutils literal notranslate"><span class="pre">__init__</span></code>  åˆå§‹åŒ–å®ä¾‹ï¼Œç„¶åè¿”å›å®ä¾‹</p></li>
<li><p>ç±»çš„å®ä¾‹ï¼šå¦‚æœå®šä¹‰äº†  <code class="docutils literal notranslate"><span class="pre">__call__</span></code>  æ–¹æ³•</p></li>
<li><p>ç”Ÿæˆå™¨å‡½æ•°ï¼šä½¿ç”¨  <code class="docutils literal notranslate"><span class="pre">yield</span></code>  çš„ å‡½æ•°æˆ–æ–¹æ³•</p></li>
</ul>
</section>
<section id="some">
<h2 id="some">Some<a class="headerlink" href="#some" title="Link to this heading">Â¶</a></h2>
<section id="path">
<h3 id="path">ç¯å¢ƒå˜é‡ ç³»ç»Ÿè·¯å¾„ PATH<a class="headerlink" href="#path" title="Link to this heading">Â¶</a></h3>
<p>python ä¼šåœ¨ç³»ç»Ÿè·¯å¾„ä¸­æ‰¾å¯»æ‰€éœ€è¦çš„åŒ…</p>
<p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">sys</span></code></p>
<table>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>meth</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>æŸ¥çœ‹å½“å‰ç³»ç»Ÿè·¯å¾„</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">print(sys.path)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>åŠ å…¥ç³»ç»Ÿè·¯å¾„</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sys.path.append(new_path)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>æŸ¥çœ‹ç¯å¢ƒå˜é‡</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">os.getenv(key)</span></code></p></td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">'HANLP_HOME'</span><span class="p">)</span>  <span class="c1"># ä¸ºç©ºå°±æ˜¯ç³»ç»Ÿæ²¡æœ‰å‚¨å­˜HANLP_HOMEçš„ç¯å¢ƒå˜é‡</span>
</pre></div>
</div>
</section>
</section>
<section id="id2">
<h2 id="id2">å¯¹è±¡å¼•ç”¨æœºåˆ¶<a class="headerlink" href="#id2" title="Link to this heading">Â¶</a></h2>
<div class="admonition- admonition danger">
<p class="admonition-title">å˜é‡æ˜¯âœ…è´´åœ¨å¯¹è±¡ä¸Šçš„æ ‡æ³¨ï¼Œè€Œä¸æ˜¯âŒæ‰¿è½½å¯¹è±¡çš„ç›’å­ã€‚</p>
<div class="line-block">
<div class="line"><span class="defi">èµ‹å€¼</span> ã€‚æ˜¯æŠŠå˜é‡åˆ†é…ç»™å¯¹è±¡ã€‚å¯¹è±¡åœ¨èµ‹å€¼ä¹‹å‰å°±å·²ç»åˆ›å»ºã€‚</div>
<div class="line">èµ‹å€¼è¯­å¥ ä»å³åˆ°å·¦æ‰§è¡Œã€‚</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="s1">'obj'</span>  <span class="c1"># å…ˆåˆ›å»º obj å¯¹è±¡ï¼Œå†æŠŠ var ç»‘å®šç»™ obj (è´´ç»™ obj ä¸Š)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># é“¾å¼èµ‹å€¼</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span>  <span class="c1"># äº¤å‰èµ‹å€¼</span>
<span class="go"># è§£å‹èµ‹å€¼</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="n">nums</span>
<span class="go">a=1, e=4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">nums</span>
<span class="go">a=1, c=3</span>
</pre></div>
</div>
</div>
<img alt="../_images/assign_2.png" src="../_images/assign_2.png"/>
<img alt="../_images/assign_1.png" src="../_images/assign_1.png"/>
<p>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰æ ‡è¯†ã€ç±»å‹ã€å€¼ã€‚å¯¹è±¡ä¸€æ—¦åˆ›å»ºï¼Œ <strong>æ ‡è¯†</strong> ç»ä¸ä¼šå˜ã€‚å¯ä»¥å°†æ ‡è¯†ç†è§£ä¸ºå¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€ã€‚  <code class="docutils literal notranslate"><span class="pre">id(var)</span></code>  è¿”å›å˜é‡æ‰€å¼•ç”¨çš„ <strong>å¯¹è±¡æ ‡è¯†</strong> çš„æ•´æ•°è¡¨ç¤ºã€‚</p>
<section id="is">
<h3 id="is">is &amp; == æ ‡è¯† &amp; ç›¸ç­‰æ€§<a class="headerlink" href="#is" title="Link to this heading">Â¶</a></h3>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column sd-col-5 sd-col-xs-5 sd-col-sm-5 sd-col-md-5 sd-col-lg-5 docutils">
<img alt="../_images/memory_31.png" src="../_images/memory_31.png"/>
</div>
<div class="sd-col sd-d-flex-column sd-col-7 sd-col-xs-7 sd-col-sm-7 sd-col-md-7 sd-col-lg-7 docutils">
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span><span class="s1">'Lily'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span><span class="s1">'F'</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var2</span> <span class="o">=</span> <span class="n">var1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var3</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span><span class="s1">'Lily'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span><span class="s1">'F'</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="ow">is</span> <span class="n">var2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="ow">is</span> <span class="n">var3</span>  <span class="c1"># id æ˜¯å”¯ä¸€çš„æ ‡è¯†</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="o">==</span> <span class="n">var3</span>  <span class="c1"># å†…å®¹ç›¸åŒ</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">==</span> <span class="pre">B</span></code>  å¯¹è±¡å†…å®¹ â†”ï¸  <code class="docutils literal notranslate"><span class="pre">__eq__</span></code>  ã€ç›¸ç­‰ã€‘</div>
<div class="line">é€šå¸¸æˆ‘ä»¬å…³æ³¨çš„æ˜¯å€¼ã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">is</span> <span class="pre">B</span></code>  idåœ°å€ æ˜¯å¦åŒä¸€ä¸ªå¯¹è±¡å¼•ç”¨ã€‚ã€æ ‡è¯†ã€‘</div>
<div class="line">ç»å¸¸ç”¨æ¥ç¡®å®šæ˜¯ä¸æ˜¯  <code class="docutils literal notranslate"><span class="pre">None</span></code> :  <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">None</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">not</span> <span class="pre">None</span></code></div>
</div>
<div class="admonition-is admonition note">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">is</span></code>  é€šå¸¸æ¯”  <code class="docutils literal notranslate"><span class="pre">==</span></code>  å¿«ã€‚</p>
<p>å› ä¸º  <code class="docutils literal notranslate"><span class="pre">is</span></code>  ä¸èƒ½é‡è½½ï¼Œæ‰€ä»¥ python ä¸éœ€è¦å¯»æ‰¾å’Œè°ƒç”¨ç‰¹æ®Šæ–¹æ³•ï¼Œè€Œæ˜¯ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªæ•´æ•°IDã€‚ <code class="docutils literal notranslate"><span class="pre">==</span></code>  æŒ‚é’©çš„æ˜¯  <code class="docutils literal notranslate"><span class="pre">__eq__</span></code>  èƒ½é‡è½½ï¼Œè€ƒè™‘æ›´æœ‰å®é™…æ„ä¹‰çš„æ¯”è¾ƒï¼Œç›¸æ¯”äºç›´æ¥ç»§æ‰¿  <code class="docutils literal notranslate"><span class="pre">object</span></code>  çš„ ç›´æ¥æ¯”è¾ƒIDçš„  <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> ï¼Œå¤§å¤šæ•°ç±»é‡è½½äº†  <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> ï¼Œè®¾è®¡åˆ°å¯¹è±¡çš„ç±»å‹ã€å±æ€§ã€å¯èƒ½å¤æ‚åµŒå¥—æ¶æ„çš„å€¼ã€‚éœ€è¦å¤šç§æ¯”è¾ƒã€‚</p>
</div>
<div class="admonition-is-syntaxwarning admonition danger">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">is</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">==</span></code>  SyntaxWarning</p>
<p>ä»python 3.8 å¼€å§‹ï¼Œä½¿ç”¨ is å’Œ is not è¿ç®—ç¬¦æ—¶ï¼Œä¼šæŠ›å‡º  <code class="docutils literal notranslate"><span class="pre">SyntaxWarning</span></code>  è¯­å¥è­¦å‘Šä¿¡æ¯ã€‚è§£å†³æ–¹æ³•ï¼šå»ºè®®å°†å¯¹åº”è¯­å¥ä¸­ is/is not ç”¨ == å’Œ != ä»£æ›¿</p>
</div>
</section>
<section id="id3">
<h3 id="id3">å†…å­˜ç®¡ç†<a class="headerlink" href="#id3" title="Link to this heading">Â¶</a></h3>
<section id="id4">
<h4 id="id4">æ ˆåŒºå’Œå †åŒº<a class="headerlink" href="#id4" title="Link to this heading">Â¶</a></h4>
<div class="line-block">
<div class="line"><strong>æ ˆåŒº</strong>ï¼šå­˜æ”¾çš„æ˜¯å˜é‡åäºå†…å­˜åœ°å€çš„å¯¹åº”å…³ç³»ï¼Œç®€å•ç†è§£æ˜¯å˜é‡åå­˜å†…å­˜åœ°å€</div>
<div class="line"><strong>å †åŒº</strong>ï¼šå­˜æ”¾çš„æ˜¯å˜é‡å€¼ã€‚</div>
<div class="line"><strong>ç›´æ¥å¼•ç”¨</strong>ï¼šç›´æ¥ä»&lt;u&gt;æ ˆåŒºæ‰¾åˆ°å †åŒº&lt;/u&gt;çš„å…³ç³»æ˜¯å¯¹å˜é‡å€¼çš„ç›´æ¥å¼•ç”¨</div>
<div class="line"><strong>é—´æ¥å¼•ç”¨</strong>ï¼šåœ¨&lt;u&gt;å †åŒºå†…æ‰¾åˆ°å †åŒº&lt;/u&gt;çš„å…³ç³»æ˜¯å¯¹å˜é‡å€¼çš„é—´æ¥å¼•ç”¨</div>
</div>
<div class="admonition-defi-defi admonition warning">
<p class="admonition-title">å˜é‡åçš„èµ‹å€¼ã€å˜é‡åçš„ä¼ å‚ï¼Œä¼ é€’éƒ½æ˜¯ <span class="defi">æ ˆåŒº</span> çš„æ•°æ®ï¼Œè€Œä¸”æ ˆçš„æ•°æ®æ˜¯ <span class="defi">å˜é‡åä¸å†…å­˜åœ°å€çš„å¯¹åº”å…³ç³»</span> ï¼Œæ˜¯å¯¹å˜é‡å€¼çš„å¼•ç”¨</p>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
<span class="go">lst = [1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span>
<span class="go">lst = [1, 2, 2]</span>
</pre></div>
</div>
</section>
<section id="id5">
<h4 id="id5">åƒåœ¾å›æ”¶æœºåˆ¶<a class="headerlink" href="#id5" title="Link to this heading">Â¶</a></h4>
<p><span class="defi">åƒåœ¾å˜é‡</span> ï¼Œ å½“ä¸€ä¸ªå€¼ <strong>æ²¡æœ‰ä»»ä½•å˜é‡åå’Œå®ƒè¿›è¡Œæ†ç»‘</strong> ï¼Œè¯¥å˜é‡å€¼å°±ä¼šæ— æ³•è¢«è®¿é—®åˆ°ï¼Œæ¶‰åŠåˆ° <strong>å¼•ç”¨è®¡æ•°</strong> çš„ç®—æ³•</p>
<div class="admonition-del-x admonition danger">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">x</span></code>  çš„ç†è§£</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column sd-col-4 sd-col-xs-4 sd-col-sm-4 sd-col-md-4 sd-col-lg-4 docutils">
<div class="line-block">
<div class="line">è§£é™¤äº† x å’Œå®ƒæ‰€æŒ‡å‘å¯¹è±¡IDä¸º*çš„ obj çš„ç»‘å®šå…³ç³»</div>
<div class="line">IDä¸º* çš„ obj çš„å¼•ç”¨è®¡æ•° -1</div>
</div>
</div>
<div class="sd-col sd-d-flex-column sd-col-8 sd-col-xs-8 sd-col-sm-8 sd-col-md-8 sd-col-lg-8 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">-</span><span class="n">value</span>
<span class="c1"># ç”Ÿæˆ x-value çš„ IDä¸º* çš„ objï¼Œ</span>
<span class="c1"># æŠŠ x å˜é‡åè´´åˆ° IDä¸º* çš„ obj</span>
<span class="k">del</span> <span class="n">x</span>  <span class="c1"># è§£é™¤</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="line-block">
<div class="line"><span class="defi">å¼•ç”¨è®¡æ•°ã€æ ‡è®°æ¸…æ¥šã€åˆ†ä»£å›æ”¶</span></div>
<div class="line"><strong>å¼•ç”¨è®¡æ•°</strong>ï¼Œå˜é‡å€¼è¢«å¼•ç”¨(æŒ‡å‘)çš„æ•°é‡ï¼Œä¸€æ—¦æ²¡æœ‰å¼•ç”¨å…³ç³»(ç®­å¤´æŒ‡å‘)ï¼Œå¼•ç”¨è®¡æ•°=0ï¼Œå°±å½“æˆéœ€è¦å›æ”¶çš„&lt;u&gt;åƒåœ¾&lt;/u&gt;ã€‚åƒåœ¾å¯¹è±¡ä¼šè¢«é”€æ¯ï¼Œé‡Šæ”¾è¢«åˆ†é…çš„å†…å­˜</div>
<div class="line"><strong>æ ‡è®°æ¸…é™¤</strong>ï¼Œå› ä¸ºé—´æ¥å¼•ç”¨æœ‰å¯èƒ½é€ æˆ&lt;u&gt;å¾ªç¯å¼•ç”¨&lt;/u&gt;ï¼Œå¯¼è‡´å¼•ç”¨è®¡æ•°ä¸å¯èƒ½ä¸º0ï¼Œä»¥è‡³äºå˜é‡å€¼æ°¸è¿œä¸å¯èƒ½è¢«åˆ é™¤ã€‚æ‰€ä»¥å¼•å…¥æ ‡è®°æ¸…é™¤ï¼Œå°†æ‰€æœ‰å˜é‡å€¼è¿›è¡Œæ‰«æï¼Œè‹¥å­˜åœ¨æ— æ³•ä»æ ˆåŒºè®¿è¾¾çš„å˜é‡å€¼ï¼Œåˆ™è¯æ˜æ˜¯&lt;u&gt;æ— ç›´æ¥å¼•ç”¨ï¼Œçº¯é—´æ¥å¼•ç”¨çš„åƒåœ¾&lt;/u&gt;</div>
<div class="line"><strong>åˆ†ä»£å›æ”¶</strong>ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œä¸ä¼šæ¯æ—¶æ¯åˆ»åœ°å»æ‰«æå…¨éƒ¨å˜é‡å€¼ï¼Œè€Œæ˜¯å°†å˜é‡å€¼åˆ†ç±»ï¼Œä»¥ä¸åŒçš„é¢‘ç‡å»æ‰«æå½’å±ä¸åŒç±»åˆ«çš„å˜é‡ã€‚åˆšåˆšæ–°å»ºçš„å˜é‡å±äº <strong>æ–°ç”Ÿä»£</strong> çš„å˜é‡ï¼Œæœ‰å¯èƒ½ç”¨å®Œå³å¼ƒï¼Œæ‰€ä»¥æ‰«æé¢‘ç‡ä¼šé«˜ä¸€ç‚¹ï¼›è¢«å¼•ç”¨è¿‡å¾ˆå¤šæ¬¡çš„å˜é‡å±äº <strong>æˆç†Ÿå˜é‡</strong>ï¼Œå¯èƒ½å±äºä¸€ç›´éƒ½è¦ç”¨çš„é‡è¦å˜é‡ï¼Œæ‰€ä»¥æ‰«æé¢‘ç‡ä¼šä½ä¸€äº›ã€‚</div>
</div>
<div class="mermaid">
            flowchart
subgraph å †åŒº
A -.- B
B -.- A
end
subgraph æ ˆåŒº
None
end
        </div></section>
</section>
<section id="id6">
<h3 id="id6">ä¸å˜ &amp; å¯å˜<a class="headerlink" href="#id6" title="Link to this heading">Â¶</a></h3>
<div class="line-block">
<div class="line"><span class="defi">ä¸å¯å˜</span> ã€‚æ•°æ®ç»“æ„çš„ç‰©ç†å†…å®¹(å³&lt;u&gt;å…ƒç´ ä¿å­˜çš„å¼•ç”¨ item obj çš„æ ‡è¯†&lt;/u&gt;)ä¸å¯å˜ï¼Œä¸ item obj çš„å†…å®¹æ— å…³ã€‚</div>
<div class="line">ä¸å¯å˜ç±»å‹ï¼Œä¸èƒ½è¿›è¡Œ item assignmentã€‚èµ‹å€¼ä¼šæ”¹å˜å…ƒç´ çš„ IDã€‚</div>
<div class="line">ä¸å¯å˜ç±»å‹ï¼Œä¸€æ—¦å†…å®¹æ”¹å˜ï¼Œç™¾åˆ†ä¹‹ç™¾æ˜¯æŒ‡å‘äº†æ–°çš„å†…å®¹ï¼Œå¼•ç”¨çš„IDå·²ç»æ”¹å˜ã€‚</div>
</div>
<p>tuple æ˜¯ä¸å¯å˜çš„ï¼Œåªæ˜¯è¯´ æ¯ä¸ªå…ƒç´ å¼•ç”¨çš„ ID ä¸å¯å˜ï¼Œå…ƒç´ å¯èƒ½å¼•ç”¨çš„æ˜¯å¯å˜ç±»å‹çš„å¯¹è±¡ã€‚å¦‚æœå°±åœ°ä¿®æ”¹ï¼Œå…ƒç´ å¼•ç”¨çš„IDä¸å˜ï¼Œå…ƒç´ å¼•ç”¨çš„å†…å®¹å‘ç”Ÿæ”¹å˜ã€‚ä¹Ÿä¸ä¼šäº§ç”Ÿ Errorã€‚</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
<span class="go">[4309582064, 4312627712]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
<span class="go">[4309582064, 4312627712]  # id ä¸å˜</span>
<span class="go">a = (1, [1, 2, 3])  # å†…å®¹å˜</span>
</pre></div>
</div>
<div class="admonition-defi admonition warning">
<p class="admonition-title">å˜é‡åçš„èµ‹å€¼ã€å˜é‡åçš„ä¼ å‚ï¼Œä¼ é€’éƒ½æ˜¯ <span class="defi">æ ˆåŒº</span> çš„æ•°æ®</p>
<p>èµ‹å€¼å°±æ˜¯å°†ä¸€ä¸ª&lt;u&gt;æ—§çš„å˜é‡å&lt;/u&gt;å’Œ
- &lt;u&gt;æ—§å€¼çš„åœ°å€&lt;/u&gt;è§£ç»‘å…³ç³»
- &lt;u&gt;æ–°å€¼çš„åœ°å€&lt;/u&gt;ç»‘å®šå…³ç³»</p>
<div class="admonition-a admonition hint">
<p class="admonition-title">å¯¹äºaé‡æ–°èµ‹å€¼</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column sd-col-5 sd-col-xs-5 sd-col-sm-5 sd-col-md-5 sd-col-lg-5 docutils">
<ul class="simple">
<li><p>ä¸ 4çš„åœ°å€ è§£ç»‘å…³ç³»</p></li>
<li><p>ä¸ 5çš„åœ°å€ ç»‘å®šå…³ç³»</p></li>
</ul>
</div>
<div class="sd-col sd-d-flex-column sd-col-7 sd-col-xs-7 sd-col-sm-7 sd-col-md-7 sd-col-lg-7 docutils">
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">4</span>
<span class="go">id(a) = 4373905744</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="go">id(a) = 4373905776</span>
<span class="go">id(4) = 4373905744</span>
<span class="go">id(5) = 4373905776</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="admonition-lst admonition hint">
<p class="admonition-title">å¯¹äºlsté‡æ–°èµ‹å€¼</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column sd-col-5 sd-col-xs-5 sd-col-sm-5 sd-col-md-5 sd-col-lg-5 docutils">
<ul class="simple">
<li><p>è§£ç»‘å…³ç³»</p></li>
<li><p>ç»‘å®šå…³ç³»</p></li>
</ul>
</div>
<div class="sd-col sd-d-flex-column sd-col-7 sd-col-xs-7 sd-col-sm-7 sd-col-md-7 sd-col-lg-7 docutils">
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="go">id(lst) = 4376984512</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="go">id(lst) = 4376922944</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="admonition-lst-item-assignment admonition hint">
<p class="admonition-title">å¯¹äºlst çš„ item assignmentã€å¯å˜ã€‘</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column sd-col-5 sd-col-xs-5 sd-col-sm-5 sd-col-md-5 sd-col-lg-5 docutils">
<ul class="simple">
<li><p>ä¸æ”¹å˜idåœ°å€</p></li>
<li><p>ä½†ä¼šæ”¹å˜å®¹å™¨å†…çš„åœ°å€</p></li>
</ul>
</div>
<div class="sd-col sd-d-flex-column sd-col-7 sd-col-xs-7 sd-col-sm-7 sd-col-md-7 sd-col-lg-7 docutils">
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">lst[1] = 3</span>
<span class="go">id(lst[1]) = 4373905712</span>
<span class="go">id(3) = 4373905712</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="go">lst = [1, 2]</span>
<span class="go">id(lst) = 4376922944 # å’Œä¹‹å‰ä¸€è‡´</span>
<span class="go">id(lst[1]) = 4373905680 # æ”¹äº†ä¹‹å‰çš„</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<section id="id7">
<h4 id="id7">æ·±æµ…æ‹·è´<a class="headerlink" href="#id7" title="Link to this heading">Â¶</a></h4>
<div class="admonition- admonition warning">
<p class="admonition-title">é»˜è®¤ä½œæµ…æ‹·è´</p>
<p>å¯¹ä¸å¯å˜ç±»å‹æ–½åŠ çš„æŠŠæˆï¼šèµ‹å€¼æ—¶ä¸åˆ›å»ºå‰¯æœ¬ï¼Œè€Œæ˜¯è¿”å›åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚å› ä¸ºä¸èƒ½è¿›è¡Œä¿®æ”¹ï¼Œä¸€æ—¦ä¿®æ”¹å°±æ˜¯ new ä¸€ä¸ªæ–°å¯¹è±¡ with æ–° IDã€‚</p>
</div>
<div class="line-block">
<div class="line"><span class="defi">æµ…æ‹·è´</span> ã€‚æ— è®ºå¦‚ä½•ï¼Œç›´æ¥æŒ‡å‘ item æ‰€å¼•ç”¨çš„å¯¹è±¡åœ°å€ã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">=</span> <span class="pre">a.copy()</span></code>  &amp; æ„é€ æ–¹æ³• &amp;  <code class="docutils literal notranslate"><span class="pre">[:]</span></code></div>
<div class="line"><span class="defi">æ·±æ‹·è´</span> ã€‚åŒºåˆ†è¦æ‹·è´çš„æ˜¯å¯å˜çš„è¿˜æ˜¯ä¸å¯å˜çš„ã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">=</span> <span class="pre">copy.deepcopy(a)</span></code></div>
</div>
<ol class="arabic simple">
<li><p>&lt;u&gt;ä¸å¯å˜&lt;/u&gt;ï¼ŒæŒ‡å‘åŸæ¥çš„åœ°å€ï¼ˆåœ°å€ç›¸åŒï¼ŒåŒä¸€ä¸ªå¯¹è±¡ï¼‰ï¼›</p></li>
<li><p>&lt;u&gt;å¯å˜çš„&lt;/u&gt;ï¼Œé‡æ–°æ„å»ºä¸€ä¸ªï¼Œcopyå†…å®¹ï¼ˆåœ°å€ä¸åŒï¼Œå†…å®¹ç›¸åŒï¼‰ã€‚</p></li>
</ol>
<div class="admonition-ab-a-b admonition note">
<p class="admonition-title">å¯¹äºå®¹å™¨ç±»å‹çš„åˆ†åˆ«ï¼šçœ‹æ˜¯å¦åœ¨ä½œå‡ºã€ä¿®æ”¹ä¹‹å abä¸ä¸€æ ·ã€‘ğŸŸ° ã€a b æ˜¯ç‹¬ç«‹çš„ã€‘</p>
<div class="line-block">
<div class="line">ä¿®æ”¹ä»å…ƒç´ å¯¹è±¡åˆ†ï¼šå¯å˜å…ƒç´  &amp; ä¸å¯å˜å…ƒç´ ï¼›ä»IDå˜åŒ–åˆ† IDå˜ &amp; IDä¸å˜ã€‚</div>
<div class="line">ä¸å¯å˜å…ƒç´ ä¸€æ—¦æ”¹å˜ï¼Œåªèƒ½è¿›è¡Œèµ‹å€¼ï¼ŒIDä¸€å®šä¼šå˜ã€‚å¯å˜å…ƒç´ åªæœ‰åœ¨èµ‹å€¼çš„æ—¶å€™ IDå˜ï¼Œå°±åœ°æ›´æ”¹æ—¶IDä¸ä¼šå˜ï¼ˆè­¬å¦‚è¯´ item assignmentï¼‰ã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">[1,</span> <span class="pre">(1,</span> <span class="pre">2),</span> <span class="pre">[1,</span> <span class="pre">2]]</span></code></div>
</div>
<table>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>ä¸å¯å˜çš„èµ‹å€¼</p></th>
<th class="head"><p>å¯å˜çš„èµ‹å€¼</p></th>
<th class="head"><p>å¯å˜çš„item assignment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">b[1]='a'</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">b[2]='a'</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">b[2][0]='a'</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>å…ƒç»„</p></td>
<td><p>åˆ—è¡¨</p></td>
<td><p>åˆ—è¡¨çš„item assignment</p></td>
</tr>
<tr class="row-even"><td><p>æµ…æ‹·è´</p></td>
<td><p>âœ…</p></td>
<td><p>âœ…</p></td>
<td><p>âœ…</p></td>
</tr>
<tr class="row-odd"><td><p>æ·±æ‹·è´</p></td>
<td><p>âœ…</p></td>
<td><p>âœ…</p></td>
<td><p>âŒ</p></td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
<span class="go">lst=[1, [1]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">lst=[1, [1, 1]]</span>
</pre></div>
</div>
</div>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<img alt="../_images/memory_1.png" src="../_images/memory_1.png"/>
<p>a æ˜¯ä¸å¯å˜ï¼›bæ˜¯å¯å˜ã€‚å‡è®¾åˆ›å»ºå¯¹è±¡çš„IDä»1å¼€å§‹ã€‚</p>
</div>
<div class="sd-col sd-d-flex-column docutils">
<ol class="arabic simple">
<li><p>åˆ›å»º ID=1çš„1 &amp; ID=2åˆ—è¡¨[1]</p></li>
<li><p>æŠŠ a &amp; b åˆ†åˆ«è´´åˆ° ID=1 &amp; ID=2ä¸Š</p></li>
<li><p>åˆ›å»º ID=3çš„åˆ—è¡¨ï¼ŒæŠŠ[0]ä½è´´åˆ°ID=1ï¼Œ[1]ä½è´´åˆ°ID=2ã€‚è€Œä¸æ˜¯è´´åˆ° a &amp; b ä¸Š</p></li>
<li><p>åˆ›å»º ID=4çš„2ï¼ŒæŠŠ a ä»ID=1æ’•æ‰ï¼Œç»™ID=3</p></li>
<li><p>ä¿®æ”¹bï¼Œbæ²¡æœ‰æ’•æ‰ï¼Œå…¶å®ä¿®æ”¹ID=3</p></li>
</ol>
<p>lstçš„ä½[0]åœ¨ID=1ä¸Šä¸aæ— å…³ï¼›ä½[1]åœ¨ID=3ä¸Šï¼Œæ‰€ä»¥ä¹Ÿä¿®æ”¹äº†ã€‚</p>
</div>
</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">],</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)]</span>  <span class="c1"># [ä¸å¯å˜, å¯å˜ï¼Œ ä¸å¯å˜]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">l3</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span>
</span><span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">l2</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">id</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span><span class="o">==</span><span class="nb">id</span><span class="p">(</span><span class="n">l3</span><span class="p">)</span>
</span><span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span> <span class="p">:</span> <span class="nb">id</span><span class="p">(</span><span class="n">i1</span><span class="p">)</span><span class="o">==</span><span class="nb">id</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="n">l1</span> <span class="p">,</span><span class="n">l2</span><span class="p">))</span>
<span class="go">[True, True, True]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i3</span> <span class="p">:</span> <span class="nb">id</span><span class="p">(</span><span class="n">i1</span><span class="p">)</span><span class="o">==</span><span class="nb">id</span><span class="p">(</span><span class="n">i3</span><span class="p">),</span> <span class="n">l1</span> <span class="p">,</span><span class="n">l3</span><span class="p">))</span>
<span class="go">[True, False, True]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+=</span><span class="p">[</span><span class="mi">33</span><span class="p">,</span><span class="mi">44</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">l1=[1, [22, 33, 44], (7, 8, 9, 10), -1]</span>
<span class="go">l2=[0, [22, 33, 44], (7, 8)]</span>
<span class="go">l3=[0, [11, 22], (7, 8)]</span>
</pre></div>
</div>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<img alt="../_images/memory_41.png" src="../_images/memory_41.png"/>
</div>
<div class="sd-col sd-d-flex-column docutils">
<img alt="../_images/memory_51.png" src="../_images/memory_51.png"/>
</div>
</div>
</div>
<img alt="../_images/memory_2.jpg" src="../_images/memory_2.jpg"/>
</section>
<section id="id8">
<h4 id="id8">æ•´æ•°æ± <a class="headerlink" href="#id8" title="Link to this heading">Â¶</a></h4>
<p><strong>ç†è®ºä¸Šçš„æ­£å¸¸æƒ…å†µ</strong>ï¼Œå˜é‡éƒ½æ˜¯éœ€è¦ç”³è¯· <strong>å†…å­˜ç©ºé—´ï¼ˆidä¸åŒï¼‰</strong> å­˜å‚¨æ•°æ®ç„¶åæŠŠåœ°å€è¿”å›ç»™å˜é‡åå¼•ç”¨ã€‚ä½†åœ¨ Pythonè§£é‡Šå™¨ï¼ˆä¸€èˆ¬æ˜¯cpythonï¼‰ <span class="defi">[-5, 256]</span> æ˜¯ä¸ä¼šç”³è¯·æ–°çš„å†…å­˜ï¼Œè€Œéƒ½æ˜¯ <strong>å¼•ç”¨åŒä¸€å—æ—©å·²åœ¨è§£é‡Šå™¨è¿è¡Œæ—¶å°±å¼€è¾Ÿçš„å†…å­˜,==å°æ•´æ•°æ± ==</strong>ï¼Œå¯¼è‡´ <strong>idç›¸åŒ</strong>ã€‚å¦å¤– pycharm/vscode æœ‰ <span class="defi">å¤§æ•´æ•°æ± </span> çš„æ¦‚å¿µ</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column sd-col-7 sd-col-xs-7 sd-col-sm-7 sd-col-md-7 sd-col-lg-7 docutils">
<div class="literal-block-wrapper docutils container" id="id54">
<div class="code-block-caption"><span class="caption-text">æ­£å¸¸æ¥è¯´ï¼Œæ¯æ¬¡ç”³è¯·ï¼Œidéƒ½ä¸ä¸€æ ·</span><a class="headerlink" href="#id54" title="Link to this code">Â¶</a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">9999999999999</span><span class="p">,</span> <span class="mi">9999999999999</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="ow">is</span> <span class="n">b</span>
<span class="go">Fasle</span>
<span class="go">id(a) = 4336403888</span>
<span class="go">id(b) = 4336403152</span>
</pre></div>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-column sd-col-5 sd-col-xs-5 sd-col-sm-5 sd-col-md-5 sd-col-lg-5 docutils">
<div class="literal-block-wrapper docutils container" id="id55">
<div class="code-block-caption"><span class="caption-text">åœ¨vscodeé‡Œidä¾æ—§ä¸€æ ·ï¼šå¤§æ•´æ•°æ± </span><a class="headerlink" href="#id55" title="Link to this code">Â¶</a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="mi">221111111</span><span class="p">)</span>
<span class="go">4336403952</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="mi">221111111</span><span class="p">)</span>
<span class="go">4336403952</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<p>[å°æ•´æ•°æ± ]</p>
</section>
</section>
</section>
<section id="general">
<h2 id="general">General<a class="headerlink" href="#general" title="Link to this heading">Â¶</a></h2>
<section id="convention">
<h3 id="convention">convention<a class="headerlink" href="#convention" title="Link to this heading">Â¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>prefernce</dt><dd><ul>
<li><p>PEP8å»ºè®® <strong>indent using space ç©ºæ ¼ç¼©è¿› = 4</strong>ï¼Œè¿™æ—¢å¯æé«˜å¯è¯»æ€§ï¼Œåˆç•™ä¸‹äº†è¶³å¤Ÿçš„å¤šçº§ç¼©è¿›ç©ºé—´ã€‚</p></li>
<li><p><strong>å‚ç›´å‚è€ƒçº¿</strong>ï¼Œå¸®åŠ©ä½ éµå®ˆè¡Œé•¿ä¸èƒ½è¶…è¿‡79å­—ç¬¦çš„çº¦å®šã€‚</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">.py</span></code>  file</dt><dd><ul>
<li><p>åœ¨å¼€å¤´åŠ ä¸Šå§“åå’Œå½“å‰æ—¥æœŸï¼Œå†ç”¨ä¸€å¥è¯é˜è¿°ç¨‹åºçš„åŠŸèƒ½</p></li>
<li><p>å£°æ˜ç¼–ç æ–¹å¼:  <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">-*-</span> <span class="pre">coding:utf-8</span> <span class="pre">-*-</span></code></p></li>
<li><dl class="simple">
<dt>å¯ä½¿ç”¨ç©ºè¡Œæ¥ç»„ç»‡ä»£ç ï¼Œä½†ä¸è¦æ»¥ç”¨ã€‚</dt><dd><ul>
<li><p>åœ¨ç±»ä¸­ï¼Œå¯ä½¿ç”¨ä¸€ç©ºè¡Œæ¥åˆ†éš”æ–¹æ³•ï¼›</p></li>
<li><p>åœ¨æ¨¡å—ä¸­ï¼Œå¯ä½¿ç”¨ä¸¤ä¸ªç©ºè¡Œæ¥åˆ†éš”ç±»</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><p>è¯¸å¦‚  <code class="docutils literal notranslate"><span class="pre">==,</span> <span class="pre">&gt;=,</span> <span class="pre">&lt;=</span></code> ç­‰**æ¯”è¾ƒè¿ç®—ç¬¦**ä¸¤è¾¹å„æ·»åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œä¾‹å¦‚ï¼Œ <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">age</span> <span class="pre">&lt;</span> <span class="pre">4</span></code>  :è¦æ¯”  <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">age&lt;4</span></code>  å¥½ã€‚</p></li>
<li><p><strong>æ–‡æ¡£å­—ç¬¦ä¸², docstring</strong>, çš„æ³¨é‡Šï¼Œæè¿°äº†å‡½æ•°æ˜¯åšä»€ä¹ˆçš„ã€‚æ–‡æ¡£å­—ç¬¦ä¸²ç”¨ä¸‰å¼•å·æ‹¬èµ·ï¼ŒPythonä½¿ç”¨å®ƒä»¬æ¥ç”Ÿæˆæœ‰å…³ç¨‹åºä¸­å‡½æ•°çš„æ–‡æ¡£ã€‚</p></li>
</ul>
<section id="naming-conventions">
<h4 id="naming-conventions">naming conventions<a class="headerlink" href="#naming-conventions" title="Link to this heading">Â¶</a></h4>
<ul class="simple">
<li><p><strong>é©¼å³°å‘½å</strong> çš„æ—¶å€™</p></li>
<li><p><strong>ä½¿ç”¨å•æ•°å’Œå¤æ•°å¼åç§°</strong>ï¼Œå¯å¸®åŠ©ä½ åˆ¤æ–­ä»£ç æ®µå¤„ç†çš„æ˜¯å•ä¸ªåˆ—è¡¨å…ƒç´ è¿˜æ˜¯æ•´ä¸ªåˆ—è¡¨ã€‚</p></li>
</ul>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>ç±»å‹</p></th>
<th class="head"><p>notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Packageï¼ŒModule.pyï¼Œå…¨å±€å˜é‡ï¼ŒFunction</p></td>
<td rowspan="2"><p>å…¨å°å†™ï¼Œä¸‹åˆ’çº¿</p></td>
</tr>
<tr class="row-odd"><td><p>å®ä¾‹å˜é‡ instance varaibles</p></td>
</tr>
<tr class="row-even"><td><p>Classes</p></td>
<td><p><strong>é©¼å³°å‘½å</strong>, æ‰€æœ‰çš„ç¼©å†™éƒ½è¦å¤§å†™ï¼š <code class="docutils literal notranslate"><span class="pre">HTTPSever</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>å¸¸é‡ constant</p></td>
<td><p><strong>å…¨å¤§å†™</strong>ï¼Œä¸‹åˆ’çº¿</p></td>
</tr>
</tbody>
</table>
<p>å®ä¾‹å˜é‡ instance varaibles</p>
<ul class="simple">
<li><p>Non-public instance variables should begin with a single underscore</p></li>
<li><p>If an instance name needs to be mangled, two underscores may begin its name</p></li>
</ul>
<p>[CodingConvention] | [python3-cookbook] | [Python ä¸­çš„ä¸‹åˆ’çº¿å‘½åè§„åˆ™]</p>
</section>
</section>
</section>
<section id="id9">
<h2 id="id9">å‡½æ•°<a class="headerlink" href="#id9" title="Link to this heading">Â¶</a></h2>
<div class="admonition-u-function-u admonition note">
<p class="admonition-title">å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡çš„ä¸€ç§ï¼Œæ˜¯ &lt;u&gt; <code class="docutils literal notranslate"><span class="pre">function</span></code>  ç±»çš„å®ä¾‹&lt;/u&gt;, æ‰€ä»¥å¯ä»¥èµ‹ç»™å˜é‡ï¼Œé€šè¿‡å˜é‡åè°ƒç”¨ï¼›ä½œä¸ºå‚æ•°ä¼ ç»™åˆ«çš„å‡½æ•°ã€‚ã€‚ã€‚</p>
<div class="line-block">
<div class="line"><span class="defi">function ç±»</span></div>
<div class="line">ğŸ“• å‡½æ•°å¯¹è±¡ç‰¹æœ‰å±æ€§  <code class="docutils literal notranslate"><span class="pre">dir(func)</span></code>  æŸ¥çœ‹å¯¹è±¡å±æ€§</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">__call__:method-wrapper</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">__closure__:tuple=None</span></code> <span class="defi">å‡½æ•°é—­åŒ…</span> å¯¹è‡ªç”±å˜é‡çš„çš„ç»‘å®š</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">__defaults__:tuple</span></code>  æ”¾ <strong>å½¢å¼å‚æ•°</strong> çš„é»˜è®¤å€¼</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">__globals__:dict</span></code>  æ‰€åœ¨ module çš„å…¨å±€å˜é‡</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">__kwdefaults__</span></code>  æ”¾ <strong>å…³é”®å­—å½¢å¼å‚æ•°</strong> çš„é»˜è®¤å€¼</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">__name__</span></code>  å‡½æ•°å</div>
</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="w">    </span><span class="sd">""" return param """</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">n</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span><span class="n">func</span>
</span><span class="go">f=func=&lt;function func at 0x102fe88b0&gt;</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class="go">f(1)=func(1)=1</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
</span><span class="go">[0, 1, 2]</span>
</pre></div>
</div>
<dl class="simple">
<dt><span class="defi">higher-order func é«˜é˜¶å‡½æ•°</span> ã€‚æ¥å— <strong>å‡½æ•°</strong> ä¸ºå‚æ•°ï¼Œæˆ–æŠŠ <strong>å‡½æ•°</strong> ä½œä¸ºç»“æœè¿”å›çš„å‡½æ•°ã€‚</dt><dd><p>map &amp; filter &amp; reduce &amp; apply &amp;â€¦
sorted(å› ä¸ºèƒ½ç”¨keyå»æ¥å—kå‡½æ•°ä½œä¸ºå‚æ•°ï¼ŒæŠŠkå‡½æ•°ç»“æœä½œä¸ºæ’åºçš„ä¾æ®)</p>
</dd>
</dl>
<div class="line-block">
<div class="line"><span class="defi">å‡½æ•°å†…çœ Function introspection</span> ã€‚æ˜¯æŒ‡é€šè¿‡ä¸€äº›æœºåˆ¶æ¥è·å– <strong>å‡½æ•°çš„å…ƒä¿¡æ¯</strong>ï¼Œä¾‹å¦‚å‡½æ•°åç§°ã€å‚æ•°åˆ—è¡¨ã€è¿”å›å€¼ç±»å‹ç­‰ã€‚å®ƒä½¿å¾—ç¨‹åºèƒ½å¤Ÿåœ¨è¿è¡Œæ—¶æ£€æŸ¥å‡½æ•°çš„ç»“æ„å’Œç‰¹æ€§ï¼Œè¿›è€Œè¿›è¡ŒåŠ¨æ€çš„æ“ä½œå’Œåˆ†æã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type()</span></code> : è·å–å¯¹è±¡çš„ç±»å‹</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">dir()</span></code> : è¿”å›ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•çš„åˆ—è¡¨ã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">inspect</span> <span class="pre">module</span></code> ï¼š <code class="docutils literal notranslate"><span class="pre">inspect.isfunction(obj)</span></code> :åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å‡½æ•°ï¼Œ <code class="docutils literal notranslate"><span class="pre">inspect.getargspec(func)</span></code> : è·å–å‡½æ•°çš„å‚æ•°ä¿¡æ¯ï¼Œ <code class="docutils literal notranslate"><span class="pre">inspect.signature(func)</span></code>  : è·å–å‡½æ•°çš„ç­¾åä¿¡æ¯ã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">__doc__</span></code>  å±æ€§ï¼šå‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">è£…é¥°å™¨</span></code> ï¼šè£…é¥°å™¨æ˜¯ä¸€ç§ä¿®æ”¹å‡½æ•°è¡Œä¸ºçš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ç”¨äºå‡½æ•°å†…çœã€‚é€šè¿‡å®šä¹‰ä¸€ä¸ªè£…é¥°å™¨å‡½æ•°ï¼Œå¯ä»¥åœ¨å‡½æ•°æ‰§è¡Œå‰åè¿›è¡Œä¸€äº›æ“ä½œï¼Œä¾‹å¦‚è®°å½•æ—¥å¿—ã€è®¡æ—¶ç­‰ã€‚è£…é¥°å™¨å¯ä»¥ç”¨æ¥åŠ¨æ€åœ°ä¿®æ”¹å‡½æ•°çš„è¡Œä¸ºï¼Œä»è€Œå®ç°å‡½æ•°å†…çœçš„ç›®çš„ã€‚</div>
</div>
<p><span class="defi">æ³›å‡½æ•° generic function</span> ã€‚æ ¹æ®ç¬¬ä¸€ä¸ªå‚æ•°çš„ç±»å‹ï¼Œä»¥ä¸åŒæ–¹å¼è£…é¥°</p>
<div class="admonition-defi-developer admonition note">
<p class="admonition-title">å­¦ä¼šç”¨ <span class="defi">ç©ºå‡½æ•°</span> å†™å¤§çº²ï¼Œæé†’ developer æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Œåœ¨é¢„è®¾è¡Œä¸ºçš„æ—¶å€™</p>
</div>
<section id="id10">
<h3 id="id10">å‚æ•°ä¼ é€’<a class="headerlink" href="#id10" title="Link to this heading">Â¶</a></h3>
<section id="id11">
<h4 id="id11">å…±äº«ä¼ å‚<a class="headerlink" href="#id11" title="Link to this heading">Â¶</a></h4>
<div class="admonition-notes admonition note">
<p class="admonition-title">notes</p>
<p>å‚æ•°ä¼ é€’ æ ¹æ®å¼•ç”¨çš„æ–¹å¼åˆ†ä¸º</p>
<ul class="simple">
<li><dl class="simple">
<dt>æŒ‰å€¼ä¼ é€’ï¼Œå‡½æ•°å¾—åˆ°å‚æ•°çš„å‰¯æœ¬ã€‚</dt><dd><p>ä¼  a çš„æ—¶å€™ï¼Œæ‹¿åˆ° a</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>æŒ‰å¼•ç”¨ä¼ é€’ï¼Œå‡½æ•°å¾—åˆ°æŒ‡å‘å‚æ•°çš„æŒ‡é’ˆ</dt><dd><p>ä¼  a çš„æ—¶å€™ï¼Œæ‹¿åˆ° æŒ‡å‘ a çš„æŒ‡é’ˆ</p>
</dd>
</dl>
</li>
</ul>
</div>
<p><span class="defi">å…±äº«ä¼ å‚ call by sharing</span> ã€‚å‡½æ•°çš„å„ä¸ªå½¢å¼çš„å‚æ•°è·å¾—å®å‚ä¸­å„ä¸ªåº”ç”¨çš„å‰¯æœ¬ã€‚</p>
<div class="admonition- admonition danger">
<p class="admonition-title">å‚æ•°ä¼ é€’æ˜¯æŒ‰å€¼ä¼ é€’ï¼Œä½†è¿™é‡Œçš„å€¼æ˜¯å¼•ç”¨</p>
<div class="line-block">
<div class="line">å‚æ•°ä¼ é€’æ˜¯ã€å¼•ç”¨ã€‘æŒ‰å€¼çš„ä¼ é€’ã€‚å‡½æ•°å†…éƒ¨çš„å½¢å‚æ˜¯å®å‚çš„åˆ«åï¼Œå°±æ˜¯è´´åœ¨å®å‚æ‰€å¼•ç”¨çš„å¯¹è±¡ä¸Šï¼Œä½†æ˜¯ä¸èƒ½è§£é™¤å®å‚å’Œå¯¹è±¡çš„ç»‘å®šå…³ç³»ã€‚</div>
<div class="line">æ‰€ä»¥ å‡½æ•°å†…éƒ¨èƒ½&lt;u&gt;ä¿®æ”¹&lt;/u&gt;ä½œä¸ºå‚æ•°ä¼ å…¥çš„å¯å˜ç±»å‹ã€‚</div>
</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">a</span> <span class="o">+=</span> <span class="n">b</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">a</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">3</span>
<span class="go">x, y=(1, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">(1, 1, 2, 2)</span>
<span class="go">x, y=((1, 1), (2, 2))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">[1, 1, 2, 2]</span>
<span class="go">x, y=([1, 1, 2, 2], [2, 2])  # å¯å˜ç±»å‹å¯¹è±¡è¢«ä¿®æ”¹</span>
</pre></div>
</div>
<div class="admonition-dict-none admonition danger">
<p class="admonition-title">ä¸è¦ä½¿ç”¨å¯å˜ç±»å‹  <code class="docutils literal notranslate"><span class="pre">[]</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">dict{}</span></code>  ä½œä¸ºé»˜è®¤å‚æ•°ï¼Œè€Œæ˜¯é€‰æ‹©  <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<div class="line-block">
<div class="line">é»˜è®¤å‚æ•°ä¼šè‡ªå»ºå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œå°±ä¸€å¾‹è´´åœ¨å…¶ä¸Šï¼Œæ‰€ä»¥å¦‚æœå¯å˜ç±»å‹å˜åŒ–ï¼Œå¼•ç”¨çš„IDå¯¹è±¡å˜äº†ï¼Œåªè¦ç»‘å®šåœ¨è¿™ä¸ªIDå¯¹è±¡ï¼ˆåªè¦ä¸æ˜¯èµ‹å€¼ï¼‰ï¼Œéƒ½éšç€ä¸€èµ·å˜åŒ–ã€‚</div>
<div class="line">é»˜è®¤å€¼åœ¨å®šä¹‰å‡½æ•°è®¡ç®—ï¼ˆé€šå¸¸åœ¨åŠ è½½æ¨¡å—æ—¶è¿›è¡Œå¯¹è±¡åˆ›å»ºï¼‰ï¼Œè¢«èµ‹äºˆçš„æ˜¯ <strong>å€¼çš„å†…å­˜åœ°å€</strong>ã€‚å› æ­¤é»˜è®¤å€¼ä¼šå˜æˆå‡½æ•°å¯¹è±¡çš„å±æ€§ï¼Œå‡¡æ˜¯æ²¡æœ‰ä¼ å…¥ï¼Œéƒ½ä¼šæŒ‡å‘è¿™ä¸ªåœ¨ä¸€å¼€å§‹å°±åˆ›å»ºå¥½çš„é»˜è®¤å€¼å¯¹è±¡ï¼ˆIDä¸ºåŒä¸€ä¸ªï¼‰ã€‚</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">a</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">([</span><span class="mi">3</span><span class="p">])</span>
<span class="go">[3, 3]  &lt;- [3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="go">res=[1, 2, 3]  &lt;- [1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">res=[1, 2, 3, -1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">()</span>  <span class="c1"># é»˜è®¤å‚æ•°è¢«æ”¹å˜</span>
<span class="go">[1, 2, 3, -1, 3] &lt;- [1, 2, 3, -1]</span>
<span class="go">res=[1, 2, 3, -1, 3]</span>
</pre></div>
</div>
</div>
<div class="admonition- admonition warning">
<p class="admonition-title">å¦‚æœå®šä¹‰å‚æ•°æ¥å—å¯å˜å‚æ•°ï¼Œè°¨æ…è€ƒè™‘è°ƒç”¨æ–¹æ˜¯å¦æœŸæœ›ä¿®æ”¹ä¼ å…¥çš„å‚æ•°ã€‚</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">C</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">lst</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">modified</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">lst</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># å½“éœ€è¦ç©ºçš„æ—¶å€™ ç”¨ None æ¥åˆ¤å®š</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="n">modified</span> <span class="o">==</span> <span class="n">Ture</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lst</span> <span class="o">=</span> <span class="n">lst</span>  <span class="c1"># æŒ‡å‘ä¼ å…¥çš„ IDï¼Œé‡Œé¢å˜ï¼Œå¤–é¢åŒæ · IDçš„ ä¹Ÿä¼šå˜</span>
        <span class="k">elif</span> <span class="n">modified</span> <span class="o">==</span> <span class="n">Flase</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lst</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>  <span class="c1"># æµ…æ‹·è´ï¼Œfor å…ƒç´ éƒ½æ˜¯ä¸å¯å˜çš„</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lst</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">()</span> <span class="c1"># æ·±æ‹·è´ï¼Œfor å…ƒç´ æœ‰å¯å˜çš„</span>
</pre></div>
</div>
</div>
</section>
<section id="args-kwargs">
<h4 id="args-kwargs">args &amp; kwargs<a class="headerlink" href="#args-kwargs" title="Link to this heading">Â¶</a></h4>
<div class="line-block">
<div class="line"><span class="defi">ä»…é™å…³é”®è¯å‚æ•° kwargs</span> ã€‚åªèƒ½ç”¨ <strong>å…³é”®å­—æ¨¡å¼</strong> ä¼ é€’ã€‚åœ¨å‡½æ•°å®šä¹‰æ—¶æ”¾åœ¨  <code class="docutils literal notranslate"><span class="pre">*args</span></code>  çš„åé¢.</div>
<div class="line"><span class="defi">ä¸€èˆ¬å‚æ•° args</span> ã€‚å®šä½æ¨¡å¼ &amp; å…³é”®å­—æ¨¡å¼éƒ½å¯ä»¥ã€‚åœ¨å‡½æ•°å®šä¹‰æ—¶æ”¾åœ¨  <code class="docutils literal notranslate"><span class="pre">*args</span></code>  çš„å‰é¢</div>
<div class="line"><span class="defi">å®šä½æ¨¡å¼ï¼Œå®šä½å‚æ•°ï¼Œä½ç½®å½¢å‚</span> ã€‚ä¼ å…¥æ—¶æ²¡æœ‰ç”¨å‚æ•°åæ†ç»‘ï¼Œå°±æŒ‰ä½ç½®è¿›è¡Œä¸€ä¸€å¯¹åº”ã€‚ç”¨å®šä½æ¨¡å¼çš„æ˜¯å®šä½å‚æ•°ã€‚</div>
<div class="line"><span class="defi">å…³é”®å­—æ¨¡å¼ï¼Œå…³é”®è¯å‚æ•°ï¼Œ é»˜è®¤å½¢å‚</span> ã€‚ä¼ å…¥æ—¶æœ‰ç”¨å‚æ•°åæ†ç»‘ï¼Œç”¨å…³é”®è¯æ¨¡å¼çš„æ˜¯å…³é”®è¯å‚æ•°ã€‚</div>
</div>
<div class="admonition-id admonition danger">
<p class="admonition-title">å…³é”®å­—å‚æ•°æ˜¯åœ¨å‡½æ•°å®šä¹‰é˜¶æ®µè¢«èµ‹å€¼ï¼Œèµ‹å€¼çš„æ˜¯æ‰€æŒ‡å‘çš„ ID åœ°å€ï¼Œæ‰€ä»¥ä¸è¦ä½¿ç”¨å¯å˜å¯¹è±¡ä½œä¸ºé»˜è®¤å‚æ•°ã€‚</p>
<p>ä¸€æ—¦IDåœ°å€çš„å€¼æ”¹å˜äº†ï¼Œå°±æ§åˆ¶ä¸äº†äº†</p>
</div>
<p>ä¸è®¾é»˜è®¤å€¼ ğŸŸ° å¼ºåˆ¶ä¼ å…¥å®å‚ã€‚æ— è®ºæ˜¯ args &amp; kwargs</p>
<div class="admonition-tuple-dict admonition note">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">*</span></code>  å±•å¼€ tuple ğŸŸ° ä¸€èˆ¬å‚æ•° &amp;  <code class="docutils literal notranslate"><span class="pre">**</span></code>  å±•å¼€ dict ğŸŸ° å…³é”®è¯å‚æ•°</p>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">general</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">kw_only</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'*args=</span><span class="si">{</span><span class="n">args</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'**kwargs=</span><span class="si">{</span><span class="n">kwargs</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">()</span>
</span><span class="go">TypeError: func() missing 1 required positional argument: 'general'</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">)</span>
</span><span class="go">*args=('a', 'b', 'c') **kwargs={}</span>
<span class="go"># å®šä½æ¨¡å¼ä¼ å…¥ï¼ŒæŒ‰é¡ºåºè¿›è¡Œåˆ†é…ï¼Œå¤šå‡ºçš„ä¸å®šé‡çš„å‚æ•°åªä¼šè¢« *args æ•è·ï¼Œå­˜å…¥å…ƒç»„</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">'c'</span><span class="p">)</span>
<span class="hll"><span class="go">*args=('a', 'b') **kwargs={'c': 'c'}</span>
</span><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="s1">'a'</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span> <span class="s1">'b'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="hll"><span class="go">SyntaxError: positional argument follows keyword argument</span>
</span><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="s1">'a'</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span> <span class="s1">'b'</span><span class="p">,</span> <span class="n">general</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">*args=()  **kwargs={'args': 'a', 'b': 'b'}</span>
<span class="hll"><span class="go"># æŒ‰å…³é”®å­—æ¨¡å¼ä¼ å…¥çš„å¤šä½™çš„æ‰ä¼šè¢«**kwargsæ•è·ï¼Œå­˜å…¥å­—å…¸</span>
</span><span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'general'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">:</span> <span class="s1">'a'</span><span class="p">}</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
</span><span class="go">*args=()  **kwargs={'a': 'a'}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">params</span><span class="p">)</span>
<span class="go">*args=(2, 3)  **kwargs={}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>ä½ç½®å‚æ•°å¿…é¡»æ”¾åœ¨å…³é”®å­—å®å‚å‰é¢ï¼›ä¸€èˆ¬å‚æ•°å¯ä»¥ä½¿ç”¨å…³é”®å­—æ¨¡å¼ï¼Œæ­¤æ—¶ä¸éœ€è¦è€ƒè™‘ä½ç½®å…³ç³»ã€‚</p></li>
<li><p>ä¸èƒ½åŒä¸€ä¸ªå½¢å‚é‡å¤èµ‹å€¼</p></li>
<li><p>ä½ç½®å½¢å‚æ²¡æœ‰æŒ‡å®šé»˜è®¤å€¼çš„ï¼Œå¾—ä¸åˆ°å‚æ•°å°±ä¼šæŠ¥é”™</p></li>
</ul>
</section>
</section>
<section id="id12">
<h3 id="id12">å˜é‡ä½œç”¨åŸŸ<a class="headerlink" href="#id12" title="Link to this heading">Â¶</a></h3>
<p><span class="defi">åç§°ç©ºé—´ namespace</span> ï¼šå­˜æ”¾åå­—çš„åœ°æ–¹ï¼Œæ˜¯å¯¹æ ˆåŒºçš„åˆ’åˆ†ã€‚åç§°ç©ºé—´çš„â€åµŒå¥—â€å…³ç³»æ˜¯ä»¥å‡½æ•°å®šä¹‰é˜¶æ®µä¸ºå‡†</p>
<img alt="../_images/namespace_1.png" src="../_images/namespace_1.png"/>
<img alt="../_images/namespace_2.png" src="../_images/namespace_2.png"/>
<div class="line-block">
<div class="line">æŒ‰ç…§ç”±ä¸Šè‡³ä¸‹ï¼š å†…ç½®åç§°ç©ºé—´ ã€‹ å…¨å±€åç§°ç©ºé—´ ã€‹ å±€éƒ¨åç§°ç©ºé—´ã€‚</div>
<div class="line"><strong>åŠ è½½é¡ºåº</strong>ï¼šå†…ç½®åç§°ç©ºé—´&gt;å…¨å±€åç§°ç©ºé—´&gt;å±€éƒ¨åç§°ç©ºé—´</div>
<div class="line"><strong>é”€æ¯é¡ºåº</strong>ï¼šå±€éƒ¨åç§°ç©ºé—´&gt;å…¨å±€åç©ºé—´&gt;å†…ç½®åç§°ç©ºé—´</div>
</div>
<div class="line-block">
<div class="line">åå­—çš„æŸ¥æ‰¾ä¼˜å…ˆçº§ï¼šå½“å‰æ‰€åœ¨çš„ä½ç½®å‘ä¸Šä¸€å±‚ä¸€å±‚æŸ¥æ‰¾</div>
<div class="line">å¦‚æœå½“å‰åœ¨å±€éƒ¨åç§°ç©ºé—´: å±€éƒ¨åç§°ç©ºé—´-&gt;å…¨å±€åç§°ç©ºé—´-&gt;å†…ç½®åç§°ç©ºé—´</div>
</div>
<div class="admonition-python-u-u-defi admonition danger">
<p class="admonition-title">python åœ¨æ²¡æœ‰ä»»ä½•å£°æ˜çš„å‰æä¸‹ï¼Œå‡å®šåœ¨å‡½æ•°å®šä¹‰ä½“å†…ä¸­&lt;u&gt;èµ‹å€¼&lt;/u&gt;çš„å˜é‡æ˜¯ <span class="defi">å±€éƒ¨å˜é‡</span> ã€‚</p>
<div class="line-block">
<div class="line">å¦‚æœæƒ³åœ¨å‡½æ•°å®šä¹‰ä½“å†…èµ‹å€¼ï¼Œè¿˜æƒ³ python è§£é‡Šå™¨æŠŠå…¶è®¤ä¸ºå…¨å±€å˜é‡ï¼Œéœ€è¦å£°æ˜  <code class="docutils literal notranslate"><span class="pre">global</span></code></div>
<div class="line">å¦‚æœå†å±€éƒ¨æƒ³è¦ä¿®æ”¹å…¨å±€çš„åå­—å¯¹åº”çš„å€¼ï¼ˆä¸å¯å˜ç±»å‹ï¼‰ï¼Œéœ€è¦ç”¨global</div>
<div class="line">[Python å…¨å±€å˜é‡]</div>
</div>
</div>
<div class="line-block">
<div class="line"><span class="defi">å…¨å±€åç§°ç©ºé—´</span></div>
<div class="line">å­˜æ”¾çš„åå­—ï¼šåªè¦ä¸æ˜¯å‡½æ•°å†…å®šä¹‰ã€ä¹Ÿä¸æ˜¯å†…ç½®çš„ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯å…¨å±€åç§°ç©ºé—´çš„åå­—ã€‚åŒ…æ‹¬ import è¿›æ¥çš„å‡½æ•°å’Œå˜é‡</div>
<div class="line">å­˜æ´»å‘¨æœŸï¼špythonæ–‡ä»¶æ‰§è¡Œåˆ™äº§ç”Ÿï¼Œpython æ–‡ä»¶è¿è¡Œå®Œæ¯•åé”€æ¯</div>
</div>
<div class="line-block">
<div class="line"><span class="defi">å±€éƒ¨åç§°ç©ºé—´</span></div>
<div class="line">å­˜æ”¾çš„åå­—ï¼šåœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œè¿è¡Œå‡½æ•°ä½“ä»£ç è¿‡ç¨‹ä¸­äº§ç”Ÿçš„å‡½æ•°å†…çš„åå­—</div>
<div class="line">å­˜æ´»å‘¨æœŸï¼šåœ¨è°ƒç”¨å‡½æ•°æ—¶å­˜æ´»ï¼Œå‡½æ•°è°ƒç”¨å®Œæ¯•ååˆ™é”€æ¯</div>
</div>
<div class="line-block">
<div class="line"><span class="defi">é—­åŒ…</span> ã€‚å»¶ä¼¸äº†ä½œç”¨åŸŸçš„å‡½æ•°ï¼Œå…¶ä¸­åŒ…å«å‡½æ•°å®šä¹‰ä½“ä¸­è¿ç”¨ï¼Œä½†ä¸åœ¨å®šä¹‰ä½“å†…å®šä¹‰çš„ <strong>éå…¨å±€å˜é‡</strong>ã€‚ä¸€èˆ¬å‡ºç°åœ¨åµŒå¥—å‡½æ•°é‡Œã€‚é—­åŒ…æ˜¯ä¸€ç§å‡½æ•°ï¼Œä»–ä¼šä¿ç•™å®šä¹‰å‡½æ•°æ—¶å­˜åœ¨çš„è‡ªç”±å˜é‡çš„ç»‘å®šï¼Œå“ªæ€•æ˜¯å®šä¹‰ä½œç”¨åŸŸä¸èƒ½ç”¨ï¼Œç»‘å®šä¹Ÿèƒ½ä½¿ç”¨ã€‚â€é—­â€ ğŸŸ° å†…åµŒå‡½æ•°ï¼› â€œåŒ…â€ ğŸŸ° è¯¥å‡½æ•°åŒ…å«å¯¹å¤–å±‚å‡½ä½œç”¨åŸŸåå­—çš„å¼•ç”¨</div>
<div class="line"><span class="defi">è‡ªç”±å˜é‡</span> ã€‚æœªåœ¨æœ¬åœ°ä½œç”¨åŸŸå†…ç»‘å®šçš„å˜é‡ã€‚ç”¨  <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code>  å£°æ˜ï¼Œå“ªæ€•æ˜¯åœ¨å‡½æ•°å®šä¹‰ä½“å†…èµ‹å€¼ï¼Œpython è§£é‡Šå™¨ä¼šæŠŠå…¶è®¤ä¸ºè‡ªç”±å˜é‡(ç±»  <code class="docutils literal notranslate"><span class="pre">global</span></code>  )ã€‚ä¿å­˜åœ¨ è¿”å›å¯¹è±¡çš„ <code class="docutils literal notranslate"><span class="pre">.__code__.co_afreevars</span></code>   &amp;  <code class="docutils literal notranslate"><span class="pre">.__closure__[idx].cell_contents</span></code>  ä¸€ä¸€å¯¹åº”ã€‚</div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">outer</span><span class="p">():</span>
    <span class="c1"># 3-10 inner çš„é—­åŒ…å»¶ä¼¸åˆ° inner ä¹‹å¤–ï¼ŒåŒ…å« è‡ªç”±å˜é‡ çš„å®šä¹‰</span>
<span class="hll">    <span class="n">series</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class="hll">    <span class="n">total</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
</span><span class="hll">    <span class="k">def</span> <span class="nf">inner</span><span class="p">(</span><span class="n">new_v</span><span class="p">):</span>
</span><span class="hll">        <span class="k">nonlocal</span> <span class="n">total</span><span class="p">,</span> <span class="n">count</span>
</span><span class="hll">        <span class="n">total</span> <span class="o">+=</span> <span class="n">new_v</span>  <span class="c1"># å“ªæ€•èµ‹å€¼äº†ä¼šè§£é‡Šè‡ªç”±å˜é‡ã€‚</span>
</span><span class="hll">        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="hll">        <span class="n">series</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_v</span><span class="p">)</span>  <span class="c1"># è‡ªç”±å˜é‡</span>
</span><span class="hll">        <span class="k">return</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="n">series</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">series</span><span class="p">)</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">total</span><span class="o">/</span><span class="n">count</span><span class="si">}</span><span class="s1">'</span>
</span>
    <span class="k">return</span> <span class="n">inner</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">avg</span> <span class="o">=</span> <span class="n">outer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avg</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">'10.0 10.0'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avg</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="go">'10.5 10.5'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avg2</span> <span class="o">=</span> <span class="n">outer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avg2</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">'0 0'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avg</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_freevars</span>
<span class="go">('count', 'series', 'total')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avg</span><span class="o">.</span><span class="vm">__closure__</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cell_contents</span>
<span class="go">[10, 11]</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">glo</span> <span class="o">=</span> <span class="s1">'a'</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">glo</span><span class="p">)</span>  <span class="c1"># ä½¿ç”¨å†…éƒ¨å˜é‡</span>
    <span class="n">glo</span> <span class="o">=</span> <span class="mi">3</span>     <span class="c1"># å®šä¹‰å†…éƒ¨å˜é‡</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">glo</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">()</span>
<span class="go">UnboundLocalError: cannot access local variable 'glo'</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Sol_A</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">glo</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">glo</span><span class="p">)</span>
    <span class="n">glo</span> <span class="o">=</span> <span class="s1">'A'</span>    <span class="c1"># ä¿®æ”¹å¤–éƒ¨å˜é‡</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">glo</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">Sol_B</span><span class="p">():</span>
    <span class="n">glo</span> <span class="o">=</span> <span class="s1">'B'</span>    <span class="c1"># å®šä¹‰å†…éƒ¨å˜é‡</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">glo</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sol_A</span><span class="p">()</span>
<span class="go">a</span>
<span class="go">A</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">glo</span><span class="p">)</span>  <span class="c1"># å¤–éƒ¨å˜é‡æ”¹å˜</span>
<span class="go">A</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sol_B</span><span class="p">()</span>
<span class="go">B</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">glo</span><span class="p">)</span>  <span class="c1"># å¤–éƒ¨å˜é‡ä¸å˜</span>
<span class="go">A</span>
</pre></div>
</div>
</section>
<section id="id13">
<h3 id="id13">å‡½æ•°åˆ†ç±»<a class="headerlink" href="#id13" title="Link to this heading">Â¶</a></h3>
<section id="id14">
<h4 id="id14">ç”¨æˆ·å®šä¹‰çš„å‡½æ•°<a class="headerlink" href="#id14" title="Link to this heading">Â¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">def</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">lambda</span></code>  åˆ›å»º</p>
<section id="lambda">
<h5 id="lambda">lambda åŒ¿åå‡½æ•°<a class="headerlink" href="#lambda" title="Link to this heading">Â¶</a></h5>
<p>åœ¨è¡¨è¾¾å¼å†…åˆ›å»ºï¼Œå®šä¹‰ä½“å†…ä¸èƒ½èµ‹å€¼ï¼Œä¸èƒ½ç”¨ while forã€‚</p>
</section>
</section>
<section id="id15">
<h4 id="id15">å†…ç½®å‡½æ•°<a class="headerlink" href="#id15" title="Link to this heading">Â¶</a></h4>
<p>ç”Ÿæˆè¿­ä»£å™¨ iterator (åç»­éœ€è¦æ­é…  <code class="docutils literal notranslate"><span class="pre">list</span></code>  ç­‰å‚¨å­˜)ï¼š <code class="docutils literal notranslate"><span class="pre">map</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">filter</span></code></p>
<p>è§„çº¦å‡½æ•°ï¼š <code class="docutils literal notranslate"><span class="pre">sum</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">all</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">any</span></code></p>
<section id="map">
<h5 id="map">map<a class="headerlink" href="#map" title="Link to this heading">Â¶</a></h5>
<div class="admonition-map-for admonition note">
<p class="admonition-title">ä¸ºä»€ä¹ˆ map è¿è¡Œé€Ÿåº¦æ¯” for å¾ªç¯è¦å¿«</p>
<div class="line-block">
<div class="line">map ç”¨ C ç¼–å†™çš„å¹¶ä¸”ç»è¿‡é«˜åº¦ä¼˜åŒ–, <strong>åº•å±‚è‡ªåŠ¨å®ç°å¹¶è¡Œ</strong></div>
<div class="line">ä½¿ç”¨ map() çš„ç¬¬äºŒä¸ªä¼˜åŠ¿ä¸å†…å­˜æ¶ˆè€—æœ‰å…³ã€‚ä½¿ç”¨ for å¾ªç¯ï¼Œæ‚¨éœ€è¦å°†æ•´ä¸ªåˆ—è¡¨å­˜å‚¨åœ¨ç³»ç»Ÿçš„å†…å­˜ä¸­ã€‚ä½¿ç”¨ map() å¯ä»¥æŒ‰éœ€è·å¾—é¡¹ç›®ï¼Œå¹¶ä¸”åœ¨ç»™å®šæ—¶é—´ç³»ç»Ÿå†…å­˜ä¸­åªæœ‰ä¸€ä¸ªé¡¹ç›®ã€‚</div>
</div>
</div>
<p>[Pythonâ€™s map(): Processing Iterables Without a Loop]</p>
<p><code class="docutils literal notranslate"><span class="pre">map(function,</span> <span class="pre">iterable[,</span> <span class="pre">iterable1,</span> <span class="pre">iterable2,...,</span> <span class="pre">iterableN])</span></code></p>
<p>å¦‚æœæˆ‘ä»¬å°†nåºåˆ—ä¼ é€’ç»™map()ï¼Œåˆ™è¯¥å‡½æ•°å¿…é¡»é‡‡ç”¨nä¸ªå‚æ•°ï¼Œå¹¶ä¸”å¹¶è¡Œä½¿ç”¨åºåˆ—ä¸­çš„é¡¹ï¼Œç›´åˆ°ç”¨å°½æœ€çŸ­çš„åºåˆ—ã€‚</p>
<div class="admonition- admonition danger">
<p class="admonition-title">æ­»å¾ªç¯</p>
<p>çº¯è®¡ç®—æ—  IO çš„æ­»å¾ªç¯ä¼šå¯¼è‡´è‡´å‘½çš„æ•ˆç‡é—®é¢˜</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<div class="literal-block-wrapper docutils container" id="id56">
<div class="code-block-caption"><span class="caption-text">æœ‰ IO ä¼šå¡ IO æ‰€ä»¥ä¸ä¼šæ­»æœº</span><a class="headerlink" href="#id56" title="Link to this code">Â¶</a></div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-column docutils">
<div class="literal-block-wrapper docutils container" id="id57">
<div class="code-block-caption"><span class="caption-text">æ²¡æœ‰ IO ä¼šè€—å°½è®¡ç®—èµ„æº</span><a class="headerlink" href="#id57" title="Link to this code">Â¶</a></div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="mi">1</span><span class="o">+</span><span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="id16">
<h5 id="id16">è§„çº¦å‡½æ•°<a class="headerlink" href="#id16" title="Link to this heading">Â¶</a></h5>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">sum(iterable)</span></code> <strong>ç´¯è®¡</strong> ä¹‹å‰çš„ç»“æœæ±‚å’Œ</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">all(iterable)</span></code>  åªæœ‰å…¨ True æ‰æ˜¯ True</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">any(iterable)</span></code>  ä¸€ä¸ª True éƒ½æ˜¯ True</div>
</div>
</section>
</section>
<section id="id17">
<h4 id="id17">è£…é¥°å™¨<a class="headerlink" href="#id17" title="Link to this heading">Â¶</a></h4>
<div class="line-block">
<div class="line"><span class="defi">è£…é¥°å™¨</span> æ˜¯å¯è°ƒç”¨å¯¹è±¡ï¼Œå‚æ•°æ˜¯å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼ˆ <span class="defi">è¢«è£…é¥°çš„å‡½æ•°</span> ï¼‰ã€‚ç›®çš„æ˜¯åœ¨ä¸ä¿®æ”¹è¢«è£…é¥°å™¨å¯¹è±¡ <strong>æºä»£ç &amp;è°ƒç”¨æ–¹å¼</strong> çš„å‰æä¸‹ä¸ºå…¶æ·»åŠ æ–°åŠŸèƒ½ã€‚</div>
<div class="line">è£…é¥°å™¨å¯èƒ½ï¼š 1ï¸âƒ£ å¤„ç†è¢«è£…é¥°çš„å‡½æ•°å†å°†å…¶è¿”å›ï¼› 2ï¸âƒ£ å°†å…¶æ›¿æ¢æˆå¦å¤–ä¸€ä¸ªå‡½æ•°æˆ–å¯è°ƒç”¨å¯¹è±¡åœ¨è¿”å›ã€‚</div>
</div>
<div class="admonition- admonition note">
<p class="admonition-title">è£…é¥°å™¨åªæ˜¯è¢«è£…é¥°å‡½æ•°çš„å»¶ä¼¸ï¼Œæ ¸å¿ƒè¿˜æ˜¯è¢«è£…é¥°å‡½æ•°ã€‚</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<p><strong>åº”è¯¥æŠŠ wrapper åšçš„è·ŸåŸå‡½æ•°ä¸€æ ·</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">func.__name__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">func.__doc__</span></code></p></li>
</ul>
<p>â€¦</p>
</div>
<div class="sd-col sd-d-flex-column docutils">
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>

<span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>  <span class="c1"># æŠŠåŸå‡½æ•°çš„å±æ€§å¤åˆ¶ç»™è£…é¥°å™¨å‡½æ•°</span>
<span class="k">def</span> <span class="nf">decorate</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>  <span class="c1"># è£…é¥°å™¨</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'running decorator(</span><span class="si">{</span><span class="n">func</span><span class="si">}</span><span class="s1">)'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">function</span>
    <span class="c1"># å¿…é¡»è¿”å› **ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡æˆ–è€…å‡½æ•°**</span>

<span class="nd">@decorate</span>  <span class="c1"># è£…é¥°</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="admonition-func-decorate-func-func-decorate-func admonition danger">
<p class="admonition-title">ç­‰äºçš„æ˜¯   <code class="docutils literal notranslate"><span class="pre">func</span> <span class="pre">=</span> <span class="pre">decorate(func)</span></code>  è€Œä¸æ˜¯  <code class="docutils literal notranslate"><span class="pre">func()</span> <span class="pre">=</span> <span class="pre">decorate(func)</span></code></p>
<ul>
<li><dl>
<dt>è£…é¥°å™¨ä¼šåœ¨è¢«è£…é¥°å‡½æ•°å®šä¹‰ä¹‹åç«‹åˆ»æ‰§è¡Œï¼Œé€šå¸¸æ˜¯åŠ è½½æ¨¡å—æ—¶ã€‚å³èƒŒåœ°é‡Œè¿è¡Œã€‚æ‰€ä»¥ä¸€èˆ¬ä¼šåˆ†å¼€å®šä¹‰ã€‚è£…é¥°å™¨åœ¨ä¸€ä¸ªæ¨¡å—ï¼Œåº”ç”¨åœ¨å…¶ä»–æ¨¡å—çš„å‡½æ•°ä¸Šã€‚ä½†æ˜¯ä¸ä»£è¡¨é©¬ä¸Šè¿è¡Œè¢«è£…é¥°çš„å‡½æ•°ã€‚</dt><dd><div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">decorate</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="go">running decorator(&lt;function func at 0x1356...&gt;)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
<div class="line-block">
<div class="line">å¦‚æœ  <code class="docutils literal notranslate"><span class="pre">decorate</span></code>  å†… return çš„æ˜¯åˆ«çš„å‡½æ•° ğŸŸ°  <code class="docutils literal notranslate"><span class="pre">func=deco.return_func</span></code>  ï¼Œé‚£ä¹ˆ  <code class="docutils literal notranslate"><span class="pre">func.__name__</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">func.__doc__</span></code>  å˜æˆäº†  <code class="docutils literal notranslate"><span class="pre">deco.return_func.__name__</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">deco.return_func.__doc__</span></code></div>
<div class="line">âœï¸  <code class="docutils literal notranslate"><span class="pre">functools.wraps</span></code> ï¼Œä¸ä»…èƒ½ä¼ é€’ï¼Œè¿˜èƒ½å®ç°å…³é”®å­—ä¼ å‚ã€‚</div>
</div>
<ul>
<li><dl>
<dt>è£…é¥°å™¨éœ€è¦è¿”å› <strong>ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡æˆ–è€…å‡½æ•°</strong>ï¼Œæ‰èƒ½åœ¨è¿è¡Œ  <code class="docutils literal notranslate"><span class="pre">func()</span></code>  æ—¶è¿”å›æ¥ è·Ÿåé¢çš„  <code class="docutils literal notranslate"><span class="pre">()</span></code>  ç»§ç»­ç”¨ã€‚&lt;u&gt;æ‰€ä»¥å¦‚æœ func éœ€è¦ä¼ å‚ï¼Œä¸€èˆ¬è£…é¥°å™¨éœ€è¦è¿›è¡ŒåµŒå¥—ã€‚&lt;/u&gt;</dt><dd><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">()</span> <span class="c1"># ç­‰åŒäº decorate(func)()</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
</div>
<div class="admonition- admonition warning">
<p class="admonition-title">è¢«è£…é¥°çš„å‡½æ•°å®Œå…¨æ˜¯ä½œä¸ºå‚æ•°ä¼ å…¥.</p>
<p><code class="docutils literal notranslate"><span class="pre">decorate(func)</span></code> ï¼Œæ­¤æ—¶æ²¡æœ‰å¸¦ <code class="docutils literal notranslate"><span class="pre">()</span></code> , æ‰€ä»¥  <code class="docutils literal notranslate"><span class="pre">func</span></code>  è¿˜æ²¡è¢«è°ƒç”¨ã€‚</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<p>è¢«è°ƒç”¨è¿è¡Œ</p>
<div class="literal-block-wrapper docutils container" id="id58">
<div class="code-block-caption"><span class="caption-text">åœ¨å‡½æ•°ä½“å†…è¢«è¿è¡Œ</span><a class="headerlink" href="#id58" title="Link to this code">Â¶</a></div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">deco1</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="c1"># å‡½æ•°ä½“å†… å¸¦ç€  ``()``</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id59">
<div class="code-block-caption"><span class="caption-text">è¿”å›è¿è¡Œ</span><a class="headerlink" href="#id59" title="Link to this code">Â¶</a></div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">deco2</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="c1"># è¢«è¿”å›</span>
    <span class="k">return</span> <span class="n">func</span>

<span class="c1"># func = deco2(func) = func</span>
<span class="c1"># deco2(func) () = func ()</span>
</pre></div>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-column docutils">
<p>å®Œå…¨æ²¡è¿è¡Œ</p>
<div class="literal-block-wrapper docutils container" id="id60">
<div class="code-block-caption"><span class="caption-text">æ²¡è¿è¡Œ func è¿è¡Œçš„æ˜¯ inner</span><a class="headerlink" href="#id60" title="Link to this code">Â¶</a></div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">deco3</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">inner</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="n">inner</span>

<span class="c1"># func = deco3(func) = inner</span>
<span class="c1"># deco3(func) () = inner ()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="admonition-example admonition hint">
<p class="admonition-title">Example: åœ¨å‡½æ•°ä½“å†…è¢«è¿è¡Œ</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">square_args</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">inner</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">inner</span>

<span class="nd">@square_args</span>
<span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span>

<span class="nb">print</span><span class="p">(</span><span class="n">multiply</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span> <span class="c1"># 3*2 *9*2 = 108</span>

<span class="sd">"""</span>
<span class="sd">multiply(3, 9)</span>
<span class="sd">= square_args(multiply)(3, 9)</span>
<span class="sd">= inner(multiply)(3, 9)</span>
<span class="sd">= å‡½æ•°ä½“å†…è¿è¡Œ res = func(a*2, b*2)</span>
<span class="sd">= multiply(3*2, 9*2)</span>
<span class="sd">"""</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition- admonition note">
<p class="admonition-title">è£…é¥°å™¨å¯ä»¥å æ”¾</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="nd">@d1</span>
<span class="nd">@d2</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
    <span class="k">pass</span>
<span class="c1"># ç­‰ä»·äº func = d1(d2(func))</span>
<span class="c1"># func() = d1(d2(func))()</span>
</pre></div>
</div>
</div>
<div class="admonition- admonition hint">
<p class="admonition-title">æ›´æ–°ç­–ç•¥ã€‚</p>
<p>å½“å•†åœºåšè¥é”€ï¼Œä¸æ–­æ›´æ–°ä¸åŒçš„æŠ˜æ‰£æ´»åŠ¨ï¼Œåœ¨ç»“ç®—çš„æ—¶å€™å¾€å¾€éœ€è¦è®¡ç®—ä¸åŒç­–ç•¥ä¸‹çš„ä»·æ ¼ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæŠŠ æ‰€æœ‰çš„æ´»åŠ¨å†™è¿›å»ç»“ç®—å‡½æ•°ï¼Œä¼šä½¿ç»“ç®—å‡½æ•°ä½“å˜é•¿è¿˜ä¼šåœ¨æ›´æ”¹çš„æ—¶å€™éœ€è¦ä¿®æ”¹ç€è‡³å…³é‡è¦çš„ç»“ç®—å‡½æ•°ï¼Œä½¿é”™è¯¯çš„å¯èƒ½å¢é«˜ã€‚æ‰€ä»¥æ€è·¯å¤§å¤šéƒ½æ˜¯æŠŠåˆ†å¼€ä¸€ä¸ªä¸ªç­–ç•¥å†™æˆå‡½æ•°ï¼Œç„¶åæ”¾è¿›ä¸€ä¸ªå…¨å±€å˜é‡çš„æ•°ç»„é‡Œï¼Œfor å¾ªç¯åœ°å» call æ•°ç»„é‡Œçš„ç­–ç•¥ã€‚ä½†æ˜¯åœ¨ç»´æŒæ•°ç»„éœ€è¦è®°å¾—ç›¸åº”çš„å‡½æ•°åï¼Œå¯¹æ•°ç»„é‡Œçš„å…ƒç´ è¿›è¡Œæ·»åˆ ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚æ‰€ä»¥é‡‡ç”¨è£…é¥°å™¨æ¥å®Œæˆ <strong>â€œæ³¨å†Œâ€</strong> è¿™ä¸€åŠŸèƒ½</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">promos</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">def</span> <span class="nf">promotion</span><span class="p">(</span><span class="n">promo_func</span><span class="p">):</span>
    <span class="n">promos</span><span class="o">.</span><span class="n">appred</span><span class="p">(</span><span class="n">promo_func</span><span class="p">)</span>  <span class="c1"># åªæ˜¯æ”¾è¿›å»ï¼Œä¸æ”¹å˜ promo_func æœ¬èº«</span>
    <span class="k">return</span> <span class="n">promo_func</span>

<span class="nd">@promotion</span>  <span class="c1"># éœ€è¦å°±åŠ ä¸Š</span>
<span class="k">def</span> <span class="nf">fidelity</span><span class="p">(</span><span class="n">order</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">discount</span>

<span class="c1"># @promotion  # ä¸éœ€è¦å°±æ³¨é‡Š</span>
<span class="k">def</span> <span class="nf">large_order</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">discount</span>

<span class="n">der</span> <span class="n">best_promo</span><span class="p">(</span><span class="n">order</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">promo</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="k">for</span> <span class="n">promo</span> <span class="ow">in</span> <span class="n">promos</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="id18">
<h5 id="id18">å‚æ•°åŒ–è£…é¥°å™¨<a class="headerlink" href="#id18" title="Link to this heading">Â¶</a></h5>
<ol class="arabic simple">
<li><p>è¢«è£…é¥°çš„å‡½æ•°æœ¬èº«éœ€è¦å‚æ•°</p></li>
<li><p>è£…é¥°å™¨æœ¬èº«ä¹Ÿæƒ³æ‹¥æœ‰å‚æ•°</p></li>
</ol>
<div class="admonition- admonition note">
<p class="admonition-title">ç¬¬ä¸€å±‚åµŒå¥— ä¸ºäº†ç”¨é—­åŒ…åœ¨å±€éƒ¨åç§°ç©ºé—´æ¥ä¼ é€’</p>
<p>!# å‚è€ƒé—­åŒ…</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<p>é—­åŒ… ã€‚å»¶ä¼¸äº†ä½œç”¨åŸŸçš„å‡½æ•°ï¼Œå…¶ä¸­åŒ…å«å‡½æ•°å®šä¹‰ä½“ä¸­è¿ç”¨ï¼Œä½†ä¸åœ¨å®šä¹‰ä½“å†…å®šä¹‰çš„ éå…¨å±€å˜é‡ã€‚ä¸€èˆ¬å‡ºç°åœ¨åµŒå¥—å‡½æ•°é‡Œã€‚</p>
</div>
<div class="sd-col sd-d-flex-column docutils">
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">parent</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">child</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<div class="literal-block-wrapper docutils container" id="id61">
<div class="code-block-caption"><span class="caption-text">æ— å‚è£…é¥°å™¨æ¨¡ç‰ˆ</span><a class="headerlink" href="#id61" title="Link to this code">Â¶</a></div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">outter</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">return</span> <span class="n">wrapper</span>
</pre></div>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-column docutils">
<div class="literal-block-wrapper docutils container" id="id62">
<div class="code-block-caption"><span class="caption-text">æœ‰å‚è£…é¥°å™¨æ¨¡ç‰ˆ</span><a class="headerlink" href="#id62" title="Link to this code">Â¶</a></div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">æœ‰å‚è£…é¥°å™¨</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">outter</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">return</span> <span class="n">outter</span>

<span class="nd">@æœ‰å‚è£…é¥°å™¨</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">è¢«è£…é¥°å¯¹è±¡</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="admonition-func-u-func-u admonition note">
<p class="admonition-title">è£…é¥°å™¨éœ€è¦è¿”å› <strong>ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡æˆ–è€…å‡½æ•°</strong> ï¼Œæ‰èƒ½åœ¨è¿è¡Œ  <code class="docutils literal notranslate"><span class="pre">func()</span></code>  æ—¶è¿”å›æ¥ è·Ÿåé¢çš„  <code class="docutils literal notranslate"><span class="pre">()</span></code>  ç»§ç»­ç”¨ã€‚&lt;u&gt;æ‰€ä»¥å¦‚æœ func éœ€è¦ä¼ å‚ï¼Œä¸€èˆ¬è£…é¥°å™¨éœ€è¦è¿›è¡ŒåµŒå¥—ã€‚&lt;/u&gt;</p>
</div>
<p>è¢«è£…é¥°çš„å‡½æ•°æœ¬èº«éœ€è¦å‚æ•° + è£…é¥°å™¨æœ¬èº«ä¹Ÿæƒ³æ‹¥æœ‰å‚æ•°</p>
<div class="admonition- admonition hint">
<p class="admonition-title">ä¸€ä¸ªå‚æ•°åŒ–çš„æ³¨å†Œè®¡æ—¶è£…é¥°å™¨</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">functools</span>
<span class="n">registry</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>  <span class="c1"># å¢åˆ æ›´å¿«</span>

<span class="hll"><span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="n">active</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>  <span class="c1"># è£…é¥°å·¥å‚å‡½æ•°</span>
</span><span class="hll">    <span class="k">def</span> <span class="nf">decorate</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>  <span class="c1"># çœŸæ­£çš„è£…é¥°å™¨ï¼ˆæ¥å—çš„æ˜¯å‡½æ•°</span>
</span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'running register=</span><span class="si">{</span><span class="n">active</span><span class="si">}</span><span class="s1"> --&gt; decorate </span><span class="si">{</span><span class="n">func</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">active</span><span class="p">:</span>  <span class="c1">#  True æ³¨å†Œ</span>
            <span class="n">registry</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># False æ³¨é”€</span>
            <span class="n">registry</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>

<span class="hll">        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>  <span class="c1"># åŒ…è£…ä¸€ä¸‹æ‰èƒ½æ¥å—å…³é”®è¯å‚æ•° &amp; å˜æˆ func å±æ€§</span>
</span><span class="hll">        <span class="k">def</span> <span class="nf">clocked</span><span class="p">(</span><span class="o">*</span><span class="n">_args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>  <span class="c1"># åŒ…è£…è¢«è£…é¥°çš„å‡½æ•°</span>
</span>            <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
            <span class="n">_result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">_args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># æ¥å—åŒæ ·çš„å‚æ•°</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="hll">            <span class="k">return</span> <span class="n">_result</span>  <span class="c1"># è¿”å›ï¼šæƒ³è¦çš„ç»“æœ</span>
</span>
<span class="hll">        <span class="k">return</span> <span class="n">clocked</span>  <span class="c1"># è¿”å›ï¼šå‡½æ•°</span>
</span>
<span class="hll">    <span class="k">return</span> <span class="n">decorate</span>  <span class="c1"># è¿”å›ï¼šè£…é¥°å™¨</span>
</span>
<span class="hll"><span class="nd">@register</span><span class="p">(</span><span class="n">active</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># f1 æ³¨é”€</span>
</span><span class="k">def</span> <span class="nf">f1</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="hll"><span class="nd">@register</span><span class="p">()</span>  <span class="c1"># å¿…é¡»ä½œä¸ºå‡½æ•°è°ƒç”¨</span>
</span><span class="k">def</span> <span class="nf">f2</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="hll"><span class="n">f1</span> <span class="o">=</span> <span class="n">register</span><span class="p">()(</span><span class="n">f1</span><span class="p">)</span> <span class="c1"># f1 é‡æ–°æ³¨å†Œ</span>
</span></pre></div>
</div>
</div>
</section>
<section id="id19">
<h5 id="id19">ç°æœ‰çš„æœ‰ç”¨çš„è£…é¥°å™¨<a class="headerlink" href="#id19" title="Link to this heading">Â¶</a></h5>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">functools.lru_cache(maxsize=128,</span> <span class="pre">typed=False)</span></code>  åšå¤‡å¿˜ã€‚ã€è‡ªåŠ¨ä¼˜åŒ–ã€‘ã€‚å‚¨å­˜è€—æ—¶çš„å‡½æ•°è°ƒç”¨ç»“æœï¼Œé¿å…é‡æ–°è®¡ç®—ã€‚</div>
<div class="line">Least Recently Used  ç¼“å­˜ä¸ä¼šæ— é™å¢é•¿ï¼Œä¸€æ®µæ—¶é—´ä¸ç”¨å°±ä¼šè¢«æ‰”æ‰ã€‚</div>
<div class="line">ç”¨å­—å…¸å­˜å‚¨ç»“æœï¼Œæ‰€ä»¥ç”¨  <code class="docutils literal notranslate"><span class="pre">lru_cache</span></code>  ä¿®é¥°çš„å‡½æ•°æ‰€æœ‰å‚æ•°å¿…é¡»æ˜¯å¯æ•£åˆ—çš„</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">maxsize</span></code>  è¶…è¿‡ä¼šè¢«èˆå¼ƒï¼Œå»ºè®® 2çš„å¹‚</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">typed</span></code>  æ˜¯å¦æ ¹æ®ç±»å‹æŠŠç¼“å­˜çš„ä¸œè¥¿åˆ†å¼€å­˜æ”¾</p></li>
</ul>
<div class="admonition-n-f-n-f-n-1-f-n-2-f-6-f-2-5 admonition hint">
<p class="admonition-title">ç¬¬ n ä¸ª æ–æ³¢é‚£å¥‘æ•° f(n) = f(n-1)+f(n-2) å½“ç®—f(6)çš„æ—¶å€™ f(2)ä¼šç®—5éã€‚ã€‚ã€‚é‡å¤è®¡ç®—</p>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">functools</span>

<span class="nd">@functools</span><span class="o">.</span><span class="n">lru_cache</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">functools.wraps</span></code> ï¼ŒåŒ…è£…ä½¿å¾—è£…é¥°åçš„å‡½æ•°æˆ–å¯¹è±¡æ‹¥æœ‰è¢«è£…é¥°å‡½æ•°çš„ <code class="docutils literal notranslate"><span class="pre">__doc__</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">__name__</span></code>  ç­‰ï¼Œè¿˜èƒ½å®ç°å…³é”®å­—ä¼ å‚ã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">functools.singledispatch</span></code>  å¯ä»¥å§æ•´ä½“æ–¹æ¡ˆæ‹†åˆ†æˆå¤šä¸ªæ¨¡å—ã€‚</div>
<div class="line">ä½¿ç”¨  <code class="docutils literal notranslate"><span class="pre">singledispatch</span></code>  è£…é¥°çš„æ™®é€šå‡½æ•°ä¼šå˜æˆ <strong>æ³›å‡½æ•°</strong>ã€‚</div>
<div class="line">ä½¿ç”¨  <code class="docutils literal notranslate"><span class="pre">@func.register(type)</span></code>  æ¥è£…é¥°ï¼Œå› ä¸ºé€‰ç”¨çš„å‡½æ•°åå­—æ²¡æœ‰å…³ç³»ï¼Œæ‰€ä»¥  <code class="docutils literal notranslate"><span class="pre">_</span></code>  æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©</div>
<div class="line">è£…é¥°å™¨ å æ”¾ æ”¯æŒä¸åŒç±»å‹</div>
<div class="line">æ³¨å†Œçš„å‡½æ•°ä¸ä¸€å®šä¸åŸæ¥çš„å‡½æ•°æ”¾åœ¨ä¸€å—ï¼Œå¯ä»¥åœ¨ä¸åŒçš„æ¨¡å—å»åšï¼Œä¹Ÿå¯ä»¥ä¸ºä¸æ˜¯è‡ªå·±å†™çš„æˆ–è€…ä¸èƒ½ä¿®æ”¹é‚£é‡Œå»åŠ ã€‚</div>
</div>
<div class="admonition-numbers-integral-abc-mutablesequence-int-list admonition note">
<p class="admonition-title">ä½¿ç”¨æŠ½è±¡åŸºç±»  <code class="docutils literal notranslate"><span class="pre">numbers.Integral</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">abc.MutableSequence</span></code>  è€Œä¸æ˜¯å…·ä½“å®ç°  <code class="docutils literal notranslate"><span class="pre">int</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">list</span></code></p>
<p>å¯ä»¥æ”¯æŒæŠ½è±¡åŸºç±»ä»¥åŠæœªæ¥çš„å…·ä½“å­ç±»æˆ–è™šæ‹Ÿå­ç±»ï¼Œä½¿å¾—ä»£ç æ”¯æŒçš„å…¼å®¹ç±»å‹1æ›´å¹¿æ³›ã€‚</p>
</div>
<div class="admonition-p admonition hint">
<p class="admonition-title">æƒ³è¦ç”Ÿæˆä¸€ä¸ªæ ‡ç­¾ï¼Œå¸¸è§„çš„å‰åç”¨ â€œpâ€ åŒ…å›´ã€‚å¦‚æœæ˜¯</p>
<div class="line-block">
<div class="line">æ•°å­—ï¼šæ˜¾ç¤ºåè¿›åˆ¶ &amp; 16è¿›åˆ¶ï¼Œå‰åç”¨ â€œpreâ€ åŒ…å›´</div>
<div class="line">strï¼šé‡Œé¢çš„æ¢è¡Œç¬¦â€œnâ€ å˜æˆ â€œbrâ€</div>
<div class="line">listï¼šå¯¹æ¯ä¸ªå…ƒç´ éƒ½äº§ç”Ÿç›¸åº”çš„æ ‡ç­¾</div>
</div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">singledispatch</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">abc</span>
<span class="kn">import</span> <span class="nn">numbers</span>

<span class="hll"><span class="nd">@singledispatch</span>
</span><span class="k">def</span> <span class="nf">tag</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>  <span class="c1"># obj ç±»åŸºå‡½æ•°</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">'&lt;p&gt;</span><span class="si">{</span><span class="n">obj</span><span class="si">}</span><span class="s1">&lt;/p&gt;'</span>

<span class="hll"><span class="nd">@tag</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">)</span>  <span class="c1"># æ˜¯ int çš„è™šæ‹Ÿè¶…ç±»</span>
</span><span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">'&lt;pre&gt;</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1"> &amp; </span><span class="si">{</span><span class="nb">hex</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="si">}</span><span class="s1">&lt;/pre&gt;'</span>

<span class="hll"><span class="nd">@tag</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</span><span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="n">content</span><span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">,</span> <span class="s1">'&lt;</span><span class="se">\b</span><span class="s1">r&gt;'</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">'&lt;p&gt;</span><span class="si">{</span><span class="n">content</span><span class="si">}</span><span class="s1">&lt;p&gt;'</span>

<span class="hll"><span class="nd">@tag</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>  <span class="c1"># å æ”¾ æ”¯æŒä¸åŒç±»å‹</span>
</span><span class="hll"><span class="nd">@tag</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">)</span>
</span><span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="n">content</span> <span class="o">=</span> <span class="s1">'&lt;/li&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tag</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">'&lt;ul&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;</span><span class="si">{</span><span class="n">content</span><span class="si">}</span><span class="s1">&lt;/li&gt;</span><span class="se">\n</span><span class="s1">&lt;ul&gt;'</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tag</span><span class="p">([</span><span class="s1">'a/nb'</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span>
<span class="go">'&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;a/nb&lt;p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;pre&gt;2 &amp; 0x2&lt;/pre&gt;&lt;/li&gt;\n&lt;ul&gt;'</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="id20">
<h3 id="id20">å‡½æ•°å¼ç¼–ç¨‹<a class="headerlink" href="#id20" title="Link to this heading">Â¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">operator</span> <span class="pre">module</span></code></p>
<ul>
<li><dl class="simple">
<dt>ä¸ºç®—æœ¯è¿ç®—ç¬¦æä¾›å¯¹åº”å‡½æ•°</dt><dd><p><code class="docutils literal notranslate"><span class="pre">mul(a,b)</span></code>  ğŸŸ°  <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">a,</span> <span class="pre">b:</span> <span class="pre">a*b</span></code></p>
</dd>
</dl>
</li>
<li><dl>
<dt>ä»åºåˆ—ä¸­**å–å‡ºå…ƒç´ ** ï½œ <strong>è¯»å–å¯¹è±¡å±æ€§</strong></dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">itemgetter(n)</span></code>  ğŸŸ°  <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">seq:</span> <span class="pre">seq[n]</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">attrgetter('a')</span></code>  ğŸŸ° <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">obj:</span> <span class="pre">obj.a</span></code></div>
</div>
</dd>
</dl>
</li>
</ul>
<p>å¦‚æœä¼ å…¥çš„æ˜¯å¤šä¸ªå‚æ•°ï¼Œè¿”å›æ¥çš„å°±ä¼šæ˜¯å¯¹åº”çš„å…ƒç»„</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">itemgetter</span><span class="p">,</span> <span class="n">attrgetter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seq</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">'A'</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="s1">'D'</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">'B'</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">'C'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Obj</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">return</span> <span class="sa">f</span><span class="s1">'&lt;Obj (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="si">}</span><span class="s1">)&gt;'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">objs</span> <span class="o">=</span> <span class="p">[</span><span class="n">Obj</span><span class="p">(</span><span class="o">*</span><span class="n">obj</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[('C', 1), ('D', 2), ('B', 2), ('A', 3)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="go">[('C', 1), ('B', 2), ('D', 2), ('A', 3)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">objs</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">'b'</span><span class="p">))</span>
<span class="go">[&lt;Obj (C,1)&gt;, &lt;Obj (D,2)&gt;, &lt;Obj (B,2)&gt;, &lt;Obj (A,3)&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">objs</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'a'</span><span class="p">))</span>
<span class="go">[&lt;Obj (C,1)&gt;, &lt;Obj (B,2)&gt;, &lt;Obj (D,2)&gt;, &lt;Obj (A,3)&gt;]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">functools</span> <span class="pre">module</span></code></p>
<ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">reduceï¼ˆfunc,</span> <span class="pre">iterable,</span> <span class="pre">initializer)</span></code></dt><dd><dl>
<dt><code class="docutils literal notranslate"><span class="pre">initializer</span></code>  é¿å…å‡ºç°  <code class="docutils literal notranslate"><span class="pre">TyperErrorï¼šempty</span> <span class="pre">sequence</span> <span class="pre">with</span> <span class="pre">no</span> <span class="pre">initial</span> <span class="pre">value</span></code> ã€‚å¦‚æœåºåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å›åˆå§‹å€¼ã€‚å¦åˆ™åœ¨å½’çº¦ä¸­ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä½¿ç”¨ï¼Œæ‰€ä»¥åº”è¯¥ä½¿ç”¨æ’ç­‰å€¼</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">*</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> : 1</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">+</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">^</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">|</span></code> : 0</div>
</div>
</dd>
</dl>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">partial</span></code> <strong>éƒ¨åˆ†åº”ç”¨**ä¸€ä¸ª**å‡½æ•°</strong>ã€‚åŸºäºä¸€ä¸ªå‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„å¯è°ƒç”¨å¯¹è±¡ï¼ŒæŠŠåŸå‡½æ•°çš„æŸäº›å‚æ•°å›ºå®šã€‚</dt><dd><p>å¯ä»¥é€šè¿‡  <code class="docutils literal notranslate"><span class="pre">func.func</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">func.args</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">func.keywords</span></code>  æ¥æŸ¥è¯¢å›ºå®šäº†çš„åŸå‡½æ•°å’Œå‚æ•°</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">partialmethod</span></code>  å’Œ  <code class="docutils literal notranslate"><span class="pre">partial</span></code>  ç±»ä¼¼ï¼Œåè€…å¤„ç†**æ–¹æ³•**</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lru_cache</span></code>  åšå¤‡å¿˜ã€‚ã€è‡ªåŠ¨ä¼˜åŒ–ã€‘ã€‚å‚¨å­˜è€—æ—¶çš„å‡½æ•°è°ƒç”¨ç»“æœï¼Œé¿å…é‡æ–°è®¡ç®—ã€‚</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">mul</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">triple</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">mul</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># æœ¬æ¥æ˜¯ mul(a, b)ï¼Œå›ºå®šäº† a=3</span>
</span><span class="gp">&gt;&gt;&gt; </span><span class="n">triple</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>  <span class="c1"># ä¸€ä¸ªæ–°çš„è°ƒç”¨å¯¹è±¡ï¼Œè¿”å›3å€çš„ç»“æœ</span>
<span class="go">21</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">triple</span><span class="o">.</span><span class="n">func</span>
</span><span class="go">&lt;built-in function mul&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="class">
<h2 id="class">Class<a class="headerlink" href="#class" title="Link to this heading">Â¶</a></h2>
<div class="admonition- admonition danger">
<p class="admonition-title">æ–¹æ³•å’Œå‡½æ•¸</p>
<table>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"></th>
<th class="head"><p>inplaced</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>æ–¹æ³•</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">var.func()</span></code></p></td>
<td><p>å†…ç½®, âœ…</p></td>
</tr>
<tr class="row-odd"><td><p>å‡½æ•°</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">func(var)</span></code></p></td>
<td><p>âŒ</p></td>
</tr>
</tbody>
</table>
</div>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>æŒ‰å­˜å€¼ä¸ªæ•°åŒºåˆ†</p></th>
<th class="head"></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>åªèƒ½å­˜ä¸€ä¸ªå€¼</p></td>
<td><p>æ ‡é‡/åŸå­ç±»å‹</p></td>
<td><p>æ•°å­—ã€å­—ç¬¦ä¸²</p></td>
</tr>
<tr class="row-odd"><td><p>å¯ä»¥å­˜æ”¾å¤šä¸ªå€¼</p></td>
<td><p>å®¹å™¨ç±»å‹</p></td>
<td><p>åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸</p></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>æŒ‰ç…§è®¿é—®æ–¹å¼åŒºåˆ†</p></th>
<th class="head"></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ç›´æ¥è®¿é—®</p></td>
<td><p>åªèƒ½é€šè¿‡å˜é‡åè®¿é—®æ•´ä¸ªå€¼</p></td>
<td><p>æ•°å­—</p></td>
</tr>
<tr class="row-odd"><td><p>é¡ºåºè®¿é—®</p></td>
<td><p>å¯ä»¥ç”¨ç´¢å¼•è®¿é—®æŒ‡å®šçš„å€¼ï¼Œç´¢å¼•Iä»£è¡¨é¡ºåºï¼Œåˆç§°ä¸ºåºåˆ—ç±»å‹</p></td>
<td><p>å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„</p></td>
</tr>
<tr class="row-even"><td><p>keyè®¿é—®</p></td>
<td><p>å¯ä»¥ç”¨keyè®¿é—®æŒ‡å®šçš„å€¼ï¼Œåˆç§°ä¸ºæ˜ å°„ç±»å‹</p></td>
<td><p>å­—å…¸</p></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>æŒ‰å¯å˜ä¸å¯å˜åŒºåˆ†</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>å¯å˜ç±»å‹</p></td>
<td><p>åˆ—è¡¨ã€å®‡å…¸</p></td>
</tr>
<tr class="row-odd"><td><p>ä¸å¯å˜ç±»å‹</p></td>
<td><p>æ•°å­—ã€å­—ç¬¦ä¸²ã€å…ƒç»„</p></td>
</tr>
</tbody>
</table>
<section id="none">
<h3 id="none">ç©º  <code class="docutils literal notranslate"><span class="pre">None</span></code><a class="headerlink" href="#none" title="Link to this heading">Â¶</a></h3>
<div class="admonition- admonition danger">
<p class="admonition-title">æ•°æ®ä¸ºç©ºä¸ä»£è¡¨æ˜¯ç©ºå¯¹è±¡</p>
<table>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>åŒ…æ‹¬</p></th>
<th class="head"><p>åˆ¤åˆ«</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ç©ºçš„å¯¹è±¡</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">instance==None</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>æ•°æ®ä¸ºç©º</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[],</span> <span class="pre">'',</span> <span class="pre">{},</span> <span class="pre">()</span></code> , <code class="docutils literal notranslate"><span class="pre">None</span></code> , <code class="docutils literal notranslate"><span class="pre">0,</span> <span class="pre">False</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">instance</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id21">
<h3 id="id21">åŸå­ä¸å¯å˜å¯¹è±¡<a class="headerlink" href="#id21" title="Link to this heading">Â¶</a></h3>
<p><span class="defi">å¯æ•£åˆ—</span></p>
<section id="int-float">
<h4 id="int-float">æ•°å€¼  <code class="docutils literal notranslate"><span class="pre">int</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">float</span></code><a class="headerlink" href="#int-float" title="Link to this heading">Â¶</a></h4>
<p>è½¬æ¢</p>
<p>ä¸  <code class="docutils literal notranslate"><span class="pre">char</span></code>  çš„è½¬æ¢</p>
<div class="admonition-float admonition danger">
<p class="admonition-title">ä¸‡äº‹å…ˆè½¬  <code class="docutils literal notranslate"><span class="pre">float()</span></code></p>
<div class="line-block">
<div class="line">åœ¨ä¸ç¡®å®šè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯æ•´å½¢è¿˜æ˜¯æµ®ç‚¹æ•°çš„æƒ…å†µä¸‹, å…ˆè½¬æˆ <code class="docutils literal notranslate"><span class="pre">float()</span></code> ï¼Œå†è½¬ <code class="docutils literal notranslate"><span class="pre">int()</span></code></div>
<div class="line">[ValueError: invalid literal for int() with base 10é—®é¢˜å¤„ç†]</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">int(str)</span></code>  å°†**ç¬¦åˆæ•´æ•°**çš„è§„å®šçš„å­—ç¬¦ä¸²è½¬æ¢æˆ int</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">float(str)</span></code>  å°†**ç¬¦åˆæµ®ç‚¹å‹**çš„è§„å®šçš„å­—ç¬¦ä¸²è½¬æ¢æˆ float</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str(num)</span></code>  å°†**æ•´æ•°ã€æµ®ç‚¹å‹**è½¬æ¢æˆ char</p></li>
</ul>
<p>è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢</p>
<p>[Python äºŒè¿›åˆ¶ï¼Œåè¿›åˆ¶ï¼Œåå…­è¿›åˆ¶è½¬æ¢]</p>
<ul class="simple">
<li><p>â¡ï¸ 10ï¼š <code class="docutils literal notranslate"><span class="pre">int(str,</span> <span class="pre">origin_è¿›åˆ¶)</span></code></p></li>
<li><p>10 â¡ï¸ 2:  <code class="docutils literal notranslate"><span class="pre">bin(int)</span></code></p></li>
<li><p>10 â¡ï¸ 16:  <code class="docutils literal notranslate"><span class="pre">hex(x)</span></code></p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">""" 16 -&gt; 10 """</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="s1">'B'</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
<span class="go">11</span>
</pre></div>
</div>
<p>&lt;u&gt;Base convention&lt;/u&gt;ï¼š <span class="defi">é™¤åŸºå€’å–ä½™æ³•</span></p>
<p><strong>ä»¥10è¿›åˆ¶è½¬2è¿›åˆ¶ä¸ºä¾‹</strong>ï¼š</p>
<p>è¾“å…¥ä¸€ä¸ªåè¿›åˆ¶æ•°nï¼Œæ¯æ¬¡ç”¨né™¤ä»¥2ï¼ŒæŠŠä½™æ•°è®°ä¸‹æ¥ï¼Œå†ç”¨å•†å»é™¤ä»¥2â€¦ä¾æ¬¡å¾ªç¯ï¼Œç›´åˆ°å•†ä¸º0ç»“æŸï¼ŒæŠŠä½™æ•°å€’ç€ä¾æ¬¡æ’åˆ—ï¼Œå°±æ„æˆäº†è½¬æ¢åçš„äºŒè¿›åˆ¶æ•°ã€‚</p>
<p>æ‰€æœ‰è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢éƒ½æ˜¯å¦‚æ­¤ï¼Œ2å¯ä»¥æ¢æˆä»»ä½•æ•°å­—ã€‚åè¿›åˆ¶è½¬äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶ã€64è¿›åˆ¶ï¼Œ</p>
<img alt="../_images/baseconvertion1.png" src="../_images/baseconvertion1.png"/>
<img alt="../_images/baseconvertion2.png" src="../_images/baseconvertion2.png"/>
<img alt="../_images/baseconvertion3.png" src="../_images/baseconvertion3.png"/>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">two_ten</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">""" 2 -&gt; 10 """</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">i</span><span class="p">])</span><span class="o">*</span><span class="mi">2</span><span class="o">**</span><span class="n">i</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">))))</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">ten_two</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">""" 10 -&gt; 2 """</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="n">a</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">a</span><span class="o">%</span><span class="mi">2</span><span class="p">))</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span>
    <span class="n">ans</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
    <span class="k">return</span> <span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">two_eight</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">""" 2 -&gt; 8 """</span>
    <span class="n">ans</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">=</span> <span class="p">[],</span> <span class="mi">0</span>
    <span class="n">num</span><span class="p">,</span> <span class="n">more</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">//</span><span class="mi">3</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">%</span><span class="mi">3</span>
    <span class="n">a</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>
    <span class="n">tmp</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">more</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">more</span><span class="p">):</span>
            <span class="n">tmp</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="n">more</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">ans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">tmp</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">more</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="n">more</span><span class="o">+</span> <span class="mi">1</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="n">more</span><span class="o">+</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1</span>
        <span class="n">ans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">tmp</span><span class="p">))</span>
    <span class="k">return</span> <span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span>
</pre></div>
</div>
<p>æ ¼å¼è¦æ±‚</p>
</section>
</section>
<section id="id22">
<h3 id="id22">åºåˆ—<a class="headerlink" href="#id22" title="Link to this heading">Â¶</a></h3>
<p>ä»»ä½•ä¸€ç§éƒ½æ»¡è¶³ è¿­ä»£ã€åˆ‡ç‰‡ã€æ’åºã€æ‹¼æ¥</p>
<p>æŒ‰&lt;u&gt;æ˜¯å¦å­˜æ”¾å¤šç§ç±»å‹&lt;/u&gt; ğŸŸ° &lt;u&gt;æ˜¯å¦å­˜æ”¾çš„æ˜¯å¼•ç”¨&lt;/u&gt;</p>
<ul class="simple">
<li><dl class="simple">
<dt>âœ… <span class="defi">å®¹å™¨åºåˆ—</span> ã€‚å­˜æ”¾çš„æ˜¯å®ƒä»¬æ‰€åŒ…å«çš„ <strong>ä»»æ„ç±»å‹</strong> çš„å¯¹è±¡çš„ <strong>å¼•ç”¨</strong></dt><dd><p>list, tuple, collections.deque</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>âŒ <span class="defi">æ‰å¹³åºåˆ—</span> ã€‚å­˜æ”¾çš„æ˜¯**å€¼**, ä¸€æ®µè¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæ›´ç´§å‡‘ï¼Œåªèƒ½å­˜æ”¾å­—ç¬¦ã€å­—èŠ‚å’Œæ•°å€¼è¿™ç§ <strong>åŸå­æ•°æ®ç±»å‹</strong>ã€‚æ¯æ¬¡åªèƒ½å­˜æ”¾ä¸€ç§ç±»å‹ã€‚</dt><dd><p>str, bytes, bytearray, memoryview, array.array</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition-set-dict admonition warning">
<p class="admonition-title">set &amp; dict å±äº å®¹å™¨ ä½†æ˜¯ä¸å±äºåºåˆ—ã€‚</p>
</div>
<p>æŒ‰&lt;u&gt;èƒ½å¦è¿­ä»£&lt;/u&gt;</p>
<ul class="simple">
<li><dl class="simple">
<dt>âœ… <span class="defi">IterableObject å¯è¿­ä»£å¯¹è±¡</span> ã€‚å¦‚æœæˆ‘ä»¬å¯ä»¥ä»ä¸­è·å–è¿­ä»£å™¨ã€‚åªè¦å¯¹è±¡æ˜¯å¯è¿­ä»£çš„, å°±å¯ä»¥æ‰§è¡Œ <strong>åˆ†è§£æ“ä½œ</strong></dt><dd><p>str, tuple, list, dict</p>
</dd>
</dl>
</li>
</ul>
<p>æŒ‰&lt;u&gt;èƒ½å¦è¢«ä¿®æ”¹&lt;/u&gt;</p>
<ul class="simple">
<li><dl class="simple">
<dt>âœ… <span class="defi">Mutable Sequence</span></dt><dd><p>list, bytearray, array.array, collections.deque, memoryview</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>âŒ <span class="defi">Sequence</span></dt><dd><p>tuple, str, bytes</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition-mapset admonition hint">
<p class="admonition-title">ä¸€å®šè¦çŸ¥é“å¸¸ç”¨çš„å®¹å™¨åº•å±‚éƒ½æ˜¯å¦‚ä½•å®ç°çš„ï¼Œæœ€åŸºæœ¬çš„å°±æ˜¯mapã€setç­‰ç­‰ï¼Œå¦åˆ™è‡ªå·±å†™çš„ä»£ç ï¼Œè‡ªå·±å¯¹å…¶æ€§èƒ½åˆ†æéƒ½åˆ†æä¸æ¸…æ¥š</p>
</div>
<p>[collections â€” å®¹å™¨æ•°æ®ç±»å‹]</p>
<div class="admonition- admonition note">
<p class="admonition-title">å¦‚ä½•é€‰åºåˆ—ã€‚</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code> : æ–¹ä¾¿åˆå¿«æ·ï¼Œå¯ä¿®æ”¹ï¼Œ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set</span></code> : å»æ‰é‡å¤å…ƒç´ , ä¸å…³å¿ƒå…ƒç´ çš„é¡ºåºé—®é¢˜ï¼Œç»å¸¸æ£€æŸ¥æ˜¯å¦åŒ…å«</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tuple</span></code> : ä¸å¯å˜çš„åˆ—è¡¨</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array.array</span></code>  åªåŒ…å«æ•°å­—ï¼Œå°¤å…¶æ˜¯æµ®ç‚¹æ•°ã€‚</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deque</span></code>  é¢‘ç¹åšä¸¤ç«¯å¢åˆ ã€‚é€‚åˆåšâ€œæœ€è¿‘nä¸ªå…ƒç´ â€</p></li>
</ul>
</div>
<div class="admonition-set-dict admonition danger">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">set</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>éƒ½æ˜¯  <code class="docutils literal notranslate"><span class="pre">{}</span></code> , ä½†æ˜¯ <code class="docutils literal notranslate"><span class="pre">a={}</span></code> é»˜è®¤ç©ºå­—å…¸ï¼Œç©ºé›†åˆæ˜¯ <code class="docutils literal notranslate"><span class="pre">a=set()</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">=</span> <span class="pre">{1,</span> <span class="pre">2,</span> <span class="pre">...}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dict</span> <span class="pre">=</span> <span class="pre">{a:1,</span> <span class="pre">b:2,</span> <span class="pre">...}</span></code></p></li>
</ul>
</div>
<section id="id23">
<h4 id="id23">åºåˆ—æ“ä½œ<a class="headerlink" href="#id23" title="Link to this heading">Â¶</a></h4>
<p>ä»»ä½•ä¸€ç§éƒ½æ»¡è¶³ è¿­ä»£ã€åˆ‡ç‰‡ã€æ’åºã€æ‹¼æ¥</p>
<section id="listcomps-genexps">
<h5 id="listcomps-genexps">listcomps &amp; genexps<a class="headerlink" href="#listcomps-genexps" title="Link to this heading">Â¶</a></h5>
<div class="line-block">
<div class="line"><span class="defi">list comprehension, listcompsï¼Œåˆ—è¡¨æ¨å¯¼</span>  ã€‚åªç”¨æ¥ç”Ÿæˆåˆ—è¡¨ã€‚</div>
<div class="line">åŸåˆ™æ˜¯ï¼šåªç”¨åˆ—è¡¨æ¨å¯¼æ¥åˆ›å»ºæ–°çš„åˆ—è¡¨ï¼Œå¹¶ä¸”å°½é‡ä¿æŒç®€çŸ­ï¼Œ <strong>ä¸è¦è¶…è¿‡äº†ä¸¤è¡Œ</strong></div>
<div class="line">[pythonä¸­ï¼Œ(x for y in z for x in y)è¿™ä¸ªç»“æ„æ€ä¹ˆç†è§£ï¼Ÿ]</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">""" listcomps """</span>
<span class="go"># 1. ä¸€å±‚</span>
<span class="hll"><span class="go">[item for item in items]</span>
</span>
<span class="go"># 2. äºŒå±‚ï¼Œ å¯ä»¥å°†äºŒç»´çš„åˆ—è¡¨å±•å¹³</span>
<span class="hll"><span class="go">[item for items in items_list for item in items]</span>
</span><span class="go">for items in items_list:</span>
<span class="go">    for item in items:</span>
<span class="go">        list_.append(item)</span>

<span class="go"># 3. mix ä¸¤ä¸ª</span>
<span class="hll"><span class="go">[(x,y) for x in list_x for y in list_y if x!=y]</span>
</span><span class="go">for x in list_x:  # æ‰€ä»¥æ˜¯å…ˆæŒ‰ y å†æŒ‰ x</span>
<span class="go">    for y in list_y:</span>
<span class="go">        if x != y:</span>
<span class="go">            yield (x,y)</span>
</pre></div>
</div>
<div class="admonition-with-listcomps admonition note">
<p class="admonition-title">ç¬›å¡å°”ç§¯  with Listcomps</p>
<div class="line-block">
<div class="line"><span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>CartesianÂ Product</mtext><mo separator="true">,</mo><mi>A</mi><mo>Ã—</mo><mi>B</mi><mo>=</mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mo>âˆˆ</mo><mi>A</mi><mo>âˆ§</mo><mi>y</mi><mo>âˆˆ</mo><mi>B</mi><mo stretchy="false">}</mo><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi mathvariant="normal">#</mi><mi>A</mi><mo>âˆ—</mo><mi mathvariant="normal">#</mi><mi>B</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\text{Cartesian Product}, AÃ—B=\{(x,y)|xâˆˆAâˆ§yâˆˆB\}\in\R^{\#A*\#B}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">CartesianÂ Product</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span><span class="mord mathnormal mtight">A</span><span class="mbin mtight">âˆ—</span><span class="mord mtight">#</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[(a,</span> <span class="pre">b)</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">in</span> <span class="pre">A</span> <span class="pre">for</span> <span class="pre">b</span> <span class="pre">in</span> <span class="pre">B]</span></code></div>
<div class="line">å†…å­˜é‡Œä¸ä¼šç•™ä¸‹ä¸€ä¸ªæœ‰ç»„åˆçš„åˆ—è¡¨ã€‚å› ä¸ºåœ¨æ¯æ¬¡ for å¾ªç¯çš„æ—¶å€™æ‰ä¼šäº§ç”Ÿä¸€ä¸ªç»„åˆï¼Œæ‰€ä»¥å†…å­˜å˜æˆæ˜¯&lt;u&gt;ä¸€ä¸ªç»„åˆçš„å¤§å°&lt;/u&gt;</div>
</div>
</div>
<div class="line-block">
<div class="line"><span class="defi">generator expression, genexps, ç”Ÿæˆå™¨è¡¨è¾¾å¼</span> ã€‚å…·æœ‰ç”Ÿæˆå„ç§ç±»å‹çš„å…ƒç´ å¹¶ç”¨å®ƒä»¬æ¥å¡«å…… <strong>é™¤åˆ—è¡¨å¤–å…¶ä»–åºåˆ—</strong> çš„åŠŸèƒ½ã€‚</div>
<div class="line">genexps éµå®ˆäº†&lt;u&gt;è¿­ä»£å™¨åè®®&lt;/u&gt;ï¼Œ <strong>å¯ä»¥é€ä¸ªåœ°äº§å‡ºå…ƒç´ ï¼ˆèŠ‚çœå†…å­˜ï¼‰</strong>ï¼Œè€Œä¸æ˜¯å…ˆå»ºç«‹ä¸€ä¸ªå®Œæ•´çš„åˆ—è¡¨ï¼Œç„¶åå†æŠŠè¿™ä¸ªåˆ—è¡¨ä¼ é€’åˆ°æŸä¸ªæ„é€ å‡½æ•°é‡Œ <code class="docutils literal notranslate"><span class="pre">tuple(list(range(3)))</span></code></div>
<div class="line">å¦‚æœ genexps æ˜¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­çš„å”¯ä¸€å‚æ•°ï¼Œé‚£ä¹ˆä¸éœ€è¦é¢å¤–å†ç”¨æ‹¬å·æŠŠå®ƒå›´èµ·æ¥ã€‚
| <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">tuple(ord(str_)</span> <span class="pre">for</span> <span class="pre">str_</span> <span class="pre">in</span> <span class="pre">'abc')</span></code>  1ä¸ªæ‹¬å·
| <code class="docutils literal notranslate"><span class="pre">array.array('I',</span> <span class="pre">(ord(str_)</span> <span class="pre">for</span> <span class="pre">str_</span> <span class="pre">in</span> <span class="pre">'abc'))</span></code>  2ä¸ªæ‹¬å·</div>
</div>
</section>
<section id="id24">
<h5 id="id24">æ‹†åŒ…<a class="headerlink" href="#id24" title="Link to this heading">Â¶</a></h5>
<p><span class="defi">å¯è¿­ä»£å…ƒç´ æ‹†åŒ…</span> ã€‚æŠŠ <strong>ä»»ä½•ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡</strong> æ‹†å¼€è¿›è¡Œ</p>
<ul class="simple">
<li><p><strong>èµ‹å€¼</strong></p></li>
<li><p>ç”¨  <code class="docutils literal notranslate"><span class="pre">*</span></code>  è§£æä½œä¸º <strong>å‡½æ•°å‚æ•°</strong>ã€‚</p></li>
</ul>
<div class="line-block">
<div class="line">å› ä¸ºä½ç½®æœ‰æ„ä¹‰æ—¶æ‹†åŒ…æ˜¾å¾—æ ¼å¤–æœ‰æ„ä¹‰ï¼Œæ‰€ä»¥ä¸€èˆ¬æŒ‡ Tuple æ‹†åŒ…ã€‚</div>
<div class="line"><strong>å”¯ä¸€çš„è¦æ±‚ï¼š</strong> è¢«å¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ æ•°é‡å¿…é¡»æ˜¯å’Œæ¥å—è¿™äº›å…ƒç´ çš„å…ƒç»„çš„ç©ºæ¡£æ•°ä¸€è‡´ã€‚</div>
<div class="line">å…è®¸ <strong>åµŒå¥—æ‹†åŒ…</strong></div>
</div>
<div class="admonition- admonition warning">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">_</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">*</span></code></p>
<div class="line-block">
<div class="line">å¯¹å¾…&lt;u&gt;å°‘é‡ä¸éœ€è¦&lt;/u&gt;çš„å…ƒç´ ï¼š <code class="docutils literal notranslate"><span class="pre">_</span></code>  å ä½ç¬¦ã€‚å¿…é¡»æ•°é‡å¯¹åº”ï¼Œå’Œä½ç½®å¯¹åº”</div>
<div class="line">å¯¹å¾…&lt;u&gt;ä¸ç¡®å®šæ•°é‡æ— è°“éœ€ä¸éœ€è¦&lt;/u&gt;çš„å…ƒç´   <code class="docutils literal notranslate"><span class="pre">*</span></code> ã€‚å¯ä»¥å‡ºç°åœ¨å‰ä¸­å</div>
</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">)</span>  <span class="c1"># å¹³è¡Œèµ‹å€¼</span>
</span><span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>  <span class="c1"># ä¸ä½¿ç”¨ä¸­é—´å˜é‡äº¤æ¢ä¸¤ä¸ªå˜é‡</span>
</span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="nb">divmod</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># ç”¨ * è§£æä½œä¸ºå‡½æ•°å‚æ•°</span>
</span><span class="go">(2, 4) # 20/8=2...4</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">filedir</span> <span class="o">=</span> <span class="s1">'/home/dir1/dir2/a.txt'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filedir</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>
<span class="go">['', 'home', 'dir1', 'dir2', 'a.txt']</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="n">filedir</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span> <span class="c1"># åªè¦æœ€åé¢çš„, å¿…é¡»æ•°é‡ä¸€æ ·</span>
</span><span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span><span class="p">,</span> <span class="o">*</span><span class="n">dirs</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="n">filedir</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span> <span class="c1"># æ¯ä¸ªæ–‡ä»¶å‚¨å­˜çš„æ–‡ä»¶å¤¹æ•°é‡æ˜¯ä¸ä¸€å®šçš„</span>
</span><span class="go"># ç”¨å ä½ç¬¦å·§å¦™å‡å°‘åˆ—è¡¨å†…å­˜ï¼ˆç¬¬ä¸€ä¸ª/å‰é¢çš„ç©ºæ ¼æ˜¯ä¸éœ€è¦çš„ï¼‰</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filename</span>
<span class="go">a.txt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dirs</span>
<span class="go">['home', 'dir1', 'dir2']</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">area</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'Beijing'</span><span class="p">,</span> <span class="s1">'CN'</span><span class="p">,</span> <span class="p">(</span><span class="mi">111</span><span class="p">,</span><span class="mi">222</span><span class="p">))</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="p">,</span> <span class="n">cc</span><span class="p">,</span> <span class="p">(</span><span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span> <span class="o">=</span> <span class="n">area</span>  <span class="c1"># åµŒå¥—æ‹†åŒ…</span>
</span></pre></div>
</div>
</section>
<section id="id25">
<h5 id="id25">åˆ‡ç‰‡<a class="headerlink" href="#id25" title="Link to this heading">Â¶</a></h5>
<div class="admonition-seq-n-seq-n-1-n admonition note">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">seq[n]</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">seq[n-1:n]</span></code></p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">seq[n]</span></code>  è·å¾—æ˜¯ä¸€ä¸ªå…ƒç´ ï¼Œå…ƒç´ ä»€ä¹ˆç±»å‹ï¼Œè¿”å›å°±ä»€ä¹ˆç±»å‹ï¼›</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">seq[n-1:n]</span></code>  è·å¾—æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º1çš„ seq å¯¹è±¡ï¼Œseq ä»€ä¹ˆç±»å‹ï¼Œè¿”å›å°±ä»€ä¹ˆç±»å‹ã€‚â€</div>
</div>
</div>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">seq[a:b:c]</span></code>  å¯¹ s åœ¨  <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[a, b)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></span>  ä¹‹é—´ä»¥ c ä¸ºé—´éš”å–å€¼ã€‚ã€1dã€‘</dt><dd><p>å…¶å®æ˜¯è°ƒç”¨  <code class="docutils literal notranslate"><span class="pre">seq.__getitem__(slice(a,b,c))</span></code></p>
<ul class="simple">
<li><p><strong>c = 1</strong>. c&gt;0 ä»ç¬¬ä¸€ä¸ªå¼€å§‹æ­£å‘; c&lt;0 ä»å€’æ•°ç¬¬ä¸€ä¸ªå¼€å§‹åå‘ã€‚&lt;u&gt;æœ‰å¯èƒ½å®Œå…¨ä¸ä¸€æ ·ï¼&lt;/u&gt;</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">seq[m:n,</span> <span class="pre">k:l]</span></code>  å¯¹ <strong>å¤šç»´</strong> s å–  <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[m, n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>  è¡Œ  <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>k</mi><mo separator="true">,</mo><mi>l</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[k, l)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span></span></span></span></span>  åˆ— äº¤å çš„å€¼ã€‚ã€&gt;2dã€‘</dt><dd><p>å…¶å®æ˜¯è°ƒç”¨  <code class="docutils literal notranslate"><span class="pre">seq.__getitem__([(m,k)(m,k+1)...])</span></code></p>
<div class="admonition-seq-i-j-i-j-u-u admonition warning">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">seq[i,</span> <span class="pre">j]</span></code>  å– i è¡Œ j åˆ—çš„&lt;u&gt;ä¸€ä¸ªå€¼&lt;/u&gt;</p>
<p>å…¶å®æ˜¯  <code class="docutils literal notranslate"><span class="pre">seq.__getitem__((i,j))</span></code></p>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>åˆ‡ç‰‡èµ‹å€¼</dt><dd><p>å¦‚æœèµ‹å€¼çš„å¯¹è±¡æ˜¯ä¸€ä¸ªåˆ‡ç‰‡ï¼Œé‚£ä¹ˆèµ‹å€¼çš„å³è¾¹ <strong>å¿…é¡»</strong> æ˜¯ä¸€ä¸ª&lt;u&gt;å¯è¿­ä»£åºåˆ—&lt;/u&gt;ï¼Œå“ªæ€•åªæœ‰å•ç‹¬ä¸€ä¸ªå€¼ã€‚</p>
</dd>
</dl>
</li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s1">'abcd'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[::</span><span class="mi">1</span><span class="p">]</span>
<span class="go">['a', 'b', 'c', 'd']</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
</span><span class="go">['a', 'c']</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># != s[::2]çš„ç›¸å</span>
</span><span class="go">['d', 'b']</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="go">TypeError: can only assign an iterable</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># å“ªæ€•åªæœ‰å•ç‹¬ä¸€ä¸ªå€¼ã€‚</span>
</span><span class="go">[1, 'd']</span>
</pre></div>
</div>
</section>
<section id="id26">
<h5 id="id26">æ‹¼æ¥<a class="headerlink" href="#id26" title="Link to this heading">Â¶</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code>  ä¸ä¿®æ”¹åŸæœ‰çš„æ“ä½œå½¢è±¡ï¼Œè€Œæ˜¯æ„å»ºä¸€ä¸ªå…¨æ–°çš„åºåˆ—</p></li>
</ul>
<section id="id27">
<h6 id="id27">å¤åˆ¶åæ‹¼æ¥<a class="headerlink" href="#id27" title="Link to this heading">Â¶</a></h6>
<ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">seq</span> <span class="pre">*</span> <span class="pre">n</span></code>  ä¸ä¿®æ”¹åŸæœ‰çš„æ“ä½œå½¢è±¡ï¼Œè€Œæ˜¯æ„å»ºä¸€ä¸ªå…¨æ–°çš„åºåˆ—ã€‚ <code class="docutils literal notranslate"><span class="pre">seq[item]</span></code> â¡ï¸  <code class="docutils literal notranslate"><span class="pre">seq[item1,</span> <span class="pre">item1,</span> <span class="pre">...]</span></code></dt><dd><div class="admonition-seq-defi admonition danger">
<p class="admonition-title">seq é‡Œçš„å…ƒç´ æ˜¯å¼•ç”¨ï¼Œå¤åˆ¶çš„å°†ä¼šæ˜¯å¼•ç”¨ï¼Œ<span class="defi">ä¸€æ”¹å…¨æ”¹</span></p>
<p>seq é‡Œçš„å…ƒç´ æ˜¯å€¼ï¼Œå¤åˆ¶çš„å°†ä¼šæ˜¯å€¼ <span class="defi">å…·æœ‰ç‹¬ç«‹</span></p>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">seqA(seqB</span> <span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(n))</span></code>  å¯¹åµŒå¥—åºåˆ—çš„åºåˆ—ï¼ŒåµŒå¥—å†…çš„åºåˆ—æ˜¯å­˜æ”¾ä¸åŒå†…å®¹çš„ä¸œè¥¿ã€‚</dt><dd><div class="line-block">
<div class="line">ğŸŸ° <code class="docutils literal notranslate"><span class="pre">seA[seqB]</span></code> â¡ï¸  <code class="docutils literal notranslate"><span class="pre">seqA[seqB1,</span> <span class="pre">seqB2,</span> <span class="pre">...]</span></code>  é‡Œé¢ç›¸äº’ç‹¬ç«‹ã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">seqA(seqB)</span> <span class="pre">*n</span></code>  ğŸŸ°  <code class="docutils literal notranslate"><span class="pre">seA[seqB]</span></code> â¡ï¸  <code class="docutils literal notranslate"><span class="pre">seqA[seqB,</span> <span class="pre">seqB,</span> <span class="pre">...]</span></code> ï¼ˆç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œé‡Œé¢ä¸€æ”¹å…¨æ”¹ã€‚ï¼‰</div>
</div>
</dd>
</dl>
</li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>  <span class="c1"># [0] æ˜¯ seqï¼Œ 0 æ˜¯å…ƒç´  = å€¼</span>
</span><span class="go">a = [0, 0, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="go">a = [1, 0, 0]</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">]</span>  <span class="c1"># [0] æ˜¯ seqï¼Œ0 æ˜¯å…ƒç´  = å€¼</span>
</span><span class="go">b = [[0, 0, 0]]  # åœ¨ b å†…å±‚å¤åˆ¶, b åªæœ‰1ä¸ªå…ƒç´  []</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="go">b = [1]</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">*</span> <span class="mi">3</span>  <span class="c1"># [[0]] æ˜¯ seqï¼Œ [0] æ˜¯å…ƒç´  = å¼•ç”¨</span>
</span><span class="go">c = [[0], [0], [0]] # åœ¨ c å¤åˆ¶ï¼Œc æœ‰3ä¸ªå…ƒç´  []</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="go">c = [1, [0], [0]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span>
<span class="go">c = [1, [2], [2]]</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
</span><span class="go">d = [[0], [0], [0]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="go">d = [1, [0], [0]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span>
<span class="go">d = [1, [2], [0]]</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">3</span><span class="p">]</span>
</span><span class="go">e = ['---']</span>
</pre></div>
</div>
<div class="mermaid">
            flowchart LR
subgraph æ ˆåŒº
c --ä¸€ç›´æ²¡å˜--&gt; c_address
end
subgraph å †åŒº
0_address
0
1
2
B[ã€0_addressã€‘]
C[ã€0_address,0_address,0_addressã€‘]
D[ã€1,0_address,0_addressã€‘]
end
c_address -.- B -.-&gt; 0_address -.- 0
c_address -.- C -.-&gt; 0_address
B --1)å¤åˆ¶--&gt; C
c_address -.- D
C --2)c0=1--&gt; D
D -.-&gt; 0_address
D -.- 1
0_address -.- 2
0 --3)c10=2--&gt;2
        </div><p>åªæœ‰å‰ä¸¤æ­¥æ”¹çš„æ˜¯  <code class="docutils literal notranslate"><span class="pre">c</span></code>  å­˜çš„çš„ä¸œè¥¿ï¼Œæœ€åä¸€æ­¥å…¶å® <code class="docutils literal notranslate"><span class="pre">c</span></code>  å­˜çš„çš„ä¸œè¥¿æ²¡å˜ï¼Œ <code class="docutils literal notranslate"><span class="pre">c</span></code>  å­˜çš„çš„ä¸œè¥¿å­˜çš„ä¸œè¥¿å˜äº†</p>
</section>
<section id="id28">
<h6 id="id28">å°±åœ°åŠ ä¹˜<a class="headerlink" href="#id28" title="Link to this heading">Â¶</a></h6>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">+=</span></code> ,  <code class="docutils literal notranslate"><span class="pre">*=</span></code> ,  <code class="docutils literal notranslate"><span class="pre">__iadd__</span></code> ,  <code class="docutils literal notranslate"><span class="pre">__imul__</span></code></div>
<div class="line"><strong>é‡è¦</strong>ï¼šå¯¹ <span class="defi">Seq</span> &amp; <span class="defi">MutableSeq</span> å†…å­˜åœ°å€çš„å˜åŒ–</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go"># Seq å˜äº†</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span class="go">t=(1,2), id(t)=4313022720</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">*=</span> <span class="mi">2</span>
<span class="go">t=(1,2,1,2), id(t)=4311067808</span>
<span class="go"># MutableSeq ä¸å˜</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</span><span class="go">l=[1,2], id(l)=4311024448</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">*=</span> <span class="mi">2</span>
<span class="go">l=[1,2,1,2], id(l)=4311024448</span>
</pre></div>
</div>
<div class="admonition- admonition warning">
<p class="admonition-title">å…³äºå°±åœ°åŠ ä¹˜ä¸€ä¸ªè¿˜æ²¡è§£å†³çš„é—®é¢˜</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,[</span><span class="mi">30</span><span class="p">,</span><span class="mi">40</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+=</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span><span class="mi">60</span><span class="p">]</span>
<span class="go">TypeError: 'tuple' object does not support item assignment</span>
<span class="go">t=(1, 2, [30, 40, 50, 60])</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="id29">
<h5 id="id29">æ’åº<a class="headerlink" href="#id29" title="Link to this heading">Â¶</a></h5>
<div class="admonition-timsort admonition note">
<p class="admonition-title">ç¨³å®šçš„ <code class="docutils literal notranslate"><span class="pre">Timsort</span></code></p>
<div class="line-block">
<div class="line">ä¸¤ä¸ªå…ƒç´ åŒæ ·å¤§å°çš„æƒ…å†µä¸‹ï¼Œåœ¨æ’åºçš„æ—¶å€™ä½ç½®æ˜¯ç›¸äº’å›ºå®šçš„ã€‚å¦‚æœåœ¨æ¯”è¾ƒé•¿çš„æ—¶å€™ï¼Œä¸¤ä¸ªå…ƒç´ ä¸€æ ·é•¿ï¼Œé‚£ä¹ˆç»“æœçš„å…ˆåä¼šä»¥åŸæœ¬æœ¬èº«åˆ—è¡¨çš„å…ˆåå†³å®šï¼Œè¿™æ ·ç›¸å¯¹ç¨³å®šã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lst.sort()</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">sorted(iterableObject)</span></code>  èƒŒåç”¨çš„éƒ½æ˜¯ Timsortã€‚</div>
<div class="line"><span class="defi">Timsort</span> ã€‚ä¸€ç§è‡ªé€‚åº”ç®—æ³•ï¼Œæ ¹æ®åŸå§‹æ•°æ®çš„é¡ºåºç‰¹ç‚¹äº¤æ›¿ä½¿ç”¨æ’å…¥æ’åº &amp; å½’å¹¶æ’åºã€‚=ï¼Œä»¥è¾¾åˆ°æœ€ä½³æ•ˆç‡ã€‚</div>
</div>
</div>
<p><strong>ä¸éœ€è¦ç»´æŠ¤æ’åºï¼š</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lst.sort()</span></code>  å°±åœ°æ’åºåˆ—è¡¨ï¼Œè¿”å› Noneã€‚</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">sorted(iterableObject)</span></code>  è¿”å›æ–°å»ºçš„åˆ—è¡¨ã€‚</dt><dd><ul>
<li><p>æ¥å—ä»»ä½•å½¢å¼å¯è¿­ä»£çš„å¯¹è±¡ä¸ºå‚æ•°ï¼ŒåŒ…æ‹¬ä¸å¯å˜åºåˆ—æˆ–ç”Ÿæˆå™¨ã€‚</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>ğŸ“— éƒ½æœ‰ä¸¤ä¸ªå¯é€‰çš„å…³é”®è¯å‚æ•°</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">reverse=False</span></code>  é»˜è®¤å‡åº</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">key=IdentityFunction</span></code>  ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¼šè¢«ç”¨åœ¨åºåˆ—ä¸Šçš„æ¯ä¸€ä¸ªå…ƒç´ ä¸Šï¼Œäº§ç”Ÿå…ƒç´ ç›¸å¯¹åº”çš„ç”¨äºæ’åºçš„å¯¹æ¯”å…³é”®è¯ã€‚é»˜è®¤æ’ç­‰å‡½æ•°ï¼Œä»¥å…ƒç´ è‡ªå·±çš„å€¼æ¥æ’åºã€‚</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">=len</span></code>  å¯¹æ¯”é•¿åº¦</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=str.lower</span></code>  å¿½ç•¥å¤§å°å†™çš„çš„æ’åº</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=reverse</span></code>  ä»å·¦åˆ°å³è¿›è¡Œæ¯”è¾ƒ</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Aa'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'Cc'</span><span class="p">]</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
</span><span class="go">['Aa', 'Cc', 'b']  # æŒ‰ é¦–å­—æ¯ ord</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">)</span>  <span class="c1"># æŒ‰ ä¸åˆ†å¤§å°å†™ ord</span>
</span><span class="go">['Aa', 'b', 'Cc']</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">)</span>
</span><span class="go">['b', 'Aa', 'Cc']</span>
</pre></div>
</div>
<div class="literal-block-wrapper docutils container" id="id63">
<div class="code-block-caption"><span class="caption-text">ä¸æ”¯æŒåŸç”Ÿæ¯”è¾ƒçš„å¯¹è±¡</span><a class="headerlink" href="#id63" title="Link to this code">Â¶</a></div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">User</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">'User(id:</span><span class="si">{}</span><span class="s1">, age:</span><span class="si">{}</span><span class="s1">)'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>

<span class="n">users</span> <span class="o">=</span> <span class="p">[</span><span class="n">User</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">User</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">User</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">--- uncomparable class ---"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">users</span><span class="p">,</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
    <span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">users</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">id</span><span class="p">),</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
    <span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">users</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">age</span><span class="p">)))</span>


<span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">attrgetter</span> <span class="c1"># another</span>
<span class="nb">print</span><span class="p">(</span><span class="n">users</span><span class="p">,</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
    <span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">users</span><span class="p">,</span>  <span class="n">key</span><span class="o">=</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)),</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
    <span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">users</span><span class="p">,</span>  <span class="n">key</span><span class="o">=</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="s1">'age'</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<p><strong>éœ€è¦ç»´æŠ¤æ’åºï¼š</strong></p>
<div class="admonition- admonition note">
<p class="admonition-title">å·²ç»æ’å¥½äº†åºï¼Œå¦‚ä½•æŸ¥æ‰¾&amp;ç»´æŠ¤</p>
<p>æ’åºå¾ˆè€—æ—¶ï¼Œå¾—åˆ°æœ‰åºåºåˆ—åæœ€å¥½ä¿æŒå®ƒä¸€ç›´æœ‰åºã€‚</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">bisect</span> <span class="pre">module</span></code>  åº•ä¸‹çš„  <code class="docutils literal notranslate"><span class="pre">bisect</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">insort</span></code>  éƒ½æ˜¯ç”¨&lt;u&gt;äºŒåˆ†æŸ¥æ‰¾&lt;/u&gt;åœ¨æœ‰åºåºåˆ—ä¸Š æŸ¥æ‰¾å¹¶æ’å…¥å…ƒç´ ã€‚</p>
<p>ğŸ“— æœ‰ <code class="docutils literal notranslate"><span class="pre">lo</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">hi</span></code> ,æ¥ç¼©å°æœå¯»èŒƒå›´ã€‚</p>
<ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">bisect.bisect(sortedlst,</span> <span class="pre">target)</span></code>  æŸ¥æ‰¾ç´¢å¼•ï¼Œç›¸åŒæ—¶ï¼Œåœ¨åŒä¸€ä¸ªçš„å³è¾¹ã€‚</dt><dd><div class="line-block">
<div class="line">å¯æ­é…ä¸Š  <code class="docutils literal notranslate"><span class="pre">sortedlst.insert(idx,</span> <span class="pre">target)</span></code> é…åˆä½¿ç”¨</div>
<div class="line">æœ‰  <code class="docutils literal notranslate"><span class="pre">bisect.bisect_left</span></code>  ç›¸åŒæ—¶ï¼Œåœ¨åŒä¸€ä¸ªçš„å·¦è¾¹ã€‚</div>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">bisect.insort(sortedlst,</span> <span class="pre">target)</span></code>  æŸ¥æ‰¾å¹¶æ’å…¥ã€‚å°±åœ°æ”¹å˜ã€‚ä¸€æ­¥åˆ°ä½ï¼Œé€Ÿåº¦æ›´å¿«ã€‚</dt><dd><p>åŒæ ·æœ‰  <code class="docutils literal notranslate"><span class="pre">bisect.insort_left</span></code></p>
</dd>
</dl>
</li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">bisect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">bisect</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">insort</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">[2, 3, 4, 6]</span>

<span class="go"># ç”¨é€”</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">grade</span><span class="p">(</span><span class="n">score</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">breakpoints</span><span class="o">=</span><span class="p">[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">grades</span> <span class="o">=</span> <span class="s1">'FDCBA'</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">i</span> <span class="o">=</span> <span class="n">bisect</span><span class="o">.</span><span class="n">bisect</span><span class="p">(</span><span class="n">breakpoints</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">grades</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">grade</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">score</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">33</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="mi">60</span><span class="p">]]</span>
<span class="go">['F', 'A', 'C', 'D']</span>
</pre></div>
</div>
</section>
</section>
<section id="list">
<h4 id="list">list<a class="headerlink" href="#list" title="Link to this heading">Â¶</a></h4>
<p><span class="defi">å®¹å™¨</span> + <span class="defi">MutableSequence</span></p>
<ul>
<li><dl>
<dt>initã€‚</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">list(range(start,</span> <span class="pre">end,</span> <span class="pre">step))</span></code></div>
<div class="line">å°† <code class="docutils literal notranslate"><span class="pre">range()</span></code> ä½œä¸º <code class="docutils literal notranslate"><span class="pre">list()</span></code> çš„å‚æ•°ï¼Œè¾“å‡ºå°†ä¸ºä¸€ä¸ªæ•°å­—åˆ—è¡¨</div>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>å¢åŠ </dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lst.append(x)</span></code>  æœ«å°¾</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lst.insert(idx,</span> <span class="pre">x)</span></code>  any position</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>åˆ é™¤</dt><dd><table>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>æ ¹æ®____æ¥åˆ é™¤</p></th>
<th class="head"><p>return</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">lst[idx]</span></code></p></td>
<td><p>idx</p></td>
<td><p>âŒ no-return</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lst.pop(idx)</span></code></p></td>
<td><p>idx</p></td>
<td><p>âœ… <strong>lst[idx]</strong>ï¼Œä¸æŒ‡å®šç´¢å¼•é»˜è®¤åˆ é™¤æœ€åä¸€ä¸ª</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lst.remove(x)</span></code></p></td>
<td><p>value, åªåˆ é™¤ <strong>ç¬¬ä¸€ä¸ª</strong> æŒ‡å®šçš„å€¼</p></td>
<td><p>âœ…  <strong>x</strong></p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>æŸ¥ search</dt><dd><p><code class="docutils literal notranslate"><span class="pre">lst.index(val)</span></code>  è¿”å›ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„idxã€‚æ‰¾ä¸åˆ°å°±ä¼š  <code class="docutils literal notranslate"><span class="pre">ValueError</span></code></p>
</dd>
</dl>
</li>
</ul>
<div class="admonition-lst-1r-lst-1 admonition warning">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">lst_1r</span> <span class="pre">=</span> <span class="pre">lst_1[:]</span></code>   åˆ‡ç‰‡ç­‰äºæµ…æ‹·è´</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">'a:a:a:b'</span>
<span class="go">&gt;&gt; b = a[:]</span>
<span class="go">id(a)=id(b)=4382924912</span>
</pre></div>
</div>
</div>
<p>æ‹¼æ¥</p>
<table>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>cases</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">+</span> <span class="pre">append</span></code></p></td>
<td><p>ä¿®æ”¹å…ƒç´ </p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">list_c</span> <span class="pre">=</span> <span class="pre">list_a</span> <span class="pre">+</span> <span class="pre">list_b</span></code></p></td>
<td><p>æ•ˆç‡å¥½, ä¸é€‚åˆåšå¤§æ•°æ®å¤„ç†</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">list_c</span> <span class="pre">=</span> <span class="pre">[*list_a,</span> <span class="pre">*list_b]</span></code> <strong>é€šè¿‡ â€˜*â€™ è§£æ„</strong></p></td>
<td><p>æ•ˆç‡å¥½, ä¸é€‚åˆåšå¤§æ•°æ®å¤„ç†</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">list_a.extend(list_b)</span></code>  å†…ç½®çš„meth: extend</p></td>
<td><p>éœ€è¦ä¿®æ”¹åŸå§‹åˆ—è¡¨æ¯”è¾ƒåˆé€‚</p></td>
</tr>
</tbody>
</table>
<p>[Python3 - 6ç§æ–¹æ³•æ‹¼æ¥åˆå¹¶åˆ—è¡¨list]</p>
</section>
<section id="tuple">
<h4 id="tuple">tuple<a class="headerlink" href="#tuple" title="Link to this heading">Â¶</a></h4>
<div class="line-block">
<div class="line"><span class="defi">å®¹å™¨</span> + <span class="defi">Sequence</span></div>
<div class="line"><span class="defi">ä¸å¯å˜çš„åˆ—è¡¨</span> (é™¤äº†å¢åˆ æ”¹ï¼Œæ”¯æŒ list å…¶ä»–æ‰€æœ‰æ“ä½œ)</div>
<div class="line"><span class="defi">æ²¡æœ‰å­—æ®µåçš„è®°å½•</span> (item æ˜¯æºå¸¦ä½ç½®ä¿¡æ¯ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ææ’åº)</div>
</div>
<p>è™½å¥½ä½†æ˜¯æ²¡æœ‰å­—æ®µå â¡ï¸  <code class="docutils literal notranslate"><span class="pre">namedtuple</span></code></p>
<ul>
<li><dl>
<dt>init</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>ã€å•æ¡è®°å½•ã€‘ <code class="docutils literal notranslate"><span class="pre">tuple(val1,</span> <span class="pre">val2,</span> <span class="pre">...)</span></code> ,  <code class="docutils literal notranslate"><span class="pre">tuple(list1)</span></code></dt><dd><p>è¿”å›ï¼š <code class="docutils literal notranslate"><span class="pre">Tuple</span></code></p>
</dd>
</dl>
</li>
<li><p>ã€å¤šåˆ—åˆå¹¶ã€‘  <code class="docutils literal notranslate"><span class="pre">list(zip(col1,</span> <span class="pre">col2,</span> <span class="pre">...))</span></code></p></li>
</ul>
<div class="admonition-zip admonition warning">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">zip</span></code></p>
<p>zip è¿”å›æ¥çš„æ˜¯  <code class="docutils literal notranslate"><span class="pre">&lt;zip</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x103abc288&gt;</span></code> : å…ƒç»„ç»„æˆçš„å¯¹è±¡ã€‚éœ€è¦å å±‚ listã€‚</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="nb">zip</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">)</span>
</span><span class="go">&lt;zip object at 0x103abc288&gt;</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">))</span>
</span><span class="go">[(1, 'a'), (2, 'b'), (3, 'c')]</span>
</pre></div>
</div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>å› ä¸ºä¸å¯å˜å¯ç”¨ä½œ <code class="docutils literal notranslate"><span class="pre">dict</span></code> çš„key</dt><dd><div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)])</span>
<span class="go">5</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
</section>
<section id="namedtuple">
<h4 id="namedtuple">namedtuple<a class="headerlink" href="#namedtuple" title="Link to this heading">Â¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">collections.namedtuple</span></code> . å¯ä»¥ç”¨æ¥æ„å»ºä¸€ä¸ªå¸¦å­—æ®µåçš„å…ƒç»„å’Œä¸€ä¸ªæœ‰åå­—çš„ç±»</div>
<div class="line"><span class="defi">å®¹å™¨</span> + <span class="defi">Sequence</span></div>
<div class="line"><span class="defi">ä¸å¯å˜çš„åˆ—è¡¨</span> + <span class="defi">æœ‰å­—æ®µåçš„è®°å½•</span></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">namedtuple</span></code>  æ„å»ºçš„ç±»çš„å®ä¾‹æ‰€&lt;u&gt;æ¶ˆè€—çš„å†…å­˜è·Ÿå…ƒç»„æ˜¯ä¸€æ ·çš„&lt;/u&gt;ï¼Œå› ä¸ºå­—æ®µåéƒ½è¢«å­˜åœ¨å¯¹åº”çš„ç±»é‡Œé¢ã€‚å°å·çš„å†…å­˜æ¯”æ™®é€šçš„å®ä¾‹å¯¹è±¡è¦å°ä¸€ç‚¹ï¼Œå› ä¸º python ä¸ä¼šç”¨  <code class="docutils literal notranslate"><span class="pre">__dict__</span></code>  å­˜æ”¾å®ä¾‹çš„å±æ€§ã€‚
<code class="docutils literal notranslate"><span class="pre">p</span></code> çš„å­—æ®µåéƒ½è¢«å­˜åœ¨å¯¹åº”çš„ç±» <code class="docutils literal notranslate"><span class="pre">Point</span></code> é‡Œé¢</div>
</div>
<ul>
<li><dl>
<dt>init</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Records</span> <span class="pre">=</span> <span class="pre">namedtuple(typename:str,</span> <span class="pre">field_names:Optional(Iterable,</span> <span class="pre">String))</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">rec1</span> <span class="pre">=</span> <span class="pre">Records(*rec1_data)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">rec2</span> <span class="pre">=</span> <span class="pre">Records._make(*rec2_data)</span></code></div>
</div>
</dd>
</dl>
</li>
</ul>
<dl class="simple">
<dt>ğŸ“• Args:</dt><dd><ul class="simple">
<li><p>typename: ç±»è¡¨åçš„æ„Ÿè§‰</p></li>
<li><p>field_names: ç”±æ•°ä¸ªå­—ç¬¦ä¸²ç»„æˆçš„å¯è¿­ä»£å¯¹è±¡ï¼Œæˆ–è€…æ˜¯ç”±**ç©ºæ ¼åˆ†éš”å¼€**çš„å­—æ®µåç»„æˆçš„å­—ç¬¦ä¸²</p></li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><dl class="simple">
<dt>ğŸ“— å±æ€§</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Records._fields</span></code>  åŒ…å«å­—æ®µåçš„å…ƒç»„</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rec1._asdict()</span></code> æŠŠ namedtuple ä»¥  <code class="docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code>  å½¢å¼è¿”å›ã€‚å‹å¥½å‘ˆç°ä¿¡æ¯</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rec1._replace(field_name=v)</span></code>  ä¿®æ”¹å€¼ã€‚</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">'Point'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">])</span>
</span><span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>  <span class="c1"># æ ¹æ®ä½ç½®å’Œkwå®ä¾‹åŒ–</span>
</span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">p</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">y</span>  <span class="c1"># by idx | name</span>
<span class="go">True  # = 33</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">_asdict</span><span class="p">()</span>  <span class="c1"># namedtuple â¡ï¸ dict</span>
</span><span class="go">d = {'x': 11, 'y': 22}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>      <span class="c1"># dict â¡ï¸ namedtuple</span>
<span class="go">Point(x=11, y=22)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="go">Point(x=100, y=22)</span>
</pre></div>
</div>
</section>
<section id="array">
<h4 id="array">array æ•°ç»„<a class="headerlink" href="#array" title="Link to this heading">Â¶</a></h4>
<div class="admonition-array-list admonition note">
<p class="admonition-title">éœ€è¦çº¯æ•°å­—çš„åˆ—è¡¨æ˜¯ï¼Œarray æ¯” list æ›´é«˜æ•ˆ</p>
<div class="line-block">
<div class="line">åœ¨å­˜æ•°å­—æ—¶ï¼Œarray èƒŒåå­˜çš„ä¸æ˜¯ float æˆ–è€… int å¯¹è±¡ï¼Œè€Œæ˜¯æ•°å­—çš„æœºå™¨ç¿»è¯‘ <span class="defi">å­—èŠ‚è¡¨è¿°</span> ã€‚</div>
<div class="line">æŒ‡å®šæ•°æ®ç±»å‹ï¼Œå½“åºåˆ—å¾ˆå¤§çš„æ—¶å€™ï¼Œå¯ä»¥èŠ‚çœå¾ˆå¤šæ—¶é—´ã€‚</div>
<div class="line">è¿˜æä¾›ä»æ–‡ä»¶è¯»å–å’Œå­˜å…¥æ–‡ä»¶æ›´å¿«çš„æ–¹æ³•ã€‚</div>
</div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>init</dt><dd><p>éœ€è¦ <strong>ç±»å‹ç </strong>ï¼Œè¡¨ç¤ºåº•å±‚ C è¯­è¨€éœ€è¦å­˜æ”¾çš„æ•°æ®ç±»å‹
-  <code class="docutils literal notranslate"><span class="pre">b</span></code>  signed char æœ‰ç¬¦å·çš„å­—ç¬¦ï¼Œåªèƒ½å­˜æ”¾ä¸€ä¸ªå­—èŠ‚çš„æ•´æ•°ã€‚ <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>7</mn></msup><mo>=</mo><mo stretchy="false">[</mo><mo>âˆ’</mo><mn>128</mn><mo separator="true">,</mo><mn>127</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">2^7=[-128, 127]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord">128</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">127</span><span class="mclose">]</span></span></span></span></span>
-  <code class="docutils literal notranslate"><span class="pre">d</span></code>  åŒç²¾åº¦æµ®ç‚¹æ•°ç»„</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>å¿«é€Ÿè¯»å†™æ–‡ä»¶</dt><dd><p><code class="docutils literal notranslate"><span class="pre">array.fromfile(fp)</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">array.tofile(fp)</span></code> ã€‚è¯»å†™äºŒè¿›åˆ¶æ–‡ä»¶æ—¶é—´æ¯”å¯¹æ–‡æœ¬æ–‡ä»¶è¯»å†™è¦å¿«ï¼Œå› ä¸ºä¸éœ€è¦è½¬æ¢å­—ç¬¦å’Œæ•°å­—å½¢å¼ï¼›è¿˜èŠ‚çœç©ºé—´ã€‚</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>æ’åº</dt><dd><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">array.array(a.typecode,</span> <span class="pre">sorted(a))</span></code></p>
</dd>
</dl>
</li>
</ul>
<div class="line-block">
<div class="line">ä¸æ”¯æŒå°±åœ°æ’åºæ–¹æ³•ã€‚</div>
<div class="line">ä½†æ˜¯ä¸æ”¯æŒ æµ…å¤åˆ¶  <code class="docutils literal notranslate"><span class="pre">s.copy()</span></code>  æ“ä½œï¼Œ</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">array</span> <span class="kn">import</span> <span class="n">array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">floats</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s1">'d'</span><span class="p">,</span> <span class="p">(</span><span class="n">random</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
</span><span class="go">floats=array('d', [0.7997733053807442, 0.15195105711939816, 0.013224926567956818])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'floats.bin'</span><span class="p">,</span> <span class="s1">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span>    <span class="n">floats</span><span class="o">.</span><span class="n">tofile</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
</span><span class="gp">&gt;&gt;&gt; </span><span class="n">floats2</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s1">'d'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'floats.bin'</span><span class="p">,</span> <span class="s1">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span>    <span class="n">floats2</span><span class="o">.</span><span class="n">fromfile</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="memoryview">
<h4 id="memoryview">memoryview å†…å­˜è§†å›¾<a class="headerlink" href="#memoryview" title="Link to this heading">Â¶</a></h4>
<p>èƒ½åœ¨ä¸å¤åˆ¶å†…å®¹çš„æ—¶å€™ï¼Œæ“ä½œåŒä¸€ä¸ªæ•°ç»„ä¸åŒåˆ‡ç‰‡ã€‚</p>
</section>
<section id="deque">
<h4 id="deque">deque åŒå‘é˜Ÿåˆ—<a class="headerlink" href="#deque" title="Link to this heading">Â¶</a></h4>
<div class="admonition-append-pop-0-list-queue admonition note">
<p class="admonition-title">åˆ©ç”¨  <code class="docutils literal notranslate"><span class="pre">.append()</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">.pop(0)</span></code>  å¯ä»¥æŠŠ list å½“ä½œ queue ä½¿ç”¨ã€‚ä½†æ˜¯åˆ é™¤ç¬¬ä¸€ä¸ªæˆ–è€…å¢åŠ åˆ°åˆ—è¡¨å¼€å§‹æ˜¯å¾ˆè€—æ—¶ï¼Œå› ä¸ºè¦ç§»åŠ¨å…¶ä»–å…ƒç´ ã€‚</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">collections.deque</span></code>  double-end queue çº¿ç¨‹å®‰å…¨ï¼Œå¯ä»¥å¿«é€Ÿå‘ä¸¤ç«¯æ·»åŠ æˆ–è€…åˆ é™¤å…ƒç´ ã€‚</p>
<ul class="simple">
<li><p>ä½†æ˜¯åªåœ¨ä¸¤ç«¯åšäº†ä¼˜åŒ–ï¼Œä»ä¸­é—´å¢åˆ è¿˜æ˜¯æ…¢çš„ã€‚</p></li>
<li><p>append &amp; popleft éƒ½æ˜¯åŸå­æ“ä½œï¼Œdeque å¯ä»¥åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­å®‰å…¨åœ°ä½œä¸ºå…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ä½¿ç”¨ï¼Œè€Œä¸éœ€è¦è€ƒè™‘èµ„æºé”çš„é—®é¢˜ã€‚</p></li>
</ul>
<div class="admonition- admonition hint">
<p class="admonition-title">åŸå­æ“ä½œ</p>
<p>é€‚åˆåšç±»ä¼¼â€œæœ€è¿‘ç”¨åˆ°çš„å‡ ä¸ªå…ƒç´ â€ã€‚å› ä¸ºåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒæŒ‡å®šé˜Ÿåˆ—çš„å¤§å°(ä¸€æ—¦è®¾å®šä¹‹åä¸èƒ½æ”¹)ã€‚å¦‚æœæ»¡å‘˜çš„è¯ï¼Œå¯ä»¥ä» <strong>åå‘ç«¯</strong> åˆ é™¤è¿‡æœŸçš„å…ƒç´ ï¼Œåœ¨å°¾ç«¯æ·»åŠ æ–°å…ƒç´ ã€‚</p>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>init</dt><dd><p><code class="docutils literal notranslate"><span class="pre">q</span> <span class="pre">=</span> <span class="pre">deque([iterable[,</span> <span class="pre">maxlen=None])</span></code></p>
</dd>
</dl>
</li>
</ul>
<dl>
<dt>ğŸ“•</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[iterable]</span></code>  æ²¡æœ‰æŒ‡å®šï¼Œæ–°é˜Ÿåˆ—ä¸ºç©º</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">maxlen=None</span></code>  ï¼Œdeques å¯ä»¥å¢é•¿åˆ°ä»»æ„é•¿åº¦ã€‚ä¸€æ—¦è®¾å®šä¹‹åä¸èƒ½æ”¹ã€‚</div>
</div>
</dd>
</dl>
<ul>
<li><dl class="simple">
<dt>æ—‹è½¬</dt><dd><p><code class="docutils literal notranslate"><span class="pre">deque.rotate(n)</span></code>  å½“ n&gt;0, æœ€å³è¾¹çš„ n ä¸ªå…ƒç´ ä¼šè¢«æ—‹è½¬åˆ°æœ€å·¦è¾¹ï¼›å½“ n&lt;0, æœ€å·¦è¾¹çš„ n ä¸ªå…ƒç´ ä¼šè¢«æ—‹è½¬åˆ°æœ€å³è¾¹ã€‚</p>
</dd>
</dl>
</li>
<li><dl>
<dt>å¢åŠ  <strong>O(1)</strong></dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">deque.append(item)</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">deque.appendleft(item)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">deque.extend(iterable)</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">deque.extendleft(iterable)</span></code></div>
<div class="line">å¦‚æœæ»¡å‘˜çš„è¯ï¼Œå¯ä»¥ä»**åå‘ç«¯**åˆ é™¤è¿‡æœŸçš„å…ƒç´ ï¼Œåœ¨å°¾ç«¯æ·»åŠ æ–°å…ƒç´ ã€‚</div>
</div>
<div class="admonition-deque-extendleft-lst admonition warning">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">deque.extendleft(lst)</span></code>  å°†è¿­ä»£å™¨çš„å…ƒç´ é€ä¸ªå¢åŠ åˆ°é˜Ÿåˆ—ä¸Šï¼Œæœ€åå‘ˆç°å‡ºæ¥çš„æ˜¯é€†åºã€‚</p>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>åˆ é™¤ <strong>O(1)</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">deque.pop()</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">deque.popleft()</span></code></p>
</dd>
</dl>
</li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">dq</span> <span class="o">=</span> <span class="n">deque</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">maxlen</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span class="go">dq=deque([1, 2, 3], maxlen=5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dq</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="go">dq=deque([3, 4, 5, 6, 7], maxlen=5)</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">dq</span><span class="o">.</span><span class="n">extendleft</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
</span><span class="go">dq=deque([2, 1, 3, 4, 5], maxlen=5)</span>
</pre></div>
</div>
</section>
<section id="bytes">
<h4 id="bytes">bytes å­—èŠ‚<a class="headerlink" href="#bytes" title="Link to this heading">Â¶</a></h4>
<p><span class="defi">äºŒè¿›åˆ¶åºåˆ—</span> å…¶å®æ˜¯æ•´æ•°åºåˆ—ï¼šå„ä¸ªå…ƒç´ æ˜¯ä»‹äº 0 ï½ 255= <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>8</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^8-1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span>  ä¹‹é—´çš„æ•´æ•°ã€‚</p>
<div class="line-block">
<div class="line"><strong>ä¸ºä»€ä¹ˆè¿”å›æ¥çš„ç»“æœä¸ä¸€æ ·ï¼Ÿ</strong></div>
<div class="line">è™½ç„¶äºŒè¿›åˆ¶åºåˆ—æ˜¯æ•´æ•°åºåˆ—ï¼Œä½†ä»–ä»¬çš„å­—é¢é‡è¡¨ç¤ºæ³•è¡¨æ˜å…¶ä¸­æœ‰ ASCII æ–‡æœ¬ã€‚æ‰€ä»¥å„ä¸ªå­—èŠ‚çš„å€¼å¯èƒ½ä¼šä½¿ç”¨ä¸‹åˆ—ä¸‰ç§ä¸åŒçš„æ–‡æœ¬è¡¨ç¤ºï¼š</div>
</div>
<ul class="simple">
<li><p>å¯æ‰“å°çš„ ASCII èŒƒå›´å†…çš„å­—èŠ‚ â¡ï¸  ASCII å­—ç¬¦æœ¬èº«</p></li>
<li><p>åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ã€å›è½¦ç¬¦ã€å¯¹åº”çš„å­—èŠ‚ â¡ï¸ è½¬ä¹‰åºåˆ—</p></li>
<li><p>å…¶ä»–å­—èŠ‚çš„å€¼ â¡ï¸ 16è¿›åˆ¶è½¬ä¹‰åºåˆ—</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="s1">'A</span><span class="se">\t</span><span class="s1">å•Š'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">'utf8'</span><span class="p">)</span>
<span class="go">b=b'A\t\xe5\x95\x8a'</span>
<span class="hll"><span class="go">b[0]=65    b[1]=9       b[2]=229 å…¶å®æ˜¯æ•´æ•°</span>
</span><span class="hll"><span class="go">b[:1]=b'A' b[1:2]=b'\t' b[2:3]= b'\xe5'</span>
</span></pre></div>
</div>
</section>
<section id="str">
<h4 id="str"><code class="docutils literal notranslate"><span class="pre">str</span></code><a class="headerlink" href="#str" title="Link to this heading">Â¶</a></h4>
<p><span class="defi">Sequence</span></p>
<div class="admonition-s-i-n-math-impliedby-str admonition danger">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">s[i]</span> <span class="pre">=</span> <span class="pre">'n'</span></code>  åˆ‡ç‰‡èµ‹å€¼ âŒ  <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>â€…â€Š</mtext><mo>âŸ¸</mo><mtext>â€…â€Š</mtext></mrow><annotation encoding="application/x-tex">\impliedby</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸ¸</span><span class="mspace" style="margin-right:0.2778em;"></span></span></span></span></span>  str ä¸å¯å˜</p>
</div>
<div class="line-block">
<div class="line"><strong>å­—ç¬¦ç¼–ç é—®é¢˜ï¼š</strong></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">t</span></code>  æ–‡æœ¬</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">b</span></code>  äºŒè¿›åˆ¶/bytes,éæ–‡æœ¬åªèƒ½ byte æ¨¡å¼</div>
</div>
<div class="admonition-kbd-unicode-kbd-u-u admonition note">
<p class="admonition-title">å†…å­˜å›ºå®šä½¿ç”¨ &lt;kbd&gt;unicode&lt;/kbd&gt;, æˆ‘ä»¬æ”¹å˜çš„æ˜¯ä»&lt;u&gt;å†…å­˜å­˜å…¥ç¡¬ç›˜çš„æ ¼å¼&lt;/u&gt;</p>
<p>linux é»˜è®¤ utf-8ï¼Œ windows é»˜è®¤ gbk</p>
</div>
<div class="admonition- admonition note">
<p class="admonition-title">å­˜å‚¨æ•°æ® - å¤§å°å†™</p>
<p>å­˜å‚¨æ•°æ®æ—¶ï¼Œæ–¹æ³• <code class="docutils literal notranslate"><span class="pre">lower()</span></code> å¾ˆæœ‰ç”¨ã€‚å¾ˆå¤šæ—¶å€™ï¼Œä½ æ— æ³•ä¾é ç”¨æˆ·æ¥æä¾›æ­£ç¡®çš„å¤§å°å†™ï¼Œå› æ­¤éœ€è¦å°†å­—ç¬¦ä¸²å…ˆè½¬æ¢ä¸ºå°å†™ï¼Œå†å­˜å‚¨å®ƒä»¬ã€‚ä»¥åéœ€è¦æ˜¾ç¤ºè¿™äº›ä¿¡æ¯æ—¶ï¼Œå†å°†å…¶è½¬æ¢ä¸ºæœ€åˆé€‚çš„å¤§å°å†™æ–¹å¼ã€‚</p>
</div>
<div class="admonition- admonition danger">
<p class="admonition-title">ç©ºç™½æ³›æŒ‡ä»»ä½•éæ‰“å°å­—ç¬¦ï¼Œå¦‚ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦å’Œæ¢è¡Œç¬¦</p>
</div>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>cases</p></th>
<th class="head"><p>code</p></th>
<th class="head"><p>return=non-inplaced</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="5"><p>å¤§å°å†™</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str.upper()</span></code></p></td>
<td rowspan="4"><p>âœ… ç»“æœ</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">str.lower()</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">str.capitalize()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">str.title()</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">str.swapcase()</span></code></p></td>
<td><p>âœ… ç»“æœ å¤§å°å†™äº’æ¢</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>å»é™¤å‰åå­—ç¬¦ä¸²</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str.lstrip(sub_str)</span></code></p></td>
<td rowspan="3"><p>âœ… ç»“æœ é»˜è®¤æ˜¯ç©ºç™½</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">str.rstrip(sub_str)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">str.strip(sub_str)</span></code></p></td>
</tr>
<tr class="row-even"><td rowspan="8"><p>å­—ç¬¦ä¸²æ˜¯å¦åªç”±ddç»„æˆ</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str_.isalpha()</span></code></p></td>
<td><p>âœ… bool</p></td>
</tr>
<tr class="row-odd"><td><p>åªç”±å­—æ¯, <span class="defi">ä¸­æ–‡ä¹Ÿæ˜¯</span></p></td>
<td rowspan="7"><p>âœ… bool</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">str_.isdigit()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">str.isnumeric()</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">str.isdecimal()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>åªç”±æ•°å­—</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">str_.isspace()</span></code> , åªç”±ç©ºæ ¼</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">string.punctuation</span></code>  æ ‡ç‚¹</p></td>
</tr>
<tr class="row-even"><td rowspan="5"><p>æŸ¥æ‰¾</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">long_str.find(sub_str)</span></code>       â¡ï¸</p></td>
<td rowspan="2"><p>ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½® or <span class="defi">-1</span> âœ…</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">long_str.rfind(sub_str)</span></code> â¬…ï¸</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">long_str.index(sub_str)</span></code> â¡ï¸</p></td>
<td rowspan="2"><p>ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½® or <span class="defi">ValueError</span> âœ…</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">long_str.rindex(sub_str)</span></code> â¬…ï¸</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">str.count(sub,</span> <span class="pre">start=</span> <span class="pre">0,</span> <span class="pre">end=len(str))</span></code></p></td>
<td><p>âœ…  sub åœ¨ strä¸­å‡ºç°çš„æ¬¡æ•°</p></td>
</tr>
<tr class="row-odd"><td><p>æ‰§è¡Œ</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">eval(string)</span></code> æ‰§è¡Œä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼</p></td>
<td><p>âœ… è¡¨è¾¾å¼çš„å€¼</p></td>
</tr>
<tr class="row-even"><td rowspan="4"><p>å¡«å……</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str.ljust(int,</span> <span class="pre">pad_str)</span></code></p></td>
<td rowspan="3"><p>âœ… ç»“æœ  <code class="docutils literal notranslate"><span class="pre">pad_str='</span> <span class="pre">'</span></code> é»˜è®¤æ˜¯ç©ºæ ¼</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">str.rjust(int,</span> <span class="pre">pad_str)</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">str.center(int,</span> <span class="pre">pad_str)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">str.zfill(int)</span></code></p></td>
<td><p>âœ… ç»“æœ ç”¨0åœ¨å‰é¢çš„å¡«å……</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>ä¿®æ”¹</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">s[:l]</span> <span class="pre">+</span> <span class="pre">s[l:][::-1]</span></code>  é‡æ–°èµ‹å€¼</p></td>
<td><p>âœ… ç»“æœ</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">string.replace(old,</span> <span class="pre">new)</span></code> æ‰€æœ‰éƒ½æ¢ä¸€é</p></td>
<td><p>âœ… ç»“æœ</p></td>
</tr>
<tr class="row-even"><td><p>è¿æ¥å­—ç¬¦ä¸²</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">s3</span> <span class="pre">=</span> <span class="pre">s1</span> <span class="pre">+</span> <span class="pre">s2</span></code> <span class="defi">ä¸æ¨è</span></p></td>
<td><p>âœ… ç»“æœ</p></td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">'string'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="go">'   string'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="go">'  string '</span>
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>è¯†åˆ«æ•°å­—</dt><dd><p>æ•°å­—åˆ†ï¼š</p>
</dd>
</dl>
</li>
</ul>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">,</span> <span class="n">num3</span><span class="p">,</span> <span class="n">num4</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">'4'</span><span class="p">,</span> <span class="sa">u</span><span class="s1">'4'</span><span class="p">,</span> <span class="s1">'å››'</span><span class="err">ï¼Œ</span> <span class="s1">'IV'</span>
</pre></div>
</div>
<table>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>bytes(äºŒè¿›åˆ¶å‚¨å­˜)</p></th>
<th class="head"><p>unicode(å°±æ˜¯æ™®é€šçš„æ•°å­—)</p></th>
<th class="head"><p>ä¸­æ–‡æ•°å­—</p></th>
<th class="head"><p>ç½—é©¬æ•°å­—</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">num=</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">b'4'</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">u'4'</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'å››'</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'IV'</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">num=</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">b'4'</span></code></p></td>
<td><p>python3å‰é¢ä¸å¸¦ <code class="docutils literal notranslate"><span class="pre">u</span></code> å°±æ˜¯</p></td>
<td><p>^</p></td>
<td><p>^</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">str.isdigit()</span></code></p></td>
<td><p>âœ…</p></td>
<td><p>âœ…</p></td>
<td><p>âŒ</p></td>
<td><p>âŒ</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">str.isnumeric()</span></code></p></td>
<td><p>âœ…</p></td>
<td><p>âœ…</p></td>
<td><p>âœ…</p></td>
<td><p>âœ…</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">str.isdecimal()</span></code></p></td>
<td><p>âŒ</p></td>
<td><p>âœ…</p></td>
<td><p>âŒ</p></td>
<td><p>âŒ</p></td>
</tr>
</tbody>
</table>
<p>[Pythonä¸­ä¿®æ”¹å­—ç¬¦ä¸²çš„å››ç§æ–¹æ³•]</p>
<p>str match</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">str.startswith(sub_str)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str.endswith(sub_str)</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">str.endswith((sub_str1,</span> <span class="pre">sub_str2))</span></code></p></li>
</ul>
<p>å¯ä»¥åŒ¹é…å¤šä¸ª</p>
<p>strçš„ è½¬æ¢</p>
<p>list â†”ï¸ str</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">str</span> <span class="pre">=</span> <span class="pre">''.join(lst)</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">lst</span> <span class="pre">=</span> <span class="pre">str.split(':')</span></code></dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">lst</span> <span class="pre">=</span> <span class="pre">str.split(':',</span> <span class="pre">1)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lst</span> <span class="pre">=</span> <span class="pre">str.rsplit(':',</span> <span class="pre">1)</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">lst</span> <span class="pre">=</span> <span class="pre">list(str)</span></code></p></li>
</ul>
</div>
<div class="sd-col sd-d-flex-column docutils">
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">'a:a:a:a'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">['a', ':', 'a', ':', 'a', ':', 'a']</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="go">['a:a:a:a']</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">':'</span><span class="p">)</span>
<span class="go">['a', 'a', 'a', 'a']</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">':'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">['a', 'a:a:a']</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">':'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">['a:a:a', 'a']</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="admonition-python admonition note">
<p class="admonition-title">pythonå¤šç©ºæ ¼å­—ç¬¦ä¸²</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">string</span> <span class="o">=</span> <span class="s2">"a bb  cccc   dd"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span>  <span class="c1"># æŒ‡å®šäº†ä¸€ä¸ªç©ºå­—ç¬¦æ ¼  False</span>
<span class="go">['a', 'bb', '', 'cccc', '', '', 'dd']  # åªæ˜¯ç”¨ä¸€ä¸ª</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>  <span class="c1"># ä¸æŒ‡å®š  True</span>
<span class="go">['a', 'bb', 'cccc', 'dd']  # å‡¡æ˜¯ç”¨ç©ºæ ¼åˆ†éš”å°±ä¼šè¢«åˆ‡ï¼Œä¸ç®¡æœ‰å¤šå°‘ä¸ªç©ºæ ¼</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="support">
<h3 id="support">æ•£åˆ—è¡¨-support<a class="headerlink" href="#support" title="Link to this heading">Â¶</a></h3>
<div class="line-block">
<div class="line"><span class="defi">æŸ¥è¯¢æ€§èƒ½å‡ºä¼—</span> <span class="defi">æ— åº</span> <span class="defi">é”®ä¸ç¨³å®š</span> <span class="defi">ç©ºé—´æ¢æ—¶é—´</span></div>
<div class="line">æ˜¯ dict &amp; set æ€§èƒ½å‡ºä¼—çš„æ ¹æœ¬åŸå› ã€‚è™½ç„¶æ— åºä½†æ˜¯å†…å®¹ä¸€æ ·çš„è¯ä¸€æ ·ç­‰ä»·ã€‚</div>
</div>
<p>==å¯æ•£åˆ—ç±»å‹ hashable==ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡æ˜¯å¯æ•£åˆ—çš„ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªå¯¹è±¡**ç”Ÿå‘½å‘¨æœŸ**ä¸­ï¼Œå®ƒçš„æ•£åˆ—å€¼æ˜¯ä¸å˜çš„ï¼Œè€Œä¸”è¿™ä¸ªå¯¹è±¡éœ€è¦å®ç°  <code class="docutils literal notranslate"><span class="pre">.__hash__()</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">.__eq__()</span></code>  ã€‚å› ä¸º <code class="docutils literal notranslate"><span class="pre">hash()</span></code>  æ–¹æ³•å¯ä»¥ä½œç”¨äºå¯¹è±¡ä¸Šï¼Œå¹¶ä¸”å¦‚æœä¸¤ä¸ªå¯æ•£åˆ—çš„å¯¹è±¡æ˜¯ç›¸ç­‰ï¼Œé‚£ä¹ˆæ•£åˆ—å€¼ä¸€å®šæ˜¯ä¸€æ ·ã€‚</p>
<ul>
<li><p>åŸå­ä¸å¯å˜ç±»å‹( str &amp; bytes &amp; æ•°å€¼)</p></li>
<li><p>frozensetï¼ˆå› ä¸ºåªèƒ½å®¹çº³å¯æ•£åˆ—ç±»å‹ï¼‰</p></li>
<li><p>&lt;u&gt;åŒ…å«çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯å¯æ•£åˆ—çš„&lt;/u&gt; tuple</p></li>
<li><dl>
<dt>ä¸€èˆ¬ç”¨æˆ·è‡ªå®šä¹‰çš„çš„ç±»å‹çš„å¯¹è±¡æ˜¯å¯æ•£åˆ—çš„ã€‚æ‰€æœ‰å¯¹è±¡åœ¨æ¯”è¾ƒçš„æ—¶å€™éƒ½æ˜¯ä¸ç›¸ç­‰ï¼Œå“ªæ€•æ˜¯å†…å®¹ä¸€æ ·ã€‚</dt><dd><div class="admonition-id admonition hint">
<p class="admonition-title">æ•£åˆ—å€¼æ˜¯  <code class="docutils literal notranslate"><span class="pre">id()</span></code> ?</p>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Fruit</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="n">name</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">apple1</span><span class="p">,</span> <span class="n">apple2</span> <span class="o">=</span> <span class="n">Fruit</span><span class="p">(</span><span class="s1">'apple'</span><span class="p">),</span> <span class="n">Fruit</span><span class="p">(</span><span class="s1">'apple'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hash</span><span class="p">(</span><span class="n">apple1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">hash</span><span class="p">(</span><span class="n">apple2</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
<div class="admonition-python3-3-str-byte-datetime-defi admonition note">
<p class="admonition-title">ä» python3.3 å¼€å§‹ï¼Œstr &amp; byte &amp; datetime çš„å•åˆ—å€¼è®¡ç®—å¤šäº† <span class="defi">éšæœºåŠ ç›</span> è¿™ä¸€æ­¥ã€‚</p>
<p>æ‰€åŠ çš„ç›å€¼æ˜¯ python è¿›ç¨‹çš„ä¸€ä¸ªå¸¸é‡ï¼Œä½†æ˜¯æ¯æ¬¡å¯åŠ¨æ—¶ python.exe éƒ½ä¼šç”Ÿæˆä¸€ä¸ªä¸åŒçš„ç›å€¼ã€‚éšæœºç›å€¼æ˜¯ä¸ºäº†é˜²æ­¢ DOS æ”»å‡»è€Œé‡‡å–çš„ä¸€ç§å®‰å…¨æªæ–½ã€‚</p>
</div>
<div class="admonition-python-hashable admonition danger">
<p class="admonition-title">python é‡Œæ‰€æœ‰ä¸å¯å˜çš„ç±»å‹éƒ½æ˜¯ hashable âŒ</p>
<p>è™½ç„¶ tuple æ˜¯ä¸å¯å˜çš„ï¼Œä½†æ˜¯é‡Œé¢çš„å…ƒç´ å¯èƒ½æ˜¯å…¶ä»–å¯å˜ç±»å‹çš„å¼•ç”¨ã€‚</p>
</div>
<div class="line-block">
<div class="line"><strong>æ•£åˆ—è¡¨çš„å·¥ä½œåŸç†ã€‚</strong></div>
<div class="line">éœ€è¦  <code class="docutils literal notranslate"><span class="pre">hash()</span></code>  æ¥è®¡ç®—æ•£åˆ—å€¼ï¼Œå¹¶ä¸”å¦‚æœä¸¤ä¸ªå¯æ•£åˆ—çš„å¯¹è±¡æ˜¯ç›¸ç­‰ï¼Œé‚£ä¹ˆæ•£åˆ—å€¼ä¸€å®šæ˜¯ä¸€æ ·ã€‚</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line">1 == 1.0  <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>â€…â€Š</mtext><mo>âŸ¹</mo><mtext>â€…â€Š</mtext></mrow><annotation encoding="application/x-tex">\implies</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸ¹</span><span class="mspace" style="margin-right:0.2778em;"></span></span></span></span></span>  hash(1) == hash(1.0)</div>
<div class="line">å“ªæ€•æ˜¯æ•´å‹å’Œæµ®ç‚¹çš„å†…éƒ¨ç»“æ„å®Œå…¨ä¸ä¸€æ ·ã€‚</div>
</div>
</div></blockquote>
<div class="admonition-math-nrightarrow admonition danger">
<p class="admonition-title">æ•£åˆ—å€¼ä¸€å®šæ˜¯ä¸€æ ·  <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‡</mo></mrow><annotation encoding="application/x-tex">\nRightarrow</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel amsrm">â‡</span></span></span></span></span>  ä¸¤ä¸ªå¯æ•£åˆ—çš„å¯¹è±¡æ˜¯ç›¸ç­‰</p>
</div>
<div class="line-block">
<div class="line">ä¸ºäº†è®©æ•£åˆ—å€¼èƒ½èƒœä»»æ•£åˆ—è¡¨ç´¢å¼•è¿™ä¸€è§’è‰²ï¼Œæ•£åˆ—å€¼å¿…é¡»åœ¨ç´¢å¼•ç©ºé—´å°½é‡åˆ†æ•£å¼€ã€‚åœ¨æœ€ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œè¶Šç›¸ä¼¼ä½†ä¸æƒ³ç­‰çš„ä¸¤ä¸ªå¯¹è±¡çš„æ•£åˆ—å€¼å·®å¼‚åº”è¯¥è¶Šå¤§ã€‚</div>
<div class="line"><span class="defi">è¡¨å…ƒ</span> ï¼Œæ•£åˆ—è¡¨é‡Œçš„å•å…ƒï¼Œæ‰€æœ‰çš„è¡¨å…ƒçš„å¤§å°ä¸€è‡´ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡åç§»é‡æ¥è¯»å–æŸä¸ªå•å…ƒã€‚</div>
<div class="line">ä¸ºäº†æŸ¥è¯¢  <code class="docutils literal notranslate"><span class="pre">search_item</span></code>  æ˜¯å¦å­˜åœ¨åœ¨ç»“æ„ä¸­ï¼š</div>
</div>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hash(search_item)</span></code>  è®¡ç®—æ•£åˆ—å€¼</p></li>
<li><p>æŠŠæ•£åˆ—å€¼æœ€ä½çš„å‡ ä½æ•°å­—å½“ä½œåç§»é‡ï¼Œåœ¨æ•£åˆ—è¡¨æŸ¥æ‰¾è¡¨å…ƒã€‚</p></li>
<li><p>ğŸŸ° ç©ºï¼Œâ¡ï¸  <code class="docutils literal notranslate"><span class="pre">search_item</span></code>  ä¸åœ¨ç»“æ„ä¸­ã€‚ ğŸ”š</p></li>
<li><p>ğŸŸ° éç©ºï¼Œå³è¡¨å…ƒå­˜æ”¾äº†ä¸€ä¸ª  <code class="docutils literal notranslate"><span class="pre">found_item</span></code> ï¼Œä½†æ˜¯æ•£åˆ—å€¼ç›¸åŒçš„ä¸ä¸€å®šæ˜¯ä¸€æ ·çš„</p></li>
<li><p>æ¯”è¾ƒ  <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">search_item</span> <span class="pre">==</span> <span class="pre">found_item</span></code></p></li>
<li><p>ğŸŸ°  <code class="docutils literal notranslate"><span class="pre">True</span></code>  ï¼Œå°±å¯¹äº†ã€‚ğŸ”š</p></li>
<li><dl class="simple">
<dt>ğŸŸ°  <code class="docutils literal notranslate"><span class="pre">False</span></code> ï¼Œåªèƒ½è¯æ˜å‡ºç° &lt;u&gt;æ•£åˆ—å†²çª&lt;/u&gt;ã€‚</dt><dd><p>ä¸ºäº†è§£å†³æ•£åˆ—å†²çªï¼Œç®—æ³•åœ¨æ•£åˆ—å€¼ä¸­å†å¦å¤–å»å‡ ä½ï¼Œç„¶åç”¨ç‰¹æ®Šçš„æ–¹æ³•å¤„ç†ä¸€ä¸‹ï¼Œå¾—åˆ°æ–°çš„æ•£åˆ—å€¼æ¥åœ¨æ•£åˆ—è¡¨æŸ¥æ‰¾è¡¨å…ƒï¼Œé‡å¤ 2-7ã€‚</p>
</dd>
</dl>
</li>
<li><p>ç›´è‡³å‘ç° 1ï¸âƒ£ è¡¨å…ƒä¸ºç©º 2ï¸âƒ£  <code class="docutils literal notranslate"><span class="pre">search_item</span> <span class="pre">==</span> <span class="pre">found_item</span></code>  ç»“æŸå¾ªç¯</p></li>
</ol>
<p><strong>æ•ˆç‡åˆ°åº•æœ‰å¤šé«˜ï¼Ÿ</strong></p>
<div class="admonition-s2-s1-if-s-in-s1 admonition hint">
<p class="admonition-title">å¯¹ s2 é‡Œæ¯ä¸ªå…ƒç´ ï¼ŒæŸ¥è¯¢æ˜¯å¦å­˜åœ¨ s1 é‡Œï¼Ÿ  <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">s</span> <span class="pre">in</span> <span class="pre">s1</span></code></p>
<ol class="arabic simple">
<li><p>é›†åˆè¿›è¡Œå¹¶æ“ä½œï¼Œä½†å‰ææ˜¯ s1 &amp; s2 éƒ½æ˜¯é›†åˆ</p></li>
<li><p>s1 æ˜¯ å­—å…¸</p></li>
<li><p>s1 æ˜¯ é›†åˆ</p></li>
<li><p>s1 æ˜¯ åˆ—è¡¨ã€‚</p></li>
</ol>
<div class="line-block">
<div class="line">åœ¨å­—å…¸å’Œé›†åˆä¸è¶…å‡ºå†…å­˜çš„å‰æä¸‹ï¼Œæ— è®º s1 é‡Œæœ‰å¤šå°‘å…ƒç´ ï¼ŒæŸ¥è¯¢æ—¶é—´å¯å¿½ç•¥ä¸è®¡ã€‚</div>
<div class="line">å› ä¸ºåˆ—è¡¨æ²¡æœ‰æ•£åˆ—è¡¨æ”¯æŒ  <code class="docutils literal notranslate"><span class="pre">__contains__</span></code>  æ“ä½œï¼Œæ¯ä¸€æ¬¡æ‰«æéƒ½éœ€è¦æ‰«æä¸€éå®Œæ•´çš„åˆ—è¡¨ï¼Œæ—¶é—´æ ¹æ® s1 çš„å¤§å°å‘ˆ <strong>çº¿æ€§å¢åŠ </strong></div>
<div class="line">è™½ç„¶ç¬¬ä¸€ç§æœ€å¿«ï¼Œä½†æ˜¯éœ€è¦ s2 ä¹Ÿæ˜¯é›†åˆï¼Œæ¶‰åŠè½¬æˆ set çš„æˆæœ¬ï¼Œä¸å¿…å¼ºæ±‚ã€‚</div>
</div>
</div>
<div class="line-block">
<div class="line"><strong>ä¸ºä»€ä¹ˆå…ƒç´ æ˜¯æ— åºä¸”ä¸ç¨³å®šï¼Ÿ</strong></div>
<div class="line">é”®å¯¹çš„æ’åˆ—é¡ºåºä¸æ·»åŠ é¡ºåºä¸åŒï¼Œä¹Ÿä¸å­˜å‚¨é¡ºåºä¸åŒã€‚</div>
<div class="line"><span class="defi">æ•£åˆ—è¡¨</span> æ˜¯ä¸€ä¸ªç¨€ç–æ•°ç»„(<strong>æ€»æ˜¯**æœ‰ç©ºç™½å…ƒç´ )ã€‚ **ä¸ºäº†å‡å°‘æ•£åˆ—å†²çªçš„æ¦‚ç‡</strong>ï¼Œpython ä¼šè®¾æ³•ä¿è¯å¤§æ¦‚è¿˜æœ‰ä¸‰åˆ†ä¹‹ä¸€çš„è¡¨å…ƒæ˜¯ç©ºç™½çš„ï¼Œæ¯å¿«åˆ°è¿™ä¸ªé˜ˆå€¼æ—¶ï¼Œpython ä¼šé‡æ–°åˆ†é…å†…å­˜ï¼Œæ‰€æœ‰çš„æ•£åˆ—è¡¨å°±ä¼šè¢«å¤åˆ¶åˆ°ä¸€ä¸ªæ›´å¤§çš„ç©ºé—´é‡Œé¢ã€‚ <strong>ã€ç©ºé—´æ¢æ—¶é—´ã€‘</strong> å¦‚æœå¢åŠ æ•£åˆ—è¡¨çš„å¤§å°ï¼Œæ•£åˆ—å€¼æ‰€å çš„ä½æ•°å’Œç´¢å¼•çš„ä½æ•°éƒ½éšä¹‹å¢åŠ ã€‚</div>
<div class="line">åœ¨æ‰©å®¹çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½å‘ç”Ÿæ–°çš„æ•£åˆ—å†²çªï¼Œå¯¼è‡´æ–°æ•£åˆ—è¡¨ä¸­å…ƒç´ çš„æ¬¡åºå˜åŒ–ã€‚æ‰€ä»¥æ˜¯æ— åºä¸”ä¸ç¨³å®šã€‚</div>
</div>
<div class="admonition-dict-set admonition danger">
<p class="admonition-title">ä¸è¦åœ¨è¿­ä»£çš„è¿‡ç¨‹ä¸­ å¯¹ dict &amp; set è¿›è¡Œä¿®æ”¹ã€‚æœ‰å¯èƒ½ä¼šè·³è¿‡ä¸€äº›é”®ã€‚â€</p>
<ol class="arabic simple">
<li><p>é¦–å…ˆè¿­ä»£ï¼Œè®°å½•è¦ä¿®æ”¹çš„ä¸œè¥¿ï¼Œå†åœ¨è¿­ä»£åè¿›è¡Œæ›´æ–°ã€‚</p></li>
</ol>
</div>
<section id="dict">
<h4 id="dict">dict<a class="headerlink" href="#dict" title="Link to this heading">Â¶</a></h4>
<p>ä¸€ç³»åˆ—é”®â€”å€¼å¯¹ã€‚æ¯ä¸ªé”®éƒ½ä¸ä¸€ä¸ªå€¼ç›¸å…³è”ï¼Œä½¿ç”¨é”®æ¥è®¿é—®ä¸ä¹‹ç›¸å…³è”çš„å€¼ã€‚
å†…å­˜å¼€é”€å·¨å¤§ï¼Œä¸ä»…å› ä¸ºæ•£åˆ—è¡¨è€—è´¹ï¼Œè¿˜å› ä¸ºéœ€è¦ã€é‡å¤çš„é”®ã€‘åœ¨æ¯ä¸ªè®°å½•é‡Œéƒ½è¦å­˜ä¸€éã€‚
æ¨¡å—çš„å‘½åç©ºé—´ã€å®ä¾‹çš„å±æ€§ã€å‡½æ•°çš„å…³é”®å­—å‚æ•°ã€‚è·Ÿå®ƒç›¸å…³çš„å†…ç½®å‡½æ•°åœ¨  <code class="docutils literal notranslate"><span class="pre">__builtins__.__dict__</span></code>  æ¨¡å—ä¸­</p>
<ul>
<li><dl>
<dt>init</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">=</span> <span class="pre">dict(one=1,</span> <span class="pre">two=2)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">=</span> <span class="pre">{'one':1,</span> <span class="pre">'two':2}</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">=</span> <span class="pre">dict(zip(['one',</span> <span class="pre">'two'],[1,2]))</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">=</span> <span class="pre">dict([('one',</span> <span class="pre">1),('two',</span> <span class="pre">2)])</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">=</span> <span class="pre">{k:</span> <span class="pre">v</span> <span class="pre">for</span> <span class="pre">k,</span> <span class="pre">v</span> <span class="pre">in</span> <span class="pre">[('one',</span> <span class="pre">1),('two',</span> <span class="pre">2)]}</span></code>  å­—å…¸æ¨å¯¼</div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>get. åªæƒ³æŸ¥ï¼Œå¹¶ä¸æƒ³å¯¹å­—å…¸æ›´æ”¹ã€‚</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">d[k]</span></code> , æ²¡æœ‰å°± <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> .</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">d.get(k,</span> <span class="pre">[default=None])</span></code> , æ²¡æœ‰å°±è¿”å› <code class="docutils literal notranslate"><span class="pre">default</span></code> ï¼Œ çº¯ç²¹ get</div>
</div>
<div class="admonition-notes admonition warning">
<p class="admonition-title">notes</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d.__getitem__(v)</span></code>  çš„ call æ˜¯  <code class="docutils literal notranslate"><span class="pre">d[k]</span></code> ï¼› å’Œ <code class="docutils literal notranslate"><span class="pre">d.get(..)</span></code>  ä¸€ç‚¹å…³ç³»éƒ½æ²¡æœ‰ã€‚</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">d.get(..)</span></code>  ä¸ä¼šæ”¹å˜åŸæœ‰çš„å­—å…¸ã€‚</p></li>
</ol>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>contains</dt><dd><p><code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">in</span> <span class="pre">d.keys()</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">in</span> <span class="pre">d:</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">v</span> <span class="pre">in</span> <span class="pre">d.values()</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>loop</dt><dd><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">k,</span> <span class="pre">v</span> <span class="pre">in</span> <span class="pre">d.items():</span></code></p>
</dd>
</dl>
</li>
<li><dl>
<dt>æ›´æ–°ã€‚</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">d[k]=v</span></code>  åªæœ‰èµ‹å€¼æ—¶ç®¡ç”¨ã€‚</p></li>
<li><dl>
<dt>æ›´æ–°çš„æ—¶å€™</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">d.setdefault(k,</span> <span class="pre">default)</span></code>  å€¼çš„æ ¼å¼ä¸ç»Ÿä¸€</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">collections</span> <span class="pre">import</span> <span class="pre">defaultdict</span></code>  å€¼çš„æ ¼å¼ç»Ÿä¸€ï¼Œéƒ½æ˜¯ list | str | int</div>
</div>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="admonition-get-v admonition warning">
<p class="admonition-title">ä¸ºä»€ä¹ˆä¸ç”¨ get çš„æ–¹æ³•ã€‚ã€é’ˆå¯¹éƒ¨åˆ†æ”¹å˜ v å€¼ æƒ…å†µã€‘</p>
<div class="line-block">
<div class="line">æ›´æ–° 1ï¸âƒ£ å½»åº•æ”¹å˜ v å€¼(åŒ…æ‹¬æ–°å¢ k-v å¯¹) 2ï¸âƒ£ éƒ¨åˆ†æ”¹å˜ v å€¼ï¼ˆ <code class="docutils literal notranslate"><span class="pre">d[k]+=1</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">d[v].append()</span></code> ï¼‰</div>
<div class="line">å¯¹äº 1ï¸âƒ£ï¼š <code class="docutils literal notranslate"><span class="pre">k[v]</span></code>  æ˜¯å¯ä»¥çš„ï¼Œæ ‡å‡†èµ‹å€¼è¯­å¥ï¼Œä½†æ˜¯ 2ï¸âƒ£ ä¼šå¼•å‘  <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>  ç›´æ¥æŠ¥é”™ï¼Œå› ä¸ºæ“ä½œéœ€è¦ k-v å­˜åœ¨ã€‚</div>
<div class="line">å¦‚æœç”¨  <code class="docutils literal notranslate"><span class="pre">.get()</span></code>  çš„æ–¹æ³• å°±å¿…é¡»æ¶‰åŠäºŒæ¬¡æŸ¥è¯¢ï¼Œå› ä¸ºå½“ä¸å­˜åœ¨æ—¶ï¼Œè¿”å›çš„ default å¹¶æ²¡æœ‰è·Ÿ  <code class="docutils literal notranslate"><span class="pre">d[k]</span></code>  ç»‘å®šåœ¨ä¸€èµ·ï¼Œéœ€è¦èµ‹å€¼è¯­å¥è¿›è¡Œç»‘å®šï¼Œå…¶ä¸­æ¶‰åŠå†æ¬¡æŸ¥è¯¢ã€‚</div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="n">v</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">[])</span>  <span class="c1"># æŸ¥ä¸€æ¬¡</span>
</span><span class="n">v</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>  <span class="c1"># æŸ¥ä¸¤æ¬¡</span>
<span class="hll"><span class="n">d</span><span class="o">.</span><span class="n">setdefault</span><span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="p">[]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># åªæŸ¥ä¸€æ¬¡</span>
</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="hll"><span class="n">d</span>  <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>  <span class="c1"># list []</span>
</span><span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition-defaultdict-setdefault admonition hint">
<p class="admonition-title">å¦‚ééœ€è¦ï¼Œ <code class="docutils literal notranslate"><span class="pre">defaultdict</span></code>  æ¯”  <code class="docutils literal notranslate"><span class="pre">.setdefault()</span></code> æ›´å¿«â€</p>
<div class="line-block">
<div class="line">å› ä¸ºä¸€ä¸ªæ˜¯åœ¨åˆ›å»ºåˆæœŸå°±è®¾å¥½ç»Ÿä¸€çš„åˆå§‹å€¼ï¼Œä¸€ä¸ªæ˜¯æ ¹æ®å€¼çš„ä¸ä¸€æ ·ï¼Œåœ¨æ‰¾çš„æ—¶å€™è®¾å€¼</div>
<div class="line"><a class="reference external" href="https://stackoverflow.com/questions/38625608/setdefault-vs-defaultdict-performance">setdefault vs defaultdict performance</a></div>
</div>
</div>
<section id="defaultdict">
<h5 id="defaultdict">defaultdict<a class="headerlink" href="#defaultdict" title="Link to this heading">Â¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">collections.defaultdict</span></code>  å½“å€¼çš„æ ¼å¼ç»Ÿä¸€ï¼Œéƒ½æ˜¯ list | str | intã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼Œåœ¨å®ä¾‹åŒ–ä¸€ä¸ª defaultdict å¯¹è±¡æ—¶ï¼Œç»™æ„é€ æ–¹æ³•æä¾›äº†ä¸€ä¸ª**å¯è°ƒç”¨å¯¹è±¡(ä¸æ˜¯æ–¹æ³•)**ã€‚å½“  <code class="docutils literal notranslate"><span class="pre">.__getitem__</span></code>  æ‰¾ä¸åˆ°é”®æ—¶ï¼Œè°ƒç”¨ <code class="docutils literal notranslate"><span class="pre">.__missing__</span></code> , ç„¶å  <code class="docutils literal notranslate"><span class="pre">.__missing__</span></code>  è°ƒç”¨å­˜æ”¾åœ¨  <code class="docutils literal notranslate"><span class="pre">default_factory</span></code> å±æ€§çš„è¿™ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œå¯è°ƒç”¨å¯¹è±¡äº§ç”Ÿé»˜è®¤å€¼ï¼Œè®©  <code class="docutils literal notranslate"><span class="pre">.__getitem__</span></code>  è¿”å›ã€‚</p>
<div class="admonition-missing admonition note">
<p class="admonition-title">å…³é”®æ˜¯å®ç°äº†  <code class="docutils literal notranslate"><span class="pre">.__missing__</span></code> æ–¹æ³•ã€‚</p>
<div class="line-block">
<div class="line">ä¸ºäº†è‡ªå®šä¹‰æ˜ å°„ç±»å‹åœ¨æ‰¾ä¸åˆ°é”®æ—¶çš„ååº”ï¼Œå¯ä»¥é‡å®šä¹‰ <code class="docutils literal notranslate"><span class="pre">.__missing__</span></code> ï¼ˆè§é­”æ³•æ–¹æ³•é‚£ä¸€èŠ‚ï¼‰ã€‚</div>
<div class="line">åŸºç±» dict æ²¡æœ‰å®šä¹‰ï¼Œä½†æ˜¯å®ƒçŸ¥é“ï¼Œæ‰€ä»¥å¦‚æœæŸä¸ªç±»ç»§æ‰¿äº† dictï¼Œåˆæ˜¯å®ç°äº†  <code class="docutils literal notranslate"><span class="pre">__missing__</span></code>  ï¼Œé‚£ä¹ˆåœ¨  <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code>  æ‰¾ä¸åˆ°é”®æ—¶ï¼Œpython ä¼šè‡ªåŠ¨è°ƒç”¨å®ƒï¼Œè€Œä¸æ˜¯æŠ›å‡º  KeyError.</div>
</div>
</div>
<ul>
<li><dl>
<dt>init</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">defaultdict([default_factory])</span></code></div>
<div class="line">å¦‚æœæ²¡æœ‰æŒ‡å®š default_factoryï¼Œ æ‰¾ä¸åˆ°è¿˜æ˜¯ä¼šäº§ç”Ÿ keyError</div>
</div>
</dd>
</dl>
</li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="go">defaultdict(&lt;class 'list'&gt;, {})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">default_factory</span>
<span class="go">&lt;class 'list'&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">=</span> <span class="pre">defaultdict(list)</span></code> ï¼Œå½“ k æ‰¾ä¸åˆ°çš„æ—¶å€™ï¼š</p>
<ol class="arabic simple">
<li><p>è°ƒç”¨  <code class="docutils literal notranslate"><span class="pre">list()</span></code>  å»ºç«‹ä¸€ä¸ªæ–° list</p></li>
<li><p>d[k] å­˜æ”¾ æ–° list çš„å¼•ç”¨</p></li>
<li><p>è¿”å› d[k]</p></li>
</ol>
</section>
<section id="ordereddict">
<h5 id="ordereddict">OrderedDict<a class="headerlink" href="#ordereddict" title="Link to this heading">Â¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code> .</p>
<div class="line-block">
<div class="line">ä¸ dict çš„ åŒºåˆ« : ç»´æŠ¤æ’å…¥é¡ºåºçš„å­—å…¸ï¼ŒåŒºåˆ«åªåœ¨äº <strong>è®°å½•äº†é”®â€”å€¼å¯¹çš„æ·»åŠ é¡ºåº</strong></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">.popitem()</span></code>  é»˜è®¤åˆ é™¤å¹¶è¿”å›çš„æ—¶å­—å…¸é‡Œæœ€åä¸€ä¸ªå…ƒç´ ï¼ˆæœ€æ–°æ·»åŠ çš„ï¼‰</div>
</div>
</section>
<section id="chainmaps">
<h5 id="chainmaps">ChainMaps<a class="headerlink" href="#chainmaps" title="Link to this heading">Â¶</a></h5>
</section>
<section id="counter">
<h5 id="counter">Counter<a class="headerlink" href="#counter" title="Link to this heading">Â¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">collections.Counter</span></code>  æ•´æ•°è®¡æ•°å™¨</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">ct</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="s1">'abbcbcbb'</span><span class="p">)</span>
</span><span class="go">ct=Counter({'b': 5, 'c': 2, 'a': 1})</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">ct</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s1">'aaa'</span><span class="p">)</span>
</span><span class="go">ct=Counter({'b': 5, 'a': 4, 'c': 2})</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">ct</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class="go">[('b', 5)]</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="nb">sum</span><span class="p">(</span><span class="n">ct</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="c1"># æ±‚æ€»æ•°</span>
</span><span class="go">11</span>
</pre></div>
</div>
</section>
</section>
<section id="id30">
<h4 id="id30">ä¸å¯å˜çš„æ˜ å°„ç±»å‹<a class="headerlink" href="#id30" title="Link to this heading">Â¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">types.MappingProxyType</span></code>
| æä¾›ä¸€ä¸ªæ˜ å°„çš„ <strong>åªè¯»çš„åŠ¨æ€è§†å›¾</strong>ã€‚ä¸èƒ½è¿›è¡Œä¿®æ”¹ï¼Œä½†æ˜¯å¦‚æœåŸæ˜ å°„æ”¹äº†ï¼Œä½œä¸ºçš„åŠ¨æ€è§†å›¾ MappingProxyType ä¹Ÿèƒ½çœ‹è§ã€‚</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">MappingProxyType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="s1">'A'</span><span class="p">}</span>  <span class="c1"># dict \in mapping</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">d_proxy</span> <span class="o">=</span> <span class="n">MappingProxyType</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</span><span class="go"> d=d_proxy=mappingproxy({1: 'A'})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d_proxy</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'B'</span>
<span class="hll"><span class="go">TypeError: 'mappingproxy' object does not support item assignment</span>
</span><span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'B'</span>
</span><span class="go">d=d_proxy=mappingproxy({1: 'A', 2: 'B'})</span>
</pre></div>
</div>
</section>
<section id="set">
<h4 id="set">set<a class="headerlink" href="#set" title="Link to this heading">Â¶</a></h4>
<div class="line-block">
<div class="line"><span class="defi">Mutable</span> + <span class="defi">å»é‡</span> ï¼Œ <span class="defi">æ— åº</span></div>
<div class="line">ä¸“ä¸º <strong>æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨</strong> åšè¿‡ä¼˜åŒ–ã€‚</div>
<div class="line">set é‡Œçš„å…ƒç´ å¿…é¡»æ˜¯ hashableï¼Œä½† set æœ¬èº«æ˜¯ unhashableã€‚å¦‚æœset åº•ä¸‹æ˜¯è¦æ”¾é›†åˆï¼Œå¿…é¡»æ”¾ <strong>frozenset</strong></div>
</div>
<div class="admonition-frozenset-defi-unmutable-defi-hashable admonition note">
<p class="admonition-title">å§Šå¦¹ç±»å‹ frozenset ï¼š <span class="defi">unmutable</span> + <span class="defi">hashable</span></p>
</div>
<ul>
<li><dl>
<dt>init</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">set()</span></code>  &lt;u&gt;ç©ºé›†åˆå¿…é¡»&lt;/u&gt;ã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">set(iterater)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">{v</span> <span class="pre">for</span> <span class="pre">v</span> <span class="pre">in</span> <span class="pre">iterater}</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">{v1,</span> <span class="pre">v2,</span> <span class="pre">...}</span></code></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>element level</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">s.add(e)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">s.discard(e)</span></code>  &lt;u&gt;ä¸å­˜åœ¨do nothing&lt;/u&gt;</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">s.remove(e)</span></code>  &lt;u&gt;ä¸å­˜åœ¨å°±æŠ¥é”™&lt;/u&gt;</div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>æ•°å­¦è¿ç®—</dt><dd><div class="line-block">
<div class="line">åŒæ ·å­˜åœ¨ in-placed çš„æ–¹æ³•  <code class="docutils literal notranslate"><span class="pre">&amp;=</span></code> <code class="docutils literal notranslate"><span class="pre">|=</span></code> <code class="docutils literal notranslate"><span class="pre">-=</span></code> <code class="docutils literal notranslate"><span class="pre">^=</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">s1</span> <span class="pre">&amp;</span> <span class="pre">s2</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mn>1</mn><mo>âˆ©</mo><mi>s</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">s1 \cap s2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord mathnormal">s</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord mathnormal">s</span><span class="mord">2</span></span></span></span></span>  äº¤  <code class="docutils literal notranslate"><span class="pre">.__and__</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">s1</span> <span class="pre">|</span> <span class="pre">s2</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mn>1</mn><mo>âˆª</mo><mi>s</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">s1 \cup s2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord mathnormal">s</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord mathnormal">s</span><span class="mord">2</span></span></span></span></span>  å¹¶  <code class="docutils literal notranslate"><span class="pre">.__or__</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">s1</span> <span class="pre">-</span> <span class="pre">s2</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mn>1</mn><mo>âˆ–</mo><mi>s</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">s1 \setminus s2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ–</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord mathnormal">s</span><span class="mord">2</span></span></span></span></span>  å·®  <code class="docutils literal notranslate"><span class="pre">.__sub__</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">s1</span> <span class="pre">^</span> <span class="pre">s2</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>s</mi><mn>1</mn><mo>âˆª</mo><mi>s</mi><mn>2</mn><mo stretchy="false">)</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mi>s</mi><mn>1</mn><mo>âˆ©</mo><mi>s</mi><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(s1 \cup s2) - (s1 \cap s2)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord">2</span><span class="mclose">)</span></span></span></span></span>  å¯¹ç§°å·®é›†  <code class="docutils literal notranslate"><span class="pre">.__xor__</span></code></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>æ¯”è¾ƒè¿ç®—</dt><dd><div class="line-block">
<div class="line">é‡å†™äº†  <code class="docutils literal notranslate"><span class="pre">__le__</span></code> <code class="docutils literal notranslate"><span class="pre">__lt__</span></code> <code class="docutils literal notranslate"><span class="pre">__ge__</span></code> <code class="docutils literal notranslate"><span class="pre">__gt__</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">s1</span> <span class="pre">&lt;</span> <span class="pre">s2</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mn>1</mn><mo>âŠ‚</mo><mi>s</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">s1 \subset s2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">s</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ‚</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord mathnormal">s</span><span class="mord">2</span></span></span></span></span></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">s.issuperset(it)</span></code>  æŠŠå¯è¿­ä»£ it è½¬æ¢ä¸º setï¼Œç„¶åçœ‹ s æ˜¯å¦æ˜¯å®ƒçš„å­é›†</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">s1</span> <span class="pre">&lt;=</span> <span class="pre">s2</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mn>1</mn><mo>âŠ†</mo><mi>s</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">s1 \subseteq s2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord mathnormal">s</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord mathnormal">s</span><span class="mord">2</span></span></span></span></span></div>
</div>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="sparse-matrix">
<h3 id="sparse-matrix">sparse_matrix<a class="headerlink" href="#sparse-matrix" title="Link to this heading">Â¶</a></h3>
<section id="scipy-sparse-coo-matrix">
<h4 id="scipy-sparse-coo-matrix"><code class="docutils literal notranslate"><span class="pre">scipy.sparse.coo_matrix</span></code><a class="headerlink" href="#scipy-sparse-coo-matrix" title="Link to this heading">Â¶</a></h4>
<div class="line-block">
<div class="line"><strong>åªå­˜å‚¨éé›¶å…ƒç´ </strong></div>
<div class="line">ä¸‰å…ƒç»„ <code class="docutils literal notranslate"><span class="pre">(row,</span> <span class="pre">col,</span> <span class="pre">data)</span></code> (æˆ–ç§°ä¸º <strong>ijv format</strong> )çš„å½¢å¼æ¥å­˜å‚¨çŸ©é˜µä¸­éé›¶å…ƒç´ çš„ä¿¡æ¯ã€‚</div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>å®é™…</dt><dd><ul>
<li><p>ç”¨æ¥åˆ›å»ºçŸ©é˜µï¼Œå› ä¸º <code class="docutils literal notranslate"><span class="pre">coo_matrix</span></code> <strong>æ— æ³•</strong> å¯¹çŸ©é˜µçš„å…ƒç´ è¿›è¡Œå¢åˆ æ”¹æ“ä½œ</p></li>
<li><p>è½¬ç½®ã€çŸ©é˜µè¿ç®—ç­‰ï¼Œè¦è½¬  <code class="docutils literal notranslate"><span class="pre">csr_matrix</span></code> ã€ <code class="docutils literal notranslate"><span class="pre">csc_matrix</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><p>å®ä¾‹</p></li>
<li><p>è½¬åŒ–</p></li>
</ul>
<p>[Pythonç¨€ç–çŸ©é˜µè¯¦è§£]</p>
</section>
</section>
<section id="id31">
<h3 id="id31">å †<a class="headerlink" href="#id31" title="Link to this heading">Â¶</a></h3>
<div class="admonition-heap-0-is-smallest admonition note">
<p class="admonition-title">æœ€å°çš„å…ƒç´ æ€»æ˜¯åœ¨æ ¹ç»“ç‚¹ï¼š <code class="docutils literal notranslate"><span class="pre">heap[0]</span> <span class="pre">is</span> <span class="pre">smallest</span></code></p>
<div class="line-block">
<div class="line">å †æ˜¯ä¸€ä¸ªäºŒå‰æ ‘ï¼Œå®ƒçš„æ¯ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼éƒ½åªä¼šå°äºæˆ–ç­‰äºæ‰€æœ‰å­©å­èŠ‚ç‚¹</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">parent</span> <span class="pre">&lt;=</span> <span class="pre">childs</span></code> ã€‚</div>
</div>
</div>
<ul class="simple">
<li><p>ä¸€æ£µå®Œå…¨äºŒå‰æ ‘çš„æ•°ç»„å¯¹è±¡ = å®ƒä½¿ç”¨äº†æ•°ç»„æ¥å®ç°ï¼š</p></li>
<li><p>ã€æœ€å°å †ã€‘ä»é›¶å¼€å§‹è®¡æ•°ï¼Œå¯¹äºæ‰€æœ‰çš„ k ï¼Œéƒ½æœ‰  <code class="docutils literal notranslate"><span class="pre">heap[k]</span> <span class="pre">&lt;=</span> <span class="pre">heap[2*k+1]</span></code>  å’Œ  <code class="docutils literal notranslate"><span class="pre">heap[k]</span> <span class="pre">&lt;=</span> <span class="pre">heap[2*k+2]</span></code> ã€‚ ä¸ºäº†ä¾¿äºæ¯”è¾ƒï¼Œä¸å­˜åœ¨çš„å…ƒç´ è¢«è®¤ä¸ºæ˜¯æ— é™å¤§ã€‚</p></li>
</ul>
<section id="heapq-py">
<h4 id="heapq-py"><code class="docutils literal notranslate"><span class="pre">heapq.py</span></code>  å †é˜Ÿåˆ— = ä¼˜å…ˆé˜Ÿåˆ—ç®—æ³•<a class="headerlink" href="#heapq-py" title="Link to this heading">Â¶</a></h4>
<p><strong>Heap queue algorithm (a.k.a. priority queue):</strong></p>
<div class="admonition- admonition note">
<p class="admonition-title">æœ€å°å †</p>
<p><code class="docutils literal notranslate"><span class="pre">heapq[0]</span> <span class="pre">is</span> <span class="pre">smallest</span></code></p>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>properties</dt><dd><ul>
<li><p><strong>æ’åºç¨³å®šæ€§</strong>ï¼šå…·æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§çš„è¯å°±ä¼šæŒ‰ä»–ä»¬è¢«æ’å…¥åˆ°é˜Ÿåˆ—çš„é¡ºåºè¿”å› â€”â€”&gt; æ¡ç›®è®¡æ•°å¯ç”¨æ¥æ‰“ç ´å¹³å±€</p></li>
<li><p><strong>å †</strong> pop æ“ä½œæ€»æ˜¯è¿”å›ä¼˜å…ˆçº§æœ€é«˜</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ref</dt><dd><ul>
<li><p>[heapq â€“å †é˜Ÿåˆ—ç®—æ³•]</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<section id="code">
<h5 id="code">code<a class="headerlink" href="#code" title="Link to this heading">Â¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">heap.sort()</span></code>  ç»´æŠ¤äº†å †çš„ä¸å˜æ€§</p>
<div class="admonition-heapq admonition danger">
<p class="admonition-title">heapq ä¸æ˜¯ä¸€ä¸ªç±»è€Œæ˜¯ä¸€ä¸ªæ¨¡å—</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">heapq</span>

<span class="n">Meth</span><span class="p">:</span>
<span class="o">-</span> <span class="n">heapify</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
</pre></div>
</div>
</div>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>dd</p></th>
<th class="head"><p>âŒ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>âœ…</p></td>
<td><p>â¡ï¸</p></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>operations</p></th>
<th class="head"><p>code</p></th>
<th class="head"><p>return</p></th>
<th class="head"><p>T(n)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>å»ºç«‹ç©ºå †</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">h</span> <span class="pre">=</span> <span class="pre">[]</span></code></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>list  â¡ï¸ heap</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">heapify(h)</span></code></p></td>
<td><p>âŒ <strong>in-placed</strong></p></td>
<td><p>O(n)</p></td>
</tr>
<tr class="row-even"><td rowspan="6"><p>åŠ å…¥å¼¹å‡º</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">heapq.heappush(h,</span> <span class="pre">x)</span></code></p></td>
<td><p>âŒ</p></td>
<td><p><strong>O(logn)</strong></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">heapq.heappop(h)</span></code></p></td>
<td><p>âœ… æœ€å° <code class="docutils literal notranslate"><span class="pre">h[0]</span></code> , ç©ºå°±æœ‰ <code class="docutils literal notranslate"><span class="pre">IndexError</span></code></p></td>
<td><p>O(logn)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">heapq.heappushpop(h,</span> <span class="pre">x)</span></code></p></td>
<td rowspan="2"><p>âœ…  &lt;= x(å› ä¸ºå…ˆåŠ x)</p></td>
<td rowspan="4"><p>æ¯”è¿è°ƒä¸¤ä¸ªå•çº¯å‡½æ•°è¦å¿«</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;=&gt;  <code class="docutils literal notranslate"><span class="pre">push+pop</span></code> , å…ˆåŠ xå†å¼¹å‡º</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">heapq.heapreplace(h,</span> <span class="pre">x)</span></code></p></td>
<td><p>âœ…             x(å› ä¸ºååŠ x)</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;=&gt;  <code class="docutils literal notranslate"><span class="pre">pop+push</span></code></p></td>
<td><p>ç©ºå°±æœ‰ <code class="docutils literal notranslate"><span class="pre">IndexError</span></code></p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>
<section id="basic-operaions">
<h2 id="basic-operaions">Basic operaions<a class="headerlink" href="#basic-operaions" title="Link to this heading">Â¶</a></h2>
<section id="n">
<h3 id="n">æŸ¥æ‰¾æœ€å¤§æˆ–æœ€å°çš„ N ä¸ªå…ƒç´ <a class="headerlink" href="#n" title="Link to this heading">Â¶</a></h3>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>ç®€å•å¯¹è±¡</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>å…¨éƒ¨æ’åºæˆ–æŸ¥æ‰¾Top N&lt;len(lst) ä¸ª</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sorted(lst,</span> <span class="pre">*,</span> <span class="pre">key=None,</span> <span class="pre">reverse=False)</span></code> ,  <code class="docutils literal notranslate"><span class="pre">sorted(lst)[:N]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>æŸ¥æ‰¾Top N&lt;&lt;len(lst) ä¸ª</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">heapq.nlargest()</span></code> ,  <code class="docutils literal notranslate"><span class="pre">heapq.smallest()</span></code></p></td>
</tr>
<tr class="row-even"><td><p>æœ€å¤§/æœ€å°</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">max(lst)</span></code> <code class="docutils literal notranslate"><span class="pre">min(lst)</span></code></p></td>
</tr>
</tbody>
</table>
<section id="id32">
<h4 id="id32">å¤æ‚å¯¹è±¡<a class="headerlink" href="#id32" title="Link to this heading">Â¶</a></h4>
<ul>
<li><p>comparable :  <code class="docutils literal notranslate"><span class="pre">key=lambda</span></code>  or  <code class="docutils literal notranslate"><span class="pre">key=</span> <span class="pre">itemgetter()</span></code></p></li>
<li><dl>
<dt>uncmparable<span class="classifier"><code class="docutils literal notranslate"><span class="pre">key=lambda</span></code>  or  <code class="docutils literal notranslate"><span class="pre">key=</span> <span class="pre">attrgetter()</span></code></span></dt><dd><p>é€‰æ‹©ä½¿ç”¨  <code class="docutils literal notranslate"><span class="pre">lambda</span></code>  å‡½æ•°æˆ–è€…æ˜¯  <code class="docutils literal notranslate"><span class="pre">attrgetter()</span></code>  å¯èƒ½å–å†³äºä¸ªäººå–œå¥½ã€‚ ä½†æ˜¯ï¼Œ  <code class="docutils literal notranslate"><span class="pre">attrgetter()</span></code>  å‡½æ•°é€šå¸¸ä¼šè¿è¡Œçš„å¿«ç‚¹ï¼Œå¹¶ä¸”è¿˜èƒ½åŒæ—¶å…è®¸å¤šä¸ªå­—æ®µè¿›è¡Œæ¯”è¾ƒã€‚åŒæ ·é€‚ç”¨äºåƒ  <code class="docutils literal notranslate"><span class="pre">min()</span></code>  å’Œ  <code class="docutils literal notranslate"><span class="pre">max()</span></code>  ä¹‹ç±»çš„å‡½æ•°</p>
</dd>
</dl>
</li>
</ul>
<p>[pythonä¹‹æ’åºæ“ä½œåŠheapqæ¨¡å—]</p>
</section>
<section id="id33">
<h4 id="id33">å…¶ä»–å¸¸ç”¨<a class="headerlink" href="#id33" title="Link to this heading">Â¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">random.choice(seq)</span></code>  ä»ä¸€ä¸ªåºåˆ—ä¸­éšæœºé€‰å‡ºä¸€ä¸ªå…ƒç´ </p>
<ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">math</span></code></dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">.sqrt(n)</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msqrt><mi>n</mi></msqrt></mrow><annotation encoding="application/x-tex">=\sqrt{n}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.2397em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8003em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal">n</span></span></span><span style="top:-2.7603em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveaspectratio="xMinYMin slice" viewbox="0 0 400000 1080" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2397em;"><span></span></span></span></span></span></span></span></span></span> <code class="docutils literal notranslate"><span class="pre">.pow(n,</span> <span class="pre">a)</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msup><mi>n</mi><mi>a</mi></msup></mrow><annotation encoding="application/x-tex">=n^a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span></span></span></span></span> <code class="docutils literal notranslate"><span class="pre">.exp(n)</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msup><mi>e</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">=e^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span> <code class="docutils literal notranslate"><span class="pre">.log(n,</span> <span class="pre">a)</span></code>   | <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msubsup><mrow><mi>log</mi><mo>â¡</mo></mrow><mn>2</mn><mi>n</mi></msubsup></mrow><annotation encoding="application/x-tex">=\log_2^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9957em;vertical-align:-0.247em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7487em;"><span style="top:-2.453em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.1473em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">.fabs(n)</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>float</mtext><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>n</mi><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{float}(|n|)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">float</span></span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathnormal">n</span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span></span></span> <code class="docutils literal notranslate"><span class="pre">abs(n)</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi mathvariant="normal">âˆ£</mi><mi>n</mi><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">=|n|</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">n</span><span class="mord">âˆ£</span></span></span></span></span></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">.factorial(n)</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>n</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">=n!</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></span></div>
</div>
<table>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">.ceil(f)</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mo>â‰¥</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">=\ge f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">=â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span></span></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">.floor(f)</span></code> <span class="math"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mo>â‰¤</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">=\le f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">=â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span></span></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">.trunc(f)</span></code> åªè¦æ•´æ•°éƒ¨åˆ†</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>3.3</p></td>
<td><p>4</p></td>
<td><p>3</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>-2.3</p></td>
<td><p>-2</p></td>
<td><p>-3</p></td>
<td><p>-2</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</li>
</ul>
<section id="id34">
<h5 id="id34">å¹¶è¡Œè¿­ä»£å¯¹è±¡<a class="headerlink" href="#id34" title="Link to this heading">Â¶</a></h5>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">zip(IterableA,</span> <span class="pre">IterableB,</span> <span class="pre">...)</span></code>  å¹¶è¡Œå¤šä¸ªè¿­ä»£å¯¹è±¡è¿”å›ç”Ÿæˆå™¨ï¼Œç”Ÿæˆå…ƒç»„ã€‚ä½†ä¼šåœ¨ <strong>æœ€çŸ­</strong> çš„å¯è¿­ä»£å¯¹è±¡è€—å°½æ—¶åœæ­¢,ä½†ä¸ç»™æç¤ºã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">itertools.zip_longest(IterableA,</span> <span class="pre">IterableB,</span> <span class="pre">...,</span> <span class="pre">fillvalue=None)</span></code>  ç”¨ fillvalue å¡«å……ç¼ºå¤±çš„å€¼ï¼Œç›´åˆ° <strong>æœ€é•¿</strong> çš„å¯è¿­ä»£å¯¹è±¡è€—å°½ã€‚</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">itertools</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z1</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="s1">'ABC'</span><span class="p">,</span> <span class="s1">'ab'</span><span class="p">)</span>
<span class="go">z1=&lt;zip object at 0x10288bf40&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">z1</span><span class="p">)</span>
<span class="go">[(1, 'A', 'a'), (2, 'B', 'b')]  # åœæ­¢ä¸ç»™æç¤º</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">z2</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">zip_longest</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="s1">'ABC'</span><span class="p">,</span> <span class="s1">'ab'</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="s1">'?'</span><span class="p">)</span>
<span class="go">z2=itertools.zip_longest(range(1,4), 'ABC', 'ab', fillvalue='?')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">z2</span><span class="p">)</span>
<span class="go">[(1, 'A', 'a'), (2, 'B', 'b'), (3, 'C', '?')]  # å¡«å……</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="id35">
<h2 id="id35">åŸºæœ¬æ“ä½œ<a class="headerlink" href="#id35" title="Link to this heading">Â¶</a></h2>
<section id="id36">
<h3 id="id36">è¿ç®—ç¬¦<a class="headerlink" href="#id36" title="Link to this heading">Â¶</a></h3>
<div class="admonition- admonition note">
<p class="admonition-title">ä¸­ç¼€è¿ç®—ç¬¦çš„åŸºæœ¬åŸåˆ™æ˜¯è¿”å›æ¥ä¸€ä¸ªæ–°çš„å€¼ï¼Œè€Œä¸æ”¹å˜æ“ä½œå¯¹è±¡æœ¬èº«ã€‚</p>
</div>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>â—ç®—æœ¯è¿ç®—ç¬¦</p></th>
<th class="head"><p>a/b</p></th>
<th class="head"><p>a//b</p></th>
<th class="head"><p>a%b</p></th>
<th class="head"><p>a**b</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>a=3,b=2</p></td>
<td><p>æ•´æ•°+å°æ•°</p></td>
<td><p>åªè¦æ•´æ•°</p></td>
<td><p>ä½™æ•°</p></td>
<td><p>å¹‚</p></td>
</tr>
<tr class="row-odd"><td><p>1.5</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>9</p></td>
</tr>
</tbody>
</table>
</section>
<section id="iterator">
<h3 id="iterator">iterator è¿­ä»£å™¨<a class="headerlink" href="#iterator" title="Link to this heading">Â¶</a></h3>
<p>å®ƒæ˜¯è®¿é—®å®¹å™¨ï¼ˆä¾‹å¦‚åˆ—è¡¨ã€å…ƒç»„ç­‰ï¼‰ä¸­çš„å…ƒç´ çš„ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥**é€ä¸ªè®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œè€Œä¸å¿…å°†æ•´ä¸ªå®¹å™¨å­˜å‚¨åœ¨å†…å­˜ä¸­**ã€‚</p>
<ul class="simple">
<li><dl class="simple">
<dt>properties</dt><dd><ul>
<li><dl class="simple">
<dt>æƒ°æ€§è®¡ç®—, lazy evaluation,</dt><dd><p>æƒ°æ€§è®¡ç®—æŒ‡çš„æ˜¯åœ¨éœ€è¦æ—¶æ‰è¿›è¡Œè®¡ç®—ï¼Œè€Œéæå‰å°†æ‰€æœ‰çš„è®¡ç®—éƒ½æ‰§è¡Œå®Œæ¯•ã€‚å¯¹äºå¤§å‹æ•°æ®é›†åˆï¼Œæƒ°æ€§è®¡ç®—å¯ä»¥èŠ‚çœå†…å­˜å¼€é”€å¹¶æé«˜ç¨‹åºæ€§èƒ½</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>å¯é€†æ€§, reversibility</dt><dd><p>å¯ä»¥é€šè¿‡ <strong>åå‘è¿­ä»£å™¨ï¼ˆreverse iteratorï¼‰</strong> æ¥é€†åºè®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ ã€‚Pythonæ ‡å‡†åº“ä¸­æä¾›äº† <code class="docutils literal notranslate"><span class="pre">reversed()</span></code> å‡½æ•°ç”¨äºåˆ›å»ºåå‘è¿­ä»£å™¨ã€‚</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<table>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>åªæœ‰data</p></th>
<th class="head"><p>ä¸€ä¸ªåˆ—è¡¨</p></th>
<th class="head"><p>notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">iter()</span></code></p></td>
<td><p>âœ…</p></td>
<td><p>âœ…</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">enumerate(sequence,</span> <span class="pre">[start=0])</span></code></p></td>
<td><p>âŒ auto_index + data</p></td>
<td><p>âœ…</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">zip(strict)</span></code></p></td>
<td><p>âœ…</p></td>
<td><p>âŒ å¤šä¸ª</p></td>
<td><p>3.10ç‰ˆæœ¬è®¾ <code class="docutils literal notranslate"><span class="pre">strict=True</span></code> ä¸ºä¸¥æ ¼éµå®ˆå¤§å°ç›¸ç­‰</p></td>
</tr>
</tbody>
</table>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Alice'</span><span class="p">,</span> <span class="s1">'Bob'</span><span class="p">,</span> <span class="s1">'Charlie'</span><span class="p">]</span>
<span class="n">ages</span> <span class="o">=</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">18</span><span class="p">]</span>
<span class="n">sexs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'M'</span><span class="p">,</span><span class="s1">'F'</span><span class="p">,</span> <span class="s1">'M'</span><span class="p">]</span>

<span class="c1"># 1. iter -&gt; data</span>
<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">iter</span><span class="p">(</span><span class="n">names</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>

<span class="c1"># 2. enumerate -&gt; (index, data)</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">names</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'NO.</span><span class="si">{}</span><span class="s1"> is </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>

<span class="c1"># 3. zip -&gt;</span>
<span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">ages</span><span class="p">,</span> <span class="n">sexs</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'</span><span class="si">{}</span><span class="s1"> - </span><span class="si">{}</span><span class="s1"> - </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">))</span>


<span class="c1"># 4. enumerate + zip</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">ages</span><span class="p">,</span> <span class="n">sexs</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'NO.</span><span class="si">{}</span><span class="s1"> is </span><span class="si">{}</span><span class="s1"> - </span><span class="si">{}</span><span class="s1"> - </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">))</span>
        <span class="c1"># 0 Alice 24 M</span>
        <span class="c1"># 1 Bob 50 F</span>
        <span class="c1"># 2 Charlie 18 M</span>
</pre></div>
</div>
<p>[Pythonä¸­çš„zip()ï¼šä»å¤šä¸ªåˆ—è¡¨ä¸­è·å–å…ƒç´ ]</p>
</section>
<section id="itertools-module">
<h3 id="itertools-module"><code class="docutils literal notranslate"><span class="pre">itertools</span></code>  module<a class="headerlink" href="#itertools-module" title="Link to this heading">Â¶</a></h3>
<div class="admonition- admonition note">
<p class="admonition-title">è¯»å–å¤§å‹æ–‡ä»¶æ•°æ®</p>
<p>å½“æˆ‘ä»¬éœ€è¦å¤„ç†å¤§é‡æ•°æ®æ—¶ï¼Œå°†æ•´ä¸ªæ•°æ®é›†åŠ è½½åˆ°å†…å­˜ä¸­å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå´©æºƒæˆ–æ•ˆç‡ä½ä¸‹ã€‚ä½¿ç”¨Pythonè¿­ä»£å™¨æ¥å¤„ç†å¤§å‹æ–‡ä»¶æ•°æ®éå¸¸ç†æƒ³ï¼Œè¿™ç§æ–¹å¼åªåœ¨å†…å­˜ä¸­ç»´æŠ¤å½“å‰å¤„ç†çš„æ•°æ®å—ï¼Œè€Œä¸éœ€è¦ä¸€æ¬¡æ€§è¯»å–æ•´ä¸ªæ–‡ä»¶ã€‚</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'large_file.txt'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">process_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>[pythonè¿­ä»£å™¨è¯¦è§£]</p>
<div class="line-block">
<div class="line">è¿­ä»£å™¨å¿…é¡»å®ç° <code class="docutils literal notranslate"><span class="pre">__iter__</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">__next__</span></code> æ–¹æ³•ï¼Œè€Œç”Ÿæˆå™¨åªéœ€è¦å®ç°ä¸€ä¸ª <code class="docutils literal notranslate"><span class="pre">yield</span></code> è¯­å¥å³å¯ã€‚</div>
<div class="line">ç”Ÿæˆå™¨å¯ä»¥ä¿å­˜çŠ¶æ€ï¼Œæ¯æ¬¡è°ƒç”¨ <code class="docutils literal notranslate"><span class="pre">yield</span></code> è¯­å¥æ—¶ä¼šè‡ªåŠ¨ä¿å­˜å½“å‰çš„å±€éƒ¨å˜é‡å’Œæ‰§è¡Œä½ç½®ï¼Œå¹¶åœ¨ä¸‹ä¸€æ¬¡è°ƒç”¨æ—¶æ¢å¤æ‰§è¡ŒçŠ¶æ€ï¼Œä»è€Œå®ç°äº†è¿­ä»£å™¨çš„åŠŸèƒ½ã€‚</div>
<div class="line">ç”Ÿæˆå™¨çš„ä¸»è¦ä½œç”¨æ˜¯ç”Ÿæˆåºåˆ—ï¼Œè€Œè¿­ä»£å™¨åˆ™å¯ä»¥ç”¨äºå„ç§æ•°æ®ç»“æ„çš„éå†ï¼ŒåŒ…æ‹¬åºåˆ—ã€æ˜ å°„ã€æ–‡ä»¶ç­‰</div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">'y1'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">yield</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">'y2'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">yield</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="go">&lt;generator object func at 0x1028db7c0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">y1</span>
<span class="go">1</span>
<span class="go">y2</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">StopIteration  # å·²è¿­ä»£ç»“æŸæ²¡æœ‰å€¼äº†ã€‚</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">a</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">y1</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="admonition-yield-return admonition note">
<p class="admonition-title">æœ‰yield ä¸€èˆ¬ä¸ç”¨ return</p>
</div>
</section>
</section>
<section id="id37">
<h2 id="id37">å¾ªç¯<a class="headerlink" href="#id37" title="Link to this heading">Â¶</a></h2>
<p>æƒ³çœ‹ç´¢å¼•  <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">idx,</span> <span class="pre">obj</span> <span class="pre">in</span> <span class="pre">enumerate(objs):</span></code></p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">animals</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'cat'</span><span class="p">,</span> <span class="s1">'dog'</span><span class="p">,</span> <span class="s1">'monkey'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">animal</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">animals</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">animal</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>
<span class="go">0 - cat</span>
<span class="go">1 - dog</span>
<span class="go">2 - monkey</span>
</pre></div>
</div>
<div class="admonition- admonition danger">
<p class="admonition-title">çœ‹æ¸…æ¥šå¾ªç¯çš„æ˜¯å•¥</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'abc'</span><span class="p">,</span> <span class="s1">'def'</span><span class="p">,</span> <span class="s1">'ghj'</span><span class="p">]:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="go">a b c</span>
<span class="go">d e f</span>
<span class="go">g h j</span>
<span class="go">"""ï¼ï¼ï¼ï¼ è€Œä¸æ˜¯ a d g</span>
<span class="go">è¿™ç§éœ€è¦ zip</span>
<span class="go">"""</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">,</span> <span class="s1">'def'</span><span class="p">,</span> <span class="s1">'ghj'</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="go">a d g</span>
<span class="go">b e h</span>
<span class="go">c f j</span>
</pre></div>
</div>
</div>
</section>
<section id="cls">
<h2 id="cls">ç±» cls<a class="headerlink" href="#cls" title="Link to this heading">Â¶</a></h2>
<div class="admonition-defi admonition note">
<p class="admonition-title"><span class="defi">å®ä¾‹åŒ–</span> ã€‚æ ¹æ®ç±»æ¥åˆ›å»ºå¯¹è±¡</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">MyClass</span></code> : ç±», <span class="defi">é©¼å³°å‘½åæ³•</span> ï¼Œå³å°†ç±»åä¸­çš„ <strong>æ¯ä¸ªå•è¯çš„é¦–å­—æ¯éƒ½å¤§å†™ï¼Œè€Œä¸ä½¿ç”¨ä¸‹åˆ’çº¿</strong>ã€‚</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">myclass_1</span></code> : æ ¹æ®ç±»åˆ›å»ºçš„å®ä¾‹ã€‚å®ä¾‹åé‡‡ç”¨ <strong>å°å†™æ ¼å¼ï¼Œå¹¶åœ¨å•è¯ä¹‹é—´åŠ ä¸Šä¸‹åˆ’çº¿</strong>ã€‚</div>
</div>
</div>
<section id="id38">
<h3 id="id38">åè®®<a class="headerlink" href="#id38" title="Link to this heading">Â¶</a></h3>
<div class="admonition-defi-duck-typing admonition note">
<p class="admonition-title"><span class="defi">é¸­å­ç±»å‹ duck typing</span> ã€‚ä¸»è¦æ˜¯ä¸€ç§æ€æƒ³ã€‚ä¸è¦å» <strong>ä¸¥æ ¼éªŒè¯</strong> æ˜¯ä¸æ˜¯é¸­å­ï¼Œè€Œæ˜¯æ£€æŸ¥æœ‰æ²¡æœ‰é¸­å­çš„ <strong>é‡ç‚¹ç‰¹å¾å’Œè¡Œä¸º</strong> ã€‚ä½•è°“é‡ç‚¹ç‰¹å¾å’Œè¡Œä¸ºï¼Œå–å†³äºä½ æƒ³ä½¿ç”¨çš„ç±»å‹çš„æ ¹æœ¬ç‰¹å¾æ˜¯ä»€ä¹ˆã€‚å¿½ç•¥å¯¹è±¡çš„çœŸæ­£ç±»åˆ«ï¼Œè½¬è€Œå…³æ³¨å¯¹è±¡åˆæ²¡æœ‰å®ç°æ‰€éœ€çš„ æ–¹æ³• &amp; ç­¾å &amp; è¯­ä¹‰ã€‚â€</p>
<div class="line-block">
<div class="line">åºåˆ—ç±»å‹ï¼Œåªè¦è¿­ä»£å°±è¡Œã€‚ğŸŸ° åªè¦èƒ½è¿­ä»£éƒ½æ˜¯åºåˆ—ç±»å‹ï¼Œè€Œä¸éœ€è¦ç»§æ‰¿ä»€ä¹ˆæˆ–è€…ä»€ä¹ˆä¸¥æ ¼å®šä¹‰ã€‚</div>
<div class="line">è¯´åºåˆ—ï¼Œæ˜¯å› ä¸ºå®ƒçš„è¡Œä¸ºåƒåºåˆ—ã€‚å¦‚æœåªæƒ³è¿­ä»£ï¼Œåªéœ€è¦  <code class="docutils literal notranslate"><span class="pre">__iter__</span></code>  å°±è¡Œï¼Œè€Œä¸éœ€è¦ <code class="docutils literal notranslate"><span class="pre">__len__</span></code>  å¤šä½™çš„ä½†æ˜¯å±äºåºåˆ—çš„è¡Œä¸ºã€‚</div>
</div>
</div>
<div class="admonition-defi-cls-cls-abc-abcmeta-isinstance-obj-cls admonition note">
<p class="admonition-title"><span class="defi">ç™½é¹…ç±»å‹</span> ã€‚åªè¦ cls æ˜¯æŠ½è±¡åŸºç±» ğŸŸ° cls çš„å…ƒç±»æ˜¯  <code class="docutils literal notranslate"><span class="pre">abc.ABCMeta</span></code> ï¼Œå°±å¯ä»¥ä½¿ç”¨  <code class="docutils literal notranslate"><span class="pre">isinstance(obj,</span> <span class="pre">cls)</span></code> â€œ</p>
</div>
<div class="line-block">
<div class="line"><span class="defi">åè®®</span> ã€‚æ˜¯ä¸€ç§çº¦å®šï¼Œç”¨äºæŒ‡å¯¼å¯¹è±¡ä¹‹é—´çš„äº¤äº’å’Œè¡Œä¸ºã€‚Pythonå¹¶æ²¡æœ‰ä¸¥æ ¼çš„æ¥å£å®šä¹‰ï¼Œè€Œæ˜¯é€šè¿‡åè®®æ¥å®ç°æ¥å£çš„æ¦‚å¿µã€‚ <strong>åè®®æ˜¯éæ­£å¼çš„æ¥å£</strong>ã€‚å¯¹è±¡çš„ç±»å‹æ— å…³ç´§è¦ï¼Œåªè¦å®ç°ç‰¹å®šçš„åè®®å³å¯ã€‚</div>
<div class="line">åè®®æ˜¯ <strong>åŠ¨æ€**çš„ï¼šå‡½æ•°ä¸å…³å¿ƒå‚æ•°çš„ç±»å‹ï¼Œåªè¦æ±‚å¯¹è±¡å®ç°äº†éƒ¨åˆ†æ‰€éœ€åè®®ï¼Œå³ä½¿ä¸€å¼€å§‹å®šä¹‰æ—¶æ²¡æœ‰å®ç°ï¼Œ **ä¹Ÿå¯ä»¥ä¹‹åå†è¡¥ä¸Š</strong>ã€‚</div>
</div>
<div class="admonition- admonition note">
<p class="admonition-title">ä¸ä¸€å®šè¦è‡ªå·±å®ç°æ‰€éœ€åè®®ï¼Œå¦‚æœèƒ½å§”æ‰˜ç»™å¯¹è±¡çš„å¸¦æœ‰æ‰€éœ€åè®®çš„å±æ€§ä¹Ÿå¯ä»¥ã€‚ä½†æ˜¯å•çº¯å§”æ‰˜æœ‰ç¼ºç‚¹ï¼Œå¯èƒ½ä¼šè¿”å› å§”æ‰˜ç±»å‹ï¼Œè€Œä¸æ˜¯è‡ªå®šä¹‰çš„ç±»å‹ã€‚â€</p>
<div class="admonition-list-list-vector admonition hint">
<p class="admonition-title">å‘é‡çš„åˆ‡ç‰‡æ“ä½œå§”æ‰˜ç»™ list çš„åˆ‡ç‰‡ã€‚ä½†æ˜¯æœ‰ç¼ºç‚¹ï¼šåˆ‡ç‰‡è¿”å›çš„æ˜¯ list ç±»å‹ï¼Œè€Œä¸æ˜¯è‡ªå®šä¹‰çš„ vector ç±»å‹ã€‚</p>
</div>
<p>âœï¸ çœ‹ getitem</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Vector</span><span class="p">():</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">components</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_components</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">components</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>  <span class="c1"># å§”æ‰˜ç»™ list ç±»å‹çš„ _components</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>  <span class="c1"># å•çº¯å§”æ‰˜</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">v[0]=0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="p">[:]</span>
<span class="go">[0, 1, 2]  # list not vetor</span>
</pre></div>
</div>
</div>
<p><span class="defi">åºåˆ—ç±»å‹</span> ã€‚</p>
<div class="mermaid">
            classDiagram
class Container
Container: __contains__ @
class Iterable
Iterable: __iter__ @
class Sized
Sized: __len__ @
class Sequence
Sequence: __getitem__ @
Sequence: __contains__
Sequence: __iter__
Sequence: __reversed__
Sequence: index
Sequence: count
class MutableSequence
MutableSequence: __setitem__ @
MutableSequence: __delitem__ @
MutableSequence: insert/append/extend
MutableSequence: pop/remove
MutableSequence: __iadd__
Container &lt;|-- Sequence
Iterable &lt;|-- Sequence
Sized &lt;|-- Sequence
Sequence &lt;|-- MutableSequence
        </div><div class="line-block">
<div class="line">å…·ä½“æ–¹æ³•å’ŒæŠ½è±¡æ–¹æ³•æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ä¸¤ä¸ªæ¦‚å¿µï¼Œç”¨äºæè¿°ç±»ä¸­çš„æ–¹æ³•çš„ç‰¹æ€§å’Œè¡Œä¸ºã€‚</div>
<div class="line"><span class="defi">æŠ½è±¡æ–¹æ³• Abstract Methods</span> ã€‚(åé¢åŠ  <code class="docutils literal notranslate"><span class="pre">@</span></code> )åœ¨ç±»ä¸­å£°æ˜ <strong>ä½†æ²¡æœ‰å…·ä½“å®ç°</strong>ï¼Œå®ƒåªåŒ…å«æ–¹æ³•çš„ç­¾åï¼ˆè¿”å›ç±»å‹ã€æ–¹æ³•åå’Œå‚æ•°åˆ—è¡¨ï¼‰ï¼Œæ²¡æœ‰æ–¹æ³•ä½“ã€‚<strong>å­ç±»å¿…é¡»å®ç°æŠ½è±¡æ–¹æ³•</strong>ï¼Œæ‰èƒ½åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚å¦åˆ™å°±ä¼šäº§ç”Ÿ  <code class="docutils literal notranslate"><span class="pre">NotImplentedError</span></code> ï¼Œæˆ–å­ç±»ä¹Ÿå¿…é¡»å£°æ˜ä¸ºæŠ½è±¡ç±»ã€‚</div>
<div class="line"><span class="defi">å…·ä½“æ–¹æ³•Concrete Methods</span> ã€‚åœ¨ç±»ä¸­å®ç°äº†å…·ä½“åŠŸèƒ½çš„æ–¹æ³•ï¼Œå®ƒ <strong>åŒ…å«äº†å…·ä½“çš„ä»£ç å®ç°</strong>ã€‚</div>
</div>
<div class="admonition-sequence-iter admonition note">
<p class="admonition-title">Sequence æŠ½è±¡æ–¹æ³•æ²¡æœ‰  <code class="docutils literal notranslate"><span class="pre">__iter__</span></code> ã€‚</p>
<p>python å­˜åœ¨ä¸€ç§ <strong>åå¤‡æœºåˆ¶</strong> ï¼šå½“æœ‰  <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code>  æ—¶ï¼Œpython ä¼šè°ƒç”¨å®ƒï¼Œä¼ å…¥ä» 0 å¼€å§‹çš„æ•´æ•°ç´¢å¼•ï¼Œå°è¯•è¿­ä»£å¯¹è±¡ã€‚å“ªæ€•æ˜¯æ²¡æœ‰  <code class="docutils literal notranslate"><span class="pre">__iter__</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">__contains__</span></code>  python ä¹Ÿä¼šè®¾æ³•ä½¿è¿­ä»£ &amp; in å¯ç”¨ã€‚</p>
</div>
<div class="admonition- admonition note">
<p class="admonition-title">çŒ´å­è¡¥ä¸ï¼šè¿è¡Œæ—¶å®ç°åè®®ã€‚</p>
<div class="admonition-frenchdeck-setitem admonition hint">
<p class="admonition-title">FrenchDeck ç±»å·²ç»å®šä¹‰å¥½äº†ï¼Œä½†æ˜¯çªç„¶æƒ³å®ç°å¯å˜åè®®ï¼Œå°±æ˜¯éœ€è¦æ·»åŠ   <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code> æ–¹æ³•ã€‚</p>
</div>
<p>âœï¸ åœ¨è¿è¡Œæ—¶ä¿®æ”¹ä¿®æ”¹ç±»æˆ–æ¨¡å—ï¼Œè€Œ**ä¸æ”¹åŠ¨æºç **ã€‚ä½†æ˜¯å…³é”®æ˜¯è¦å’Œæºç è€¦åˆååˆ†ç´§å¯†ï¼ˆå³çŸ¥é“æºç ï¼Œå¹¶å¯¹ä¸Šæ¥å†™</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># ç»ˆç«¯å°å†™</span>
<span class="k">def</span> <span class="nf">set_card</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">card</span><span class="p">):</span>
    <span class="n">deck</span><span class="o">.</span><span class="n">_card</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">card</span>

<span class="hll"><span class="n">FrenchDeck</span><span class="o">.</span><span class="fm">__setitem__</span> <span class="o">=</span> <span class="n">set_card</span>  <span class="c1"># æŠŠå‡½æ•°èµ‹ç»™å±æ€§</span>
</span></pre></div>
</div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">module</span>
<span class="n">myclass</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">MyClass</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id39">
<h3 id="id39">å€Ÿå£<a class="headerlink" href="#id39" title="Link to this heading">Â¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>å¯¼å…¥</dt><dd><p>å¯¼å…¥æ•´ä¸ªæ¨¡å—ï¼Œå†ä½¿ç”¨å¥ç‚¹è¡¨ç¤ºæ³•è®¿é—®éœ€è¦çš„ç±»ã€‚éœ€è¦ä»ä¸€ä¸ªæ¨¡å—ä¸­å¯¼å…¥å¾ˆå¤šç±»æ—¶ï¼Œæœ€å¥½å¯¼å…¥æ•´ä¸ªæ¨¡å—ï¼Œå¹¶ä½¿ç”¨  <code class="docutils literal notranslate"><span class="pre">module_name.class_name</span></code>  è¯­æ³•æ¥è®¿é—®ç±»ã€‚</p>
</dd>
</dl>
</li>
</ul>
<p>ä¿®æ”¹å±æ€§çš„å€¼</p>
<ul class="simple">
<li><p>ç›´æ¥é€šè¿‡å®ä¾‹è¿›è¡Œä¿®æ”¹</p></li>
<li><p>é€šè¿‡æ–¹æ³•è¿›è¡Œè®¾ç½®-</p></li>
<li><p>é€šè¿‡æ–¹æ³•è¿›è¡Œé€’å¢ï¼ˆå¢åŠ ç‰¹å®šçš„å€¼ï¼‰ã€‚</p></li>
</ul>
</section>
<section id="id40">
<h3 id="id40">ç»§æ‰¿ç±»<a class="headerlink" href="#id40" title="Link to this heading">Â¶</a></h3>
<p>å¦‚æœä½ è¦ç¼–å†™çš„ç±»æ˜¯å¦ä¸€ä¸ªç°æˆç±»çš„ç‰¹æ®Šç‰ˆæœ¬ï¼Œå¯ä½¿ç”¨ç»§æ‰¿ã€‚ä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»æ—¶ï¼Œå®ƒå°†è‡ªåŠ¨è·å¾—å¦ä¸€ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›</p>
<ul class="simple">
<li><p>åŸæœ‰çš„ç±»ç§°ä¸ºçˆ¶ç±»ï¼Œçˆ¶ç±»ä¹Ÿç§°ä¸ºè¶…ç±»ï¼ˆ <code class="docutils literal notranslate"><span class="pre">superclass</span></code> ï¼‰</p></li>
<li><p>æ–°ç±»ç§°ä¸ºå­ç±»ã€‚</p></li>
<li><p>å­ç±»ç»§æ‰¿äº†å…¶çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼ŒåŒæ—¶è¿˜å¯ä»¥å®šä¹‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚</p></li>
</ul>
<section id="id41">
<h4 id="id41">å¯ç»§æ‰¿çš„ç±»<a class="headerlink" href="#id41" title="Link to this heading">Â¶</a></h4>
<section id="userdict">
<h5 id="userdict">UserDict<a class="headerlink" href="#userdict" title="Link to this heading">Â¶</a></h5>
<div class="admonition-userdict-dict admonition note">
<p class="admonition-title">æ›´å€¾å‘ç»§æ‰¿ UserDict è€Œä¸æ˜¯ dict</p>
<div class="line-block">
<div class="line">dict ä¼šåœ¨æŸäº›æ–¹æ³•çš„å®ç°ä¸Šèµ°ä¸€äº›æ·å¾„ï¼Œå¦‚æœç»§æ‰¿çš„è¯ï¼Œå¯èƒ½éœ€è¦åœ¨å­ç±»ä¸­é‡å†™è¿™äº›æ–¹æ³•ã€‚</div>
<div class="line"><span class="defi">UserDict</span> ã€‚æŠŠæ ‡å‡† dict ç”¨çº¯ python å®ç°äº†ä¸€éï¼Œæ‰€ä»¥å°±ä¸ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚</div>
</div>
</div>
<div class="admonition-question admonition hint">
<p class="admonition-title">Question:</p>
<p>UserDict ä¸æ˜¯ Dict çš„å­ç±»ï¼Œä½†æ˜¯ ç”¨æ¥ç»™ UserDict æœ€ç»ˆå­˜å‚¨æ•°æ®çš„  <code class="docutils literal notranslate"><span class="pre">UserDict.data</span></code>  å±æ€§æ˜¯ dict çš„å®ä¾‹ã€‚æ‰€ä»¥â€</p>
</div>
</section>
</section>
</section>
<section id="id42">
<h3 id="id42">é­”æ³•æ–¹æ³•<a class="headerlink" href="#id42" title="Link to this heading">Â¶</a></h3>
<div class="line-block">
<div class="line"><span class="defi">magic method é­”æ³•æ–¹æ³• dunder method åŒä¸‹åˆ’çº¿æ–¹æ³•</span> ã€‚ç±»ä¼¼ <strong>å‰åå¸¦åŒä¸‹åˆ’çº¿</strong> çš„ <code class="docutils literal notranslate"><span class="pre">__method__():</span></code> å†…ç½®å‡½æ•°çš„æ˜µç§°ã€‚åœ¨è¿™ä¸ªæ–¹æ³•çš„åç§°ä¸­ï¼Œå¼€å¤´å’Œæœ«å°¾å„æœ‰ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼Œè¿™æ˜¯ä¸€ç§çº¦å®šï¼Œæ—¨åœ¨é¿å…Pythoné»˜è®¤æ–¹æ³•ä¸æ™®é€šæ–¹æ³•å‘ç”Ÿåç§°å†²çªã€‚</div>
<div class="line"><strong>å·¥ä½œæ–¹å¼</strong>ï¼šå½“å¯¹è±¡æ¥æ”¶åˆ°ä¸€ä¸ªæ¶ˆæ¯ï¼Œä½†åœ¨è¯¥å¯¹è±¡ä¸Šæ²¡æœ‰å¯¹åº”çš„æ–¹æ³•æ—¶ï¼Œä¼šè‡ªåŠ¨æŸ¥æ‰¾å¹¶è°ƒç”¨è¯¥å¯¹è±¡æ‰€åœ¨ç±»ä¸­çš„ç‰¹æ®Šæ–¹æ³•ï¼Œä»è€Œå®ç°å¯¹è¯¥æ¶ˆæ¯çš„å¤„ç†ã€‚</div>
</div>
<div class="admonition-minmaxallmapc admonition hint">
<p class="admonition-title">å¦‚minã€maxã€allã€mapç­‰éƒ½æ˜¯ç”¨Cè¯­è¨€å®ç°çš„ã€‚è¿ç®—ä¼šæ›´å¿«</p>
</div>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>magic meth</p></th>
<th class="head"><p>call</p></th>
<th class="head"><p>è§£é‡Š</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">__abs__(self)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">abs(myclass)</span></code></p></td>
<td><p>å–æ¨¡</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">__bool__(self)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool(myclass)</span></code></p></td>
<td rowspan="2"><p>åˆ¤æ–­çœŸå‡</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">myclass:</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">__call__(self,</span> <span class="pre">*args,</span> <span class="pre">**kwargs):</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mycalss(params)</span></code></p></td>
<td><p>&lt;u&gt;å¯è°ƒç”¨å¯¹è±¡åè®®&lt;/u&gt; ()æ“ä½œ</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">__contains__(self,</span> <span class="pre">a)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">in</span> <span class="pre">myclass</span></code></p></td>
<td><p>åŒ…å«</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">__getitem__(self,</span> <span class="pre">idx):</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">myclass[idx]</span></code></p></td>
<td><p>&lt;u&gt;åºåˆ—åè®®&lt;/u&gt;[]æ“ä½œ</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">__init__(self,</span> <span class="pre">*args,</span> <span class="pre">**kwargs)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MyClass()</span></code> step2</p></td>
<td><p>åˆå§‹åŒ–å®ä¾‹</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">__iter__(self)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">iter(myclass)</span></code></p></td>
<td rowspan="2"><p>&lt;u&gt;è¿­ä»£åè®®&lt;/u&gt;</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">myclass</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">__len__(self)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">len(myclass)</span></code></p></td>
<td><p>é•¿åº¦</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">__missing__</span></code></p></td>
<td><p>?</p></td>
<td><p>æ˜ å°„æ‰¾ä¸åˆ°é”®</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">__new__(self)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MyClass()</span></code>  step1</p></td>
<td><p>æ–°å»ºå®ä¾‹</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">__repr__(self)</span></code></p></td>
<td rowspan="2"><p>&lt;kbd&gt;æ§åˆ¶å°&lt;/kbd&gt; <code class="docutils literal notranslate"><span class="pre">myclass</span></code></p></td>
<td><p>è¡¨è¾¾æ˜¯ä»€ä¹ˆä¸œè¥¿</p></td>
</tr>
<tr class="row-odd"><td><p>æ–¹ä¾¿è°ƒè¯•å’Œè®°å½•æ—¥å¿—</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">__setitem__(self,</span> <span class="pre">idx,</span> <span class="pre">new):</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">myclass[idx]=new</span></code></p></td>
<td><p>&lt;u&gt;åºåˆ—ç±»ä¿®æ”¹&lt;/u&gt;</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">__slots__</span></code></p></td>
<td><p>?</p></td>
<td><p>èŠ‚çœå†…å­˜</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">__str__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">print(myclass)</span></code></p></td>
<td rowspan="2"><p>å¯¹ç»ˆç«¯ç”¨æˆ·å‹å¥½</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">str(myclass)</span></code></p></td>
</tr>
</tbody>
</table>
<p>è¿ç®—ç¬¦çš„é‡è½½åœ¨å®ƒé‚£ä¸ªç« èŠ‚</p>
<ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">__bool__(self)</span></code>  â¡ï¸  <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">myclass</span></code>  |  <code class="docutils literal notranslate"><span class="pre">bool(myclass)</span></code></dt><dd><div class="line-block">
<div class="line">é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ç±»çš„å®ä¾‹æ€»è®¤ä¸ºæ˜¯çœŸï¼Œé™¤éè¿™ä¸ªç±»å¯¹ <code class="docutils literal notranslate"><span class="pre">__bool__</span></code>  |  <code class="docutils literal notranslate"><span class="pre">__len__</span></code>  æœ‰è‡ªå·±çš„å®ç°ã€‚</div>
<div class="line">å› ä¸ºè¿™ä¸ªåˆ¤æ–­çœŸå‡ä¼šå…ˆå»æœ  <code class="docutils literal notranslate"><span class="pre">__bool__</span></code>  å­˜åœ¨å—ï¼Œå¦‚æœä¸å­˜åœ¨å°±ä¼šå»æ‰¾  <code class="docutils literal notranslate"><span class="pre">__len__</span></code> ã€‚ <strong>ä¸€èˆ¬é»˜è®¤æ¨¡ä¸º0å°±æ˜¯å‡çš„</strong></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">__call__(self)</span></code>  â¡ï¸  <code class="docutils literal notranslate"><span class="pre">myclass()</span></code></dt><dd><p>æˆä¸ºå¯è°ƒç”¨å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºç±»æ–¹æ³•çš„å¿«æ·æ–¹å¼ã€‚</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">func1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>

<span class="hll">    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">func1</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># mycalss() = myclass.func1()</span>
</span></pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">__contains__(self,</span> <span class="pre">a)</span></code> â¡ï¸ <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">in</span> <span class="pre">myclass</span></code></dt><dd><p>å¦‚æœæ²¡æœ‰å®ç°ï¼Œ <code class="docutils literal notranslate"><span class="pre">in</span></code>  å°±ä¼šæŒ‰é¡ºåºåšè¿­ä»£æœç´¢</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">__getitem__(self,</span> <span class="pre">idx):</span></code>  â¡ï¸  <code class="docutils literal notranslate"><span class="pre">myclass[idx]</span></code>  &lt;u&gt;[]æ“ä½œ&lt;/u&gt;</dt><dd><p>æ”¯æŒçš„è¯, è‡ªåŠ¨æ”¯æŒåˆ‡ç‰‡æ“ä½œï¼Œå˜æˆå¯è¿­ä»£ã€‚</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">__len__(self)</span></code> â¡ï¸  <code class="docutils literal notranslate"><span class="pre">len(myclass)</span></code></dt><dd><p>å¦‚æœæ˜¯ python å†…ç½®ç±»å‹ï¼ŒCPython å°±ä¼šæŠ„è¿‘è·¯ï¼Œå®é™…ç›´æ¥è¿”å› PyObject é‡Œçš„  <code class="docutils literal notranslate"><span class="pre">ob_size</span></code>  å±æ€§.ä¼šæ¯”è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ›´å¿«ã€‚</p>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">__missing__</span></code>  æ˜ å°„æ‰¾ä¸åˆ°é”®</dt><dd><div class="line-block">
<div class="line">æ‰€æœ‰çš„æ˜ å°„ç±»å‹åœ¨å¤„ç†æ‰¾ä¸åˆ°é”®æ—¶ï¼Œéƒ½ä¼šç‰µæ‰¯ <code class="docutils literal notranslate"><span class="pre">.__missing__</span></code>  æ–¹æ³•ã€‚ <code class="docutils literal notranslate"><span class="pre">.__missing__</span></code> ä¼šè°ƒç”¨  <code class="docutils literal notranslate"><span class="pre">default_factory</span></code>  é‡Œå­˜çš„å¯è°ƒç”¨å¯¹è±¡äº§ç”Ÿé»˜è®¤å€¼ï¼Œç»™  <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code>  è¿”å›ã€‚</div>
<div class="line">åŸºç±» dict æ²¡æœ‰å®šä¹‰ï¼Œä½†æ˜¯å®ƒçŸ¥é“ï¼Œæ‰€ä»¥å¦‚æœæŸä¸ªç±»ç»§æ‰¿äº† dictï¼Œåˆæ˜¯å®ç°äº†  <code class="docutils literal notranslate"><span class="pre">__missing__</span></code>  ï¼Œé‚£ä¹ˆåœ¨  <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code>  æ‰¾ä¸åˆ°é”®æ—¶ï¼Œpython ä¼šè‡ªåŠ¨è°ƒç”¨å®ƒï¼Œè€Œä¸æ˜¯æŠ›å‡º  KeyError.</div>
</div>
<div class="admonition-missing-getitem-get-k-contains admonition warning">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">__missing__</span></code>  åªä¼šè¢«  <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code>  è°ƒç”¨ï¼Œå¯¹  <code class="docutils literal notranslate"><span class="pre">.get(k)</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">__contains__</span></code>  æ²¡æœ‰å½±å“ã€‚æ‰€ä»¥â€</p>
</div>
</dd>
</dl>
</li>
</ul>
<section id="example">
<h4 id="example">Example<a class="headerlink" href="#example" title="Link to this heading">Â¶</a></h4>
<div class="admonition- admonition hint">
<p class="admonition-title">ä¸€å çº¸ç‰Œ</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FrenchDeck</span><span class="p">():</span>
<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span><span class="nb">int</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_cards</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="hll"><span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
</span>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cards</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="admonition- admonition hint">
<p class="admonition-title">äºŒç»´å‘é‡</p>
<p>ä¸ºç”Ÿæˆå­—èŠ‚åºåˆ—ï¼Œå°† typecode è½¬æˆå­—èŠ‚åºåˆ—ï¼Œç„¶åè¿­ä»£å®ä¾‹å¾—åˆ°æ•°ç»„ï¼Œå†å°†æ•°ç»„è½¬æˆå­—èŠ‚åºåˆ—ã€‚</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>
<span class="k">class</span> <span class="nc">Vector</span><span class="p">():</span>
    <span class="n">typecode</span> <span class="o">=</span> <span class="s1">'d'</span>  <span class="c1"># ç±»å±æ€§ï¼Œåœ¨ Vector å®ä¾‹ &amp; å­—èŠ‚åºåˆ—ä¹‹é—´è½¬æ¢æ—¶ä½¿ç”¨</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>  <span class="c1"># æ ¼å¼è½¬æ¢ ä¸ºç»Ÿä¸€ ä¹Ÿä¸ºå°½æ—©æ•æ‰é”™è¯¯å‚æ•°</span>
</span>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># åªæœ‰å®ç°å¯è¿­ä»£ï¼Œæ‰èƒ½ç±»é‡Œçš„å±æ€§æ‹†åŒ… *self</span>
<span class="hll">        <span class="k">return</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
</span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="hll">        <span class="n">class_name</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span>
</span>        <span class="k">return</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">class_name</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s1">)'</span>
<span class="hll">    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
    <span class="k">def</span> <span class="fm">__bytes__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">bytes</span><span class="p">([</span><span class="nb">ord</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">typecode</span><span class="p">)])</span> <span class="o">+</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">typecode</span><span class="p">,</span> <span class="bp">self</span><span class="p">)))</span>
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>  <span class="c1"># ä¸ºäº†å¿«é€Ÿæ¯”è¾ƒæ‰€æœ‰åˆ†é‡</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
    <span class="k">def</span> <span class="fm">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">def</span> <span class="fm">__bool__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># æ¢bool æ˜¯å› ä¸ºç›´æ¥çš„è¯å¯èƒ½å°±ä¼šè¿”å›çœŸçš„å…ƒç´ é‚£ä¸€ä¸ªå€¼ï¼Œè€Œä¸æ˜¯TF</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
    <span class="k">def</span> <span class="fm">__format__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt_spec</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="nb">format</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">fmt_spec</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">'(</span><span class="si">{0}</span><span class="s1">, </span><span class="si">{1}</span><span class="s1">)'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span>
<span class="go">Vector(3.0, 4.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span>
<span class="go">(3.0, 4.0)</span>
<span class="go">abs(v1)=5.0</span>
<span class="go">bool(v1)=True</span>
<span class="go">abs(v2)=0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">v2</span><span class="p">)</span>
<span class="go">False  # å¦‚æœä¸æ˜¯é‡å†™äº†bool å®ä¾‹å°±ä¼šé»˜è®¤ä¸ºçœŸ</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">format</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span>  <span class="c1"># default</span>
<span class="go">'(3.0, 4.0)'  # default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">format</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="s1">'.3f'</span><span class="p">)</span>
<span class="go">'(3.000, 4.000)'  # å°æ•°ç‚¹åä¸‰ä½çš„å°æ•°</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">format</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="s1">'0.1%'</span><span class="p">)</span>
<span class="go">'(300.0%, 400.0%)'  # å°æ•°ç‚¹åä¸€ä½çš„ç™¾åˆ†æ•°</span>
</pre></div>
</div>
</div>
<div class="admonition-general admonition hint">
<p class="admonition-title">general å‘é‡</p>
<div class="line-block">
<div class="line">åºåˆ—ç±»å‹ï¼šä¸é™å…ƒç´ ä¸ªæ•°ï¼Œæ¥å—å¯è¿­ä»£å¯¹è±¡</div>
<div class="line">åŒæ—¶ç”¨  <code class="docutils literal notranslate"><span class="pre">array</span></code>  å­˜ï¼Œæ£€æŸ¥ç±»å‹</div>
<div class="line">å—ä¿æŠ¤ç±»å‹</div>
<div class="line">ä¸ªæ•°å¤ªå¤šç”¨  <code class="docutils literal notranslate"><span class="pre">...</span></code>  è¡¨ç¤º</div>
</div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">array</span> <span class="kn">import</span> <span class="n">array</span>
<span class="kn">import</span> <span class="nn">reprlib</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numbers</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">import</span> <span class="nn">operator</span>
<span class="kn">import</span> <span class="nn">itertools</span>

<span class="k">class</span> <span class="nc">Vector</span><span class="p">():</span>
    <span class="n">type_code</span> <span class="o">=</span> <span class="s1">'d'</span>  <span class="c1"># ä»€ä¹ˆç±»å‹æ•°ç»„</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">components</span><span class="p">):</span>  <span class="c1"># æ¥å—å¯è¿­ä»£å¯¹è±¡</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_components</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_code</span><span class="p">,</span> <span class="n">components</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">)</span>  <span class="c1"># å§”æ‰˜ç»™ array çš„å®ç°</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># for init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>  <span class="c1"># åˆ‡ç‰‡</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>  <span class="c1"># æ„é€ åºåˆ—ç±»å‹</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">):</span>  <span class="c1"># å•ç´¢å¼•</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> indices must be integers'</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">components</span> <span class="o">=</span> <span class="n">reprlib</span><span class="o">.</span><span class="n">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">)</span>  <span class="c1"># return str</span>
        <span class="n">components</span> <span class="o">=</span> <span class="n">components</span><span class="p">[</span><span class="n">components</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'['</span><span class="p">)</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># åˆ å»æ„é€ ç»†èŠ‚ array</span>
        <span class="c1"># reprlib.repr(array('d', [1.0, 2.0, 3.0, 4.0, 5.0, 6.0]))</span>
        <span class="c1"># &gt;&gt;&gt; "array('d', [1.0, 2.0, 3.0, 4.0, 5.0, ...])"</span>
        <span class="c1"># åŒæ ·çš„ç»“æœæœ‰ä¸¤ç§æ–¹æ³•ï¼š1 ç›´æ¥ä¼  array ç”Ÿæˆ str + find 2 å˜æˆ list å†ä¼ ï¼Œä¸éœ€è¦ find</span>
        <span class="c1"># é€‰ç¬¬ä¸€ç§æ˜¯ä¸ºäº†å‡å°‘ ç”Ÿæˆæ•°ç»„æ—¶çš„å¤åˆ¶æˆæœ¬ã€‚</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">'Vector(</span><span class="si">{</span><span class="n">components</span><span class="si">}</span><span class="s1">)'</span>  <span class="c1"># åªæ˜¾ç¤º ç±»å‹ &amp; æ•°å€¼</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__bytes__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_code</span><span class="p">))</span> <span class="o">+</span> <span class="nb">bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">hashes</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">hash</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">functools</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">xor</span><span class="p">,</span> <span class="n">hashes</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span> <span class="p">(</span><span class="n">a</span><span class="o">==</span><span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="o">-</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__pos__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># return Vector(+x for x in self)  # Wrong</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">paris</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">zip_longest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="n">pairs</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">+</span> <span class="n">other</span>  <span class="c1"># å§”æ‰˜ç»™ add å› ä¸ºæ•°å€¼ç›¸åŠ ä¸è®²æ±‚é¡ºåº</span>

    <span class="k">def</span> <span class="fm">__bool__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">all</span> <span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="go">v=Vector([1.0, 2.0, 3.0, 4.0, 5.0, ...])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">v2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">==</span> <span class="n">v2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Vector</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="p">[</span><span class="s1">'a'</span><span class="p">]</span>
<span class="go">TypeError: Vector indices must be integers</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">__missing__</span></code></div>
<div class="line">å½“å­—å…¸é‡Œå­˜æ”¾çš„é”®æœ‰è‹±æ–‡ &amp; æ•°å­—æ—¶ï¼Œä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œåœ¨å­˜å…¥æ—¶å¸Œæœ›å°†æ‰€æœ‰çš„é”®éƒ½è½¬æˆ strã€‚ä½†æ˜¯åœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œä¸ºäº†æ–¹ä¾¿æŸ¥è¯¢ï¼Œç”¨æ•°å­—åšé”®ä¹Ÿå¯ä»¥ã€‚ <code class="docutils literal notranslate"><span class="pre">d[13]=d['13']</span></code> ï¼Œä½†æ˜¯å­˜çš„æ—¶å€™æ˜¯ strï¼Œæ³¨å®šä¸ä¼šæ‰¾åˆ°ï¼Œæ‰€ä»¥åœ¨  <code class="docutils literal notranslate"><span class="pre">__missing__</span></code>  é‡Œè¿›è¡Œå†è½¬ str å†æŸ¥è¯¢ã€‚</div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">UserDict</span>
<span class="k">class</span> <span class="nc">StrKeyDict</span><span class="p">(</span><span class="n">UserDict</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__missing__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)]</span>
</pre></div>
</div>
</section>
<section id="init">
<h4 id="init">init<a class="headerlink" href="#init" title="Link to this heading">Â¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">__init__(self,</span> <span class="pre">*args,</span> <span class="pre">**kwargs)</span></code>  â¡ï¸  <code class="docutils literal notranslate"><span class="pre">myclass</span> <span class="pre">=</span> <span class="pre">MyClass(params)</span></code></div>
<div class="line">æ ¹æ®ç±» <strong>åˆ›å»ºæ–°å®ä¾‹</strong> æ—¶ï¼ŒPythonéƒ½ä¼šè‡ªåŠ¨è¿è¡Œå®ƒã€‚</div>
<div class="line">ä¸ç”¨æ˜¾å¼åœ°åŒ…å«returnè¯­å¥ï¼Œä½†Pythonè‡ªåŠ¨è¿”å›ä¸€ä¸ªè¡¨ç¤º  <code class="docutils literal notranslate"><span class="pre">NewClass</span></code>  çš„å®ä¾‹</div>
</div>
<div class="admonition- admonition note">
<p class="admonition-title">åºåˆ—ç±»å‹çš„æ„é€ æœ€å¥½æ¥å—å¯è¿­ä»£çš„å¯¹è±¡å‚æ•°</p>
</div>
<p>åˆ›å»ºå­ç±»æ—¶ï¼Œçˆ¶ç±»å¿…é¡»åŒ…å«åœ¨å½“å‰æ–‡ä»¶ä¸­ï¼Œä¸”ä½äºå­ç±»å‰é¢ã€‚å­ç±»å¿…é¡»åœ¨æ‹¬å·å†…æŒ‡å®šçˆ¶ç±»çš„åç§°</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">super()</span></code>  æ˜¯ä¸€ä¸ªç‰¹æ®Šå‡½æ•°ï¼Œå¸®åŠ© Python å°†çˆ¶ç±»å’Œå­ç±»å…³è”èµ·æ¥ã€‚è¿™è¡Œä»£ç è®© Python è°ƒç”¨  <code class="docutils literal notranslate"><span class="pre">NewClass</span></code>  çš„çˆ¶ç±»çš„æ–¹æ³• <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> ï¼Œè®©  <code class="docutils literal notranslate"><span class="pre">NewClass</span></code>  å®ä¾‹åŒ…å«çˆ¶ç±»çš„æ‰€æœ‰å±æ€§</p>
<blockquote>
<div><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">SuperClass</span><span class="p">():</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attr1</span> <span class="o">=</span> <span class="n">attr1</span>


<span class="k">def</span> <span class="nf">NewClass</span><span class="p">(</span><span class="n">SuperClass</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr1</span><span class="p">,</span> <span class="n">attr2</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">attr1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attr2</span> <span class="o">=</span> <span class="n">attr2</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
<section id="id43">
<h5 id="id43">ç§æœ‰å±æ€§<a class="headerlink" href="#id43" title="Link to this heading">Â¶</a></h5>
<ol class="arabic simple">
<li><dl class="simple">
<dt>éµå¾ª python çš„è®¾å®š  <code class="docutils literal notranslate"><span class="pre">__</span></code> ä¸¤ä¸ªå‰å¯¼çº¿(å°¾å·´æ²¡æœ‰æˆ–æœ€å¤šä¸€ä¸ª)æ ‡è®°å±æ€§ä¸º <strong>ç§æœ‰çš„</strong>ã€‚</dt><dd><p><span class="defi">åç§°æ”¹å†™ï¼Œname mangling</span> ã€‚ä¸ºäº†é¿å…æ„å¤–è®¿é—®(ä½†æ˜¯å¦‚æœç”¨æˆ·çŸ¥é“äº†ç§æœ‰å±æ€§ä¹Ÿä¸èƒ½é˜²æ­¢ç”¨æˆ·ä¿®æ”¹ã€‚) python ä¼šè‡ªåŠ¨æŠŠè¿™ç§çš„å±æ€§åå­˜å…¥å®ä¾‹çš„  <code class="docutils literal notranslate"><span class="pre">__dict__</span></code>  å±æ€§ä¸­ï¼Œè€Œä¸”ä¼šåœ¨å‰é¢åŠ ä¸Šâ€ä¸€ä¸ªä¸‹åˆ’çº¿+ç±»åâ€œ  <code class="docutils literal notranslate"><span class="pre">_MyClass</span></code>  å˜æˆ  <code class="docutils literal notranslate"><span class="pre">_MyClass__private</span></code> ã€‚</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>éµå¾ªç§ä¸‹çº¦å®šä¿—æˆçš„è®¾å®š  <code class="docutils literal notranslate"><span class="pre">_</span></code> ä¸€ä¸ªå‰å¯¼çº¿ã€‚æ ‡è®°ä¸º <strong>å—ä¿æŠ¤çš„</strong></dt><dd><p>python ä¸ä¼šå¯¹è¿™ç§çš„å±æ€§è¿›è¡Œç‰¹æ®Šå¤„ç†ã€‚</p>
</dd>
</dl>
</li>
</ol>
<div class="admonition- admonition warning">
<p class="admonition-title">å…¶å®ä¸èƒ½å®ç°çœŸæ­£çš„ç§æœ‰å’Œä¸å¯å˜ã€‚</p>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Vector</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">=</span> <span class="n">x</span>  <span class="c1"># ä¸¤ä¸ªä¸‹åˆ’çº¿æ ‡è®°ä¸º ç§æœ‰å±æ€§</span>
<span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">=</span> <span class="n">y</span>
</span>
    <span class="nd">@property</span>  <span class="c1"># æŠŠè¯»å€¼æ–¹æ³•æ ‡è®°ä¸ºç‰¹æ€§</span>
    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># è¯»å€¼æ–¹æ³•åç§° x(self) =&gt; å…¬å¼€å±æ€§ self.x</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__x</span>

<span class="hll">    <span class="nd">@property</span>
</span>    <span class="k">def</span> <span class="nf">yy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># è¯»å€¼æ–¹æ³•åç§° yy(self) =&gt; å…¬å¼€å±æ€§ self.yy</span>
<span class="hll">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__y</span>
</span></pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span><span class="o">.</span><span class="vm">__dict__</span>
<span class="go">{'_Vector__x': 1, '_Vector__y': 1}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span><span class="o">.</span><span class="n">_Vector__x</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># çŸ¥é“ä¹‹åæ•…æ„ä¿®æ”¹</span>
<span class="go">v1 = (2, 1)</span>
</pre></div>
</div>
<p>call</p>
<div class="admonition-call admonition note">
<p class="admonition-title">å¯¹è±¡ä¹Ÿå¯ä»¥æˆä¸ºå‡½æ•°ç±»å¯¹è±¡ã€‚å®ç°  <code class="docutils literal notranslate"><span class="pre">__call__</span></code></p>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NormClass</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">class</span> <span class="nc">FuncClass</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="hll">    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">norm</span><span class="p">,</span> <span class="n">func</span> <span class="o">=</span> <span class="n">NormClass</span><span class="p">(),</span> <span class="n">FuncClass</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">norm.a = norm.b =1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">callable</span><span class="p">(</span><span class="n">nor</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">callable</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">()</span>
<span class="go">func.a =2</span>
</pre></div>
</div>
</section>
</section>
<section id="getitem">
<h4 id="getitem">getitem<a class="headerlink" href="#getitem" title="Link to this heading">Â¶</a></h4>
<p><span class="defi">åˆ‡ç‰‡ slice</span> ã€‚</p>
<p>å¦‚æœåˆ‡ç‰‡ä¼ å…¥ä¸åˆæ ¼ï¼šä¸€èˆ¬è¿”å›  <code class="docutils literal notranslate"><span class="pre">msg</span> <span class="pre">=</span> <span class="pre">f'{cls.__name__}</span> <span class="pre">indices</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">integers'</span></code></p>
<div class="admonition- admonition warning">
<p class="admonition-title">å¦‚æœå•ä¸ªç´¢å¼•ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªå…ƒç´ ï¼Œ <strong>å…ƒç´ ç±»å‹</strong> ã€‚</p>
<div class="line-block">
<div class="line">ä¸€èˆ¬åˆ‡ç‰‡ä¹‹åï¼Œè¿”å›ä¸€ä¸ªå­åºåˆ—ï¼Œ <strong>åºåˆ—çš„ç±»å‹</strong>â€</div>
<div class="line">å¦‚æœæœ‰åº•å±‚åºåˆ—ç±»å‹ï¼Œå¯ä»¥å§”æ‰˜ï¼Œä½†ä¸èƒ½å•çº¯å§”æ‰˜ç»™å…·æœ‰åºåˆ—åè®®çš„å±æ€§ï¼Œéœ€è¦ é¢å¤–å¤„ç†ä¸€ä¸‹</div>
<div class="line">å¦‚æœæ²¡æœ‰åº•å±‚çš„åºåˆ—ç±»å‹ï¼Œå¯ä»¥ç”¨  <code class="docutils literal notranslate"><span class="pre">slice</span></code>  è¿›è¡Œæ“ä½œã€‚ï¼ˆå‚è§å‘é‡ç±»å‹ï¼‰</div>
</div>
</div>
<div class="admonition- admonition note">
<p class="admonition-title">åˆ‡ç‰‡åŸç†</p>
<div class="line-block">
<div class="line">å•ä¸ªåˆ‡ç‰‡è¿”å›  <code class="docutils literal notranslate"><span class="pre">silce(start,</span> <span class="pre">stop,</span> <span class="pre">step)</span></code> ; å¤šä¸ªåˆ‡ç‰‡(æœ‰  <code class="docutils literal notranslate"><span class="pre">,</span></code>  )è¿”å›  <code class="docutils literal notranslate"><span class="pre">tuple(slice)</span></code></div>
<div class="line"><span class="defi">slice</span> ã€‚å†…ç½®ç±»ã€‚æœ‰ä¸ªå±æ€§  <code class="docutils literal notranslate"><span class="pre">.indices(len)-&gt;(start,</span> <span class="pre">stop,</span> <span class="pre">stride)</span></code>  ç»™å®šé•¿åº¦ len çš„åºåˆ—ï¼Œè®¡ç®— S è¡¨ç¤ºçš„æ‰©å±•åˆ‡ç‰‡çš„èµ·å§‹ &amp; ç»“å°¾ &amp; æ­¥ä¼ï¼Œä½¿å…¶ä¸è¶…å‡ºåˆ—è¡¨åºåˆ—é•¿åº¦&amp;è½¬æ¢è´Ÿæ•°ã€‚</div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Seq</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">index</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Seq</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="go">s[1] =1 å•ç´¢å¼•å°±æ˜¯æƒ³è¦çš„ç´¢å¼•</span>
</span><span class="hll"><span class="go">s[:]=slice(None, None, None)</span>
</span><span class="hll"><span class="go">s[1:4:2]=slice(1, 4, 2)</span>
</span><span class="go">s[1:4, 9]=(slice(1, 4, None), 9)</span>
<span class="go">s[1:4, 5:7]=(slice(1, 4, None), slice(5, 7, None))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">indices</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">(2, 5, 1)</span>
</pre></div>
</div>
</div>
<p><span class="defi">åŠ¨æ€å­˜å–</span> ã€‚</p>
<p>å¦‚æœåºåˆ—é‡Œæœ‰å¤ªå¤šåˆ†é‡ï¼Œä¸ºäº†æ–¹ä¾¿è®¿é—®ï¼Œé€šè¿‡å•å­—æ¯è®¿é—®å‰å‡ ä¸ªåˆ†é‡ã€‚</p>
<p>å±æ€§æŸ¥æ‰¾å¤±è´¥åï¼Œè§£é‡Šå™¨ä¼šè°ƒç”¨</p>
</section>
<section id="setitem">
<h4 id="setitem">setitem<a class="headerlink" href="#setitem" title="Link to this heading">Â¶</a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">__setitem__(self,</span> <span class="pre">idx,</span> <span class="pre">new):</span></code>  â¡ï¸  <code class="docutils literal notranslate"><span class="pre">myclass[idx]=new</span></code>  &lt;u&gt;[]ä¿®æ”¹&lt;/u&gt;</div>
<div class="line">åœ¨ä¸ç ´åç±»çš„å°è£…æ€§çš„åŒæ—¶ï¼Œå¯¹åºåˆ—ç±»è¿›è¡Œä¿®æ”¹ã€‚</div>
</div>
<p>éšæœºæ‰“ä¹± shuffle éœ€è¦è°ƒè½¬åºåˆ—ä¸­å…ƒç´ çš„ä½ç½®ï¼Œå³**å¯å˜åè®®**ï¼Œéœ€è¦ <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code></p>
</section>
<section id="iterableobject">
<h4 id="iterableobject">IterableObject å¯è¿­ä»£å¯¹è±¡<a class="headerlink" href="#iterableobject" title="Link to this heading">Â¶</a></h4>
<div class="line-block">
<div class="line">å¦‚æœæˆ‘ä»¬å¯ä»¥ä»ä¸­è·å–è¿­ä»£å™¨ï¼Œåˆ™è¯¥å¯¹è±¡ç§°ä¸º iterable çš„ã€‚</div>
<div class="line">åªè¦å¯¹è±¡æ˜¯å¯è¿­ä»£çš„, å°±å¯ä»¥æ‰§è¡Œ <span class="defi">åˆ†è§£æ“ä½œ</span></div>
</div>
<p><strong>IterableObject</strong> å¿…é¡»å®ç°ä¸¤ä¸ªç‰¹æ®Šmeth:</p>
<ol class="arabic">
<li><p>æ”¯æŒåè®®ï¼ˆäºŒé€‰ä¸€æ»¡è¶³å³å¯ï¼‰
- è¿­ä»£åè®®, iteration protocol,  <code class="docutils literal notranslate"><span class="pre">__iter__(self)</span></code> å¹¶è¿”å› <code class="docutils literal notranslate"><span class="pre">self</span></code>
- åºåˆ—åè®®, sequence protocol <code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code></p></li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">__next</span> <span class="pre">__(self)</span></code> , é€ä¸ªè®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ ã€‚</dt><dd><div class="admonition-stopiteration admonition danger">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">StopIteration</span></code>  å¼‚å¸¸</p>
<p>è¶…å‡ºèŒƒå›´</p>
</div>
</dd>
</dl>
</li>
</ol>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Users</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>

<span class="hll">    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="w">        </span><span class="sd">"""</span>
<span class="sd">        #@summary: åˆå§‹åŒ–ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡</span>
<span class="sd">        #@call: iter(users)</span>
<span class="sd">        é€šå¸¸åªä¼šè¿”å›selfï¼Œå®ƒæŒæœ‰å½“å‰å®ä¾‹</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span>

<span class="hll">    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="w">        </span><span class="sd">"""</span>
<span class="sd">        #@summary: é€ä¸ªè®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ .</span>
<span class="sd">        #@call: next(Iterator)</span>
<span class="sd">        # forå¾ªç¯è°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¸æ–­è®¿é—®ä¸‹ä¸€ä¸ªï¼Œå½“æ²¡æœ‰çš„æ—¶å€™ä¼š StopIteration Error</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">users</span> <span class="o">=</span> <span class="n">Users</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">users_iterator</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">users</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users_iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">users_iterator</span><span class="p">)):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">user</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">users_iterator</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition- admonition warning">
<p class="admonition-title">å¯è¿­ä»£å¯¹è±¡çš„èµ‹å€¼</p>
<p>ä¸éœ€è¦æˆ–è€…ä¸å®šé‡çš„æ—¶å€™,  <code class="docutils literal notranslate"><span class="pre">*variables</span></code> å¯åœ¨å¼€å¤´ä¹Ÿå¯åœ¨ç»“å°¾</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">*</span><span class="n">dontneed</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">lst</span>
<span class="go">dontneed=[1, 2], a=3, b=4</span>
</pre></div>
</div>
</div>
</section>
<section id="id44">
<h4 id="id44">å­—ç¬¦ä¸²è¡¨ç°å½¢å¼<a class="headerlink" href="#id44" title="Link to this heading">Â¶</a></h4>
<p><span class="defi">å­—ç¬¦ä¸²è¡¨ç°å½¢å¼</span> ã€‚æŠŠä¸€ä¸ªå¯¹è±¡ç”¨å­—ç¬¦ä¸²çš„å½¢å¼&lt;u&gt;è¡¨è¾¾å‡ºæ¥&lt;/u&gt;ã€‚è¿”å›çš„åº”è¯¥æ˜¯&lt;u&gt;å­—ç¬¦ä¸²&lt;/u&gt;ã€‚</p>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">__repr__(self)</span></code>  â†”ï¸ &lt;kbd&gt;æ§åˆ¶å°&lt;/kbd&gt; <code class="docutils literal notranslate"><span class="pre">myclass</span></code>   |  <code class="docutils literal notranslate"><span class="pre">repr(myclass)</span></code></dt><dd><p>ä¾¿äº <strong>å¼€å‘è€…</strong> ç†è§£ã€‚è¿”å›çš„å­—ç¬¦ä¸²åº”è¯¥å‡†ç¡®ã€æ— æ­§ä¹‰ã€å¹¶ä¸”å°½å¯èƒ½è¡¨è¾¾å‡ºå¦‚ä½•ç”¨è¿™ä¸ªä»£ç åˆ›å»ºå‡ºè¿™ä¸ªè¢«æ‰“å°çš„å¯¹è±¡ã€‚æ–¹ä¾¿è°ƒè¯•å’Œè®°å½•æ—¥å¿—</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">__str__(self)</span></code>  â†”ï¸  <code class="docutils literal notranslate"><span class="pre">print(myclass)</span></code>  |  <code class="docutils literal notranslate"><span class="pre">str(myclass)</span></code></dt><dd><p>ä¾¿äº <strong>ç”¨æˆ·</strong> ç†è§£ã€‚</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">__bytes__(self)</span></code>  â†”ï¸  <code class="docutils literal notranslate"><span class="pre">bytes()</span></code></dt><dd><p>è·å–å¯¹è±¡çš„ <strong>å­—èŠ‚åºåˆ—</strong> è¡¨ç°å½¢å¼ã€‚</p>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">__format__(self,</span> <span class="pre">format_spec)</span></code>  â†”ï¸  <code class="docutils literal notranslate"><span class="pre">format(obj,</span> <span class="pre">format_spec)</span></code>  |  <code class="docutils literal notranslate"><span class="pre">str.format()</span></code></dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">format_spec</span></code>  æ ¼å¼è¯´æ˜ç¬¦å·  <code class="docutils literal notranslate"><span class="pre">'.4f'</span></code></div>
<div class="line">ä½¿ç”¨ <strong>ç‰¹æ®Šçš„æ ¼å¼</strong> æ˜¾ç¤ºå¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç°å½¢å¼ã€‚</div>
<div class="line">å¦‚æœæ²¡æœ‰å®šä¹‰ <code class="docutils literal notranslate"><span class="pre">__format__</span></code> ,  <code class="docutils literal notranslate"><span class="pre">format()</span></code>  ä¼šæ‰¾ <code class="docutils literal notranslate"><span class="pre">__str__</span></code> ï¼Œä½†ä¸èƒ½ä¼ å…¥ format_specï¼Œå¦åˆ™å°±ä¼š  <code class="docutils literal notranslate"><span class="pre">TypeError</span></code></div>
</div>
</dd>
</dl>
</li>
</ul>
<div class="admonition-repr-str-repr admonition note">
<p class="admonition-title">å¦‚æœéè¦äºŒè€…é€‰å…¶ä¸€æ¥å®ç°ï¼Œ <code class="docutils literal notranslate"><span class="pre">__repr__</span></code>  æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚å› ä¸ºå½“æ²¡æœ‰  <code class="docutils literal notranslate"><span class="pre">__str__</span></code>  æ—¶ï¼Œ è§£é‡Šå™¨ä¼šæ‰¾  <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> â€œ</p>
</div>
<div class="admonition-defi-format-spec admonition note">
<p class="admonition-title"><span class="defi">æ ¼å¼è§„èŒƒå¾®è¯­è¨€ format_spec</span> ã€‚æŒ‡å¯¼æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚</p>
<div class="line-block">
<div class="line">int ï¼š <code class="docutils literal notranslate"><span class="pre">bedoxXn</span></code>  ; floatï¼š <code class="docutils literal notranslate"><span class="pre">eEfFgGcn</span></code> ï¼› strï¼š <code class="docutils literal notranslate"><span class="pre">s</span></code></div>
<div class="line">è‡ªå®šä¹‰æ ¼å¼ä»£ç å°½é‡é¿å…ä½¿ç”¨å·²æœ‰çš„ï¼Œè€Œä¸è‡³äºä½¿åˆ«çš„è¯»è€…å›°æƒ‘ã€‚</div>
</div>
<div class="admonition-notes admonition hint">
<p class="admonition-title">notes</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">'b'</span></code>  äºŒè¿›åˆ¶ int &amp;  <code class="docutils literal notranslate"><span class="pre">'x'</span></code>  åå…­è¿›åˆ¶ int</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">'f'</span></code>  å°æ•°å½¢å¼ float  <code class="docutils literal notranslate"><span class="pre">'.4f'</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">'%'</span></code>  ç™¾åˆ†æ•°å½¢å¼ float</div>
</div>
</div>
</div>
<div class="admonition- admonition note">
<p class="admonition-title">å…³äºæ˜¾ç¤ºä¸Š</p>
<ul>
<li><dl>
<dt>å¦‚æœåˆ†é‡å¤ªå¤šï¼Œè€ƒè™‘ç”¨  <code class="docutils literal notranslate"><span class="pre">...</span></code>  è¡¨ç¤ºæˆªæ–­éƒ¨åˆ†ï¼Œè€Œä¸éœ€è¦å±•å¼€å¾ˆå¤šçš„æ•°æ®å æ®è§†çª—ï¼ŒåŒæ—¶æé†’ä¸æ­¢å±•ç°è¿™å‡ è¡Œ.</dt><dd><p><code class="docutils literal notranslate"><span class="pre">reprlib.repr(data)</span></code>  è¶…è¿‡6ä¸ªå…ƒç´ ï¼Œç”¨çœç•¥å·ä»£æ›¿ã€‚ç”¨äºç”Ÿæˆå¤§å‹ç»“æ„æˆ–é€’å½’ç»“æ„çš„ <strong>å®‰å…¨è¡¨ç°å½¢å¼</strong>ï¼Œé™åˆ¶å­—ç¬¦ä¸²è¾“å‡ºé•¿åº¦ã€‚</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">reprlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reprlib</span><span class="o">.</span><span class="n">repr</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="go">'[1, 2, 3, 4, 5, 6, ...]'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reprlib</span><span class="o">.</span><span class="n">repr</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">'[1, 2, 3]'</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>é‡ç‚¹æ˜¯åœ¨å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ„é€ ç»†èŠ‚ã€‚åœ¨æ˜¾ç¤ºä¸Šå¯ä»¥ç®€åŒ–ï¼Œåªå‡ºç°å†…å®¹ã€‚</dt><dd><p><code class="docutils literal notranslate"><span class="pre">Vector(1,</span> <span class="pre">2)</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">Vector(array('d',</span> <span class="pre">[1,</span> <span class="pre">2]))</span></code>  array æ˜¯å®ç°ç»†èŠ‚ï¼Œä¸éœ€è¦å±•ç¤ºä»¥å…å¤æ‚ã€‚</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="admonition- admonition hint">
<p class="admonition-title">äºŒç»´å‘é‡</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Vector</span><span class="p">():</span>
    <span class="o">...</span>
    <span class="k">def</span> <span class="fm">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">""" æ¨¡ """</span>
    <span class="k">def</span> <span class="nf">__angle__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">""" è§’åº¦ """</span>
    <span class="k">def</span> <span class="fm">__format__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt_spec</span><span class="o">=</span><span class="s1">''</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">fmt_spc</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">'p'</span><span class="p">):</span>  <span class="c1"># æåæ ‡</span>
            <span class="n">fmt_spec</span> <span class="o">=</span> <span class="n">fmt_spec</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">coords</span> <span class="o">=</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle</span><span class="p">())</span>
            <span class="n">outer_fmt</span> <span class="o">=</span> <span class="s1">'&lt;</span><span class="si">{}</span><span class="s1">,</span><span class="si">{}</span><span class="s1">&gt;'</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># ç›´è§’åæ ‡</span>
            <span class="n">coords</span> <span class="o">=</span> <span class="bp">self</span>
            <span class="n">outer_fmt</span> <span class="o">=</span> <span class="s1">'(</span><span class="si">{}</span><span class="s1">,</span><span class="si">{}</span><span class="s1">)'</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="nb">format</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">fmt_spec</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">coords</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">outer_fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">format</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s1">'.3ep'</span><span class="p">)</span>
<span class="go">'&lt;1.414e+00, 7.854e-01&gt;'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">format</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s1">'.5fp'</span><span class="p">)</span>
<span class="go">'&lt;1.41421, 0.78540&gt;'</span>
</pre></div>
</div>
</div>
</section>
<section id="id45">
<h4 id="id45">é‡è½½è¿ç®—ç¬¦<a class="headerlink" href="#id45" title="Link to this heading">Â¶</a></h4>
<p>é‡è½½è¿ç®—ç¬¦æ˜¯ä¸ºäº†è®©è‡ªå®šä¹‰å¯¹è±¡ä½¿ç”¨ ä¸­ç¼€è¿ç®—ç¬¦  <code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">|</span></code>  &amp; ä¸€å…ƒè¿ç®—ç¬¦  <code class="docutils literal notranslate"><span class="pre">-</span> <span class="pre">~</span></code></p>
<div class="admonition- admonition note">
<p class="admonition-title">ä¸­ç¼€è¿ç®—ç¬¦çš„åŸºæœ¬åŸåˆ™æ˜¯ <strong>åˆ›å»ºå¹¶è¿”å›ç±»å‹åˆé€‚çš„ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ”¹å˜æ“ä½œå¯¹è±¡æœ¬èº«</strong> ã€‚åªæœ‰å¢é‡èµ‹å€¼å¯èƒ½ä¿®æ”¹ç¬¬ä¸€ä¸ªæ“ä½œå¯¹è±¡</p>
<div class="line-block">
<div class="line">ä¸èƒ½é‡è½½å†…ç½®ç±»å‹çš„è¿ç®—ç¬¦</div>
<div class="line">ä¸èƒ½æ–°å»ºè¿ç®—ç¬¦ï¼Œåªèƒ½é‡è½½ã€‚</div>
<div class="line">ä¸èƒ½é‡è½½  <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">and</span> <span class="pre">or</span> <span class="pre">not</span></code></div>
<div class="line">å½“åºåˆ—è¿›è¡ŒæŒ‰å…ƒç´ è¿ç®—ï¼Œè¦å¤„ç†åºåˆ— <strong>é•¿åº¦ä¸ä¸€çš„æƒ…å†µ</strong>ã€‚ï¼ˆè¿­ä»£å¤šä¸ªå¯è¿­ä»£å¯¹è±¡ <code class="docutils literal notranslate"><span class="pre">itertools.zip_longest(..,</span> <span class="pre">fillvalue=None)</span></code> ï¼‰</div>
</div>
</div>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>magic</p></th>
<th class="head"><p>è¿ç®—ç¬¦</p></th>
<th class="head"><p>meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">__add__(self,</span> <span class="pre">other)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a+b</span></code></p></td>
<td><p>ç›¸åŠ  åºåˆ—ä¸€èˆ¬ <strong>æ‹¼æ¥</strong></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">__mul__(self,</span> <span class="pre">other)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a*b</span></code></p></td>
<td><p>æ ‡é‡ç§¯ç›¸ä¹˜ åºåˆ—ä¸€èˆ¬ <strong>å¤åˆ¶</strong></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">__neg__(self)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-a</span></code></p></td>
<td><p>ä¸€å…ƒå–å</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">__pos__(self)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">+a</span></code></p></td>
<td><p>ä¸€å…ƒå–æ­£ é€šå¸¸  <code class="docutils literal notranslate"><span class="pre">x==+x</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">__invert__(self)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">~a</span></code></p></td>
<td><p>å¯¹æ•´æ•°æŒ‰ä½å–å</p></td>
</tr>
</tbody>
</table>
<div class="admonition-i admonition note">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">i</span></code>  å°±åœ°è¿ç®—ï¼Œå¢é‡èµ‹å€¼å¯èƒ½ä¿®æ”¹ç¬¬ä¸€ä¸ªæ“ä½œå¯¹è±¡</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">r</span></code>  åå‘è¿ç®—ï¼Œå³ä½</dt><dd><p><code class="docutils literal notranslate"><span class="pre">__radd___</span></code>  æ˜¯  <code class="docutils literal notranslate"><span class="pre">__add__</span></code>  çš„ åå°„ reflected | åå‘ reversed</p>
<div class="admonition-add-a-b-a-b-iadd-a-b-a-b-radd-a-b-b-a admonition hint">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">__add__(a,b)</span> <span class="pre">=</span> <span class="pre">a+b</span></code>  å·¦ä½ &amp;  <code class="docutils literal notranslate"><span class="pre">__iadd__(a,b)=</span> <span class="pre">a+=b</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">__radd__(a,b)</span> <span class="pre">=</span> <span class="pre">b+a</span></code>  å³ä½</p>
</div>
</dd>
</dl>
</div>
<p>ç‰¹æ®Šçš„åˆ†é…æœºåˆ¶ã€‚</p>
<img alt="../_images/operate_1.jpeg" src="../_images/operate_1.jpeg"/>
<p>ç®—  <code class="docutils literal notranslate"><span class="pre">a+b</span></code> ï¼Œaå·¦bå³ã€‚å…ˆæ‰¾ a æœ‰æ²¡æœ‰å·¦åŠ b(1.æœ‰æ²¡æœ‰å·¦åŠ ï¼›2.èƒ½ä¸èƒ½å·¦åŠ b)ï¼Œä¸èƒ½çš„è¯å†æ‰¾bæœ‰æ²¡æœ‰å³åŠ a(1.æœ‰æ²¡æœ‰å³åŠ ï¼›2.èƒ½ä¸èƒ½å³åŠ a)</p>
<div class="admonition-notes admonition note">
<p class="admonition-title">notes</p>
<p><code class="docutils literal notranslate"><span class="pre">x==+x</span></code>  çš„ç‰¹æ®Šæƒ…å†µ:å½“ç²¾åº¦ä¸ä¸€æ ·çš„æ—¶å€™ä¼š  <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</div>
</section>
<section id="hash">
<h4 id="hash">hash<a class="headerlink" href="#hash" title="Link to this heading">Â¶</a></h4>
<div class="admonition-notes admonition note">
<p class="admonition-title">notes</p>
<p><span class="defi">å¯æ•£åˆ—ç±»å‹ hashable</span> ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡æ˜¯å¯æ•£åˆ—çš„ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªå¯¹è±¡ <strong>ç”Ÿå‘½å‘¨æœŸ</strong> ä¸­ï¼Œå®ƒçš„æ•£åˆ—å€¼æ˜¯ä¸å˜çš„ï¼Œè€Œä¸”è¿™ä¸ªå¯¹è±¡éœ€è¦å®ç°  <code class="docutils literal notranslate"><span class="pre">.__hash__()</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">.__eq__()</span></code>  ã€‚å› ä¸º <code class="docutils literal notranslate"><span class="pre">hash()</span></code>  æ–¹æ³•å¯ä»¥ä½œç”¨äºå¯¹è±¡ä¸Šï¼Œå¹¶ä¸”å¦‚æœä¸¤ä¸ªå¯æ•£åˆ—çš„å¯¹è±¡æ˜¯ç›¸ç­‰ï¼Œé‚£ä¹ˆæ•£åˆ—å€¼ä¸€å®šæ˜¯ä¸€æ ·ã€‚</p>
</div>
<div class="line-block">
<div class="line"><strong>ç›®çš„</strong>ï¼š</div>
<div class="line">å¯¹è±¡ä¸å¯ä¿®æ”¹ã€‚å°†è‡ªå®šä¹‰ç±»é‡Œçš„  <code class="docutils literal notranslate"><span class="pre">__init__</span></code>  é‡Œçš„å…ƒç´ è®¾ä¸º&lt;u&gt;åªè¯»æ¨¡å¼&lt;/u&gt;</div>
<div class="line">æ•£åˆ—å€¼å”¯ä¸€ã€‚æ¨èä½¿ç”¨ä½è¿ç®—ç¬¦å¼‚æˆ–  <code class="docutils literal notranslate"><span class="pre">^</span></code>  æ··åˆä¸ªåˆ†é‡çš„æ•£åˆ—å€¼</div>
</div>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__</span></code></p></li>
</ol>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Vector</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">=</span> <span class="n">x</span>  <span class="c1"># ä¸¤ä¸ªä¸‹åˆ’çº¿æ ‡è®°ä¸º ç§æœ‰å±æ€§</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">=</span> <span class="n">y</span>

    <span class="nd">@property</span>  <span class="c1"># æŠŠè¯»å€¼æ–¹æ³•æ ‡è®°ä¸ºç‰¹æ€§</span>
    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># è¯»å€¼æ–¹æ³•åç§° x(self) =&gt; å…¬å¼€å±æ€§ self.x</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__x</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">yy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># è¯»å€¼æ–¹æ³•åç§° yy(self) =&gt; å…¬å¼€å±æ€§ self.yy</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__y</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">yy</span><span class="p">))</span>

<span class="hll">    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># å¼‚æˆ– '^' æ··åˆä¸ªåˆ†é‡çš„æ•£åˆ—å€¼</span>
</span>        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">^</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yy</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">'(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">yy</span><span class="si">}</span><span class="s1">)'</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="p">([</span><span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)])</span>
<span class="go">{(1, 1), (1, 2)}</span>
</pre></div>
</div>
</section>
<section id="id46">
<h4 id="id46">ä¸€äº›ä¼˜åŒ–<a class="headerlink" href="#id46" title="Link to this heading">Â¶</a></h4>
<div class="admonition-numpy admonition note">
<p class="admonition-title">å¦‚æœæ•°ç™¾ä¸‡ä¸ªæ•°å€¼ï¼Œä½¿ç”¨ numpy</p>
</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">__slots__</span></code>  èŠ‚çœç©ºé—´ï¼Œå»ºè®®å‚¨å­˜æ•°ç™¾ä¸‡ï¼ˆè€Œä¸æ˜¯å‡ åƒï¼‰ä½¿ç”¨ï¼Œè€Œä¸”å†…å­˜ä¸¥é‡ä¸è¶³æ—¶ã€‚</div>
<div class="line">ä¸ºæé«˜è®¿é—®é€Ÿåº¦ï¼Œpython åœ¨å®ä¾‹ä¸­å°†å±æ€§å­˜è¿› <strong>dict</strong>ï¼Œä½†æ¶ˆè€—å¤§é‡å†…å­˜ã€‚ä½¿ç”¨  <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> ï¼Œpython åœ¨å®ä¾‹ä¸­å°†å±æ€§å­˜è¿› <strong>tuple</strong>ï¼Œ èŠ‚çœå†…å­˜ã€‚ï¼ˆæœ‰ç‚¹åƒ namedtupleï¼Œå‘Šè¯‰ python è¿™ä¸ªç±»ä¸­æ‰€æœ‰çš„å®ä¾‹å±æ€§éƒ½åœ¨è¿™é‡Œï¼‰</div>
</div>
<div class="admonition-slots-slots admonition warning">
<p class="admonition-title">ã€å‰¯ä½œç”¨ã€‘åœ¨ç±»ä¸­å®šä¹‰äº†  <code class="docutils literal notranslate"><span class="pre">__slots__</span></code>  å¤–ï¼Œå®ä¾‹ä¸­ä¸å…è®¸  <code class="docutils literal notranslate"><span class="pre">__slots__</span></code>  å­˜å‚¨åç§°ä»¥å¤–çš„å±æ€§ã€‚</p>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Vector</span><span class="p">():</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">)</span>  <span class="c1"># ç”±å­—ç¬¦ä¸²ç»„æˆçš„å¯è¿­ä»£å¯¹è±¡ï¼Œå„ä¸ªå…ƒç´ è¡¨ç¤ºå±æ€§</span>
    <span class="c1"># __slots__ = ('__x', '__y')</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="id47">
<h2 id="id47">é‡å†™<a class="headerlink" href="#id47" title="Link to this heading">Â¶</a></h2>
<p>å¯¹äºçˆ¶ç±»çš„æ–¹æ³•ï¼Œåªè¦å®ƒä¸ç¬¦åˆå­ç±»æ¨¡æ‹Ÿçš„å®ç‰©çš„è¡Œä¸ºï¼Œéƒ½å¯å¯¹å…¶è¿›è¡Œé‡å†™ã€‚ä¸ºæ­¤ï¼Œå¯åœ¨å­ç±»ä¸­å®šä¹‰ä¸€ä¸ªè¿™æ ·çš„æ–¹æ³•ï¼Œå³å®ƒä¸è¦é‡å†™çš„çˆ¶ç±»æ–¹æ³•åŒåã€‚è¿™æ ·ï¼ŒPythonå°†ä¸ä¼šè€ƒè™‘è¿™ä¸ªçˆ¶ç±»æ–¹æ³•ï¼Œè€Œåªå…³æ³¨ä½ åœ¨å­ç±»ä¸­å®šä¹‰çš„ç›¸åº”æ–¹æ³•</p>
</section>
<section id="id48">
<h2 id="id48">ç”¨æˆ·äº¤äº’<a class="headerlink" href="#id48" title="Link to this heading">Â¶</a></h2>
<section id="input">
<h3 id="input">Input<a class="headerlink" href="#input" title="Link to this heading">Â¶</a></h3>
<div class="admonition-input admonition danger">
<p class="admonition-title">input æ¥æ”¶åå­—ç¬¦ä¸²æ€§è´¨</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">'plz input a number:'</span><span class="p">)</span>
<span class="go">plz input a number: 9</span>
<span class="go">a = '9'</span>
</pre></div>
</div>
</div>
<section id="id49">
<h4 id="id49">è¯»ç…§ç‰‡<a class="headerlink" href="#id49" title="Link to this heading">Â¶</a></h4>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">image_path</span><span class="p">)</span> <span class="c1"># PIL.....</span>
</pre></div>
</div>
</section>
</section>
<section id="output">
<h3 id="output">output  æ ¼å¼åŒ–è¾“å‡º<a class="headerlink" href="#output" title="Link to this heading">Â¶</a></h3>
<ul>
<li><dl>
<dt>print</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">end</span> <span class="pre">=</span> <span class="pre">'\n'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sep</span> <span class="pre">=</span> <span class="pre">''</span></code></p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">"aaaa"</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s1">''</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">"bbbb"</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s1">'&amp;'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">"cccc"</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s1">'@'</span><span class="p">)</span>
<span class="go">aaaabbbb&amp;cccc@</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">'__'</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="s1">'@'</span><span class="p">)</span>
<span class="go">a__b@</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><p>str.format</p></li>
<li><dl class="simple">
<dt>f-string</dt><dd><p>Python3.6 æ–°å¢äº†ä¸€ç§ f-å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼Œä¹Ÿå¯ä»¥å†™æˆprint(fâ€è®­ç»ƒæ•°æ®é›†çš„é•¿åº¦ä¸º:{train_data_size}â€)</p>
</dd>
</dl>
</li>
</ul>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column docutils">
<p><code class="docutils literal notranslate"><span class="pre">f'{num:xxx}'</span></code></p>
<table>
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">xxx</span></code></p></th>
<th class="head"><p>width</p></th>
<th class="head"><p>0width</p></th>
<th class="head"><p>width.precision</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>meaning</p></td>
<td><p>æŒ‡å®šå®½åº¦</p></td>
<td><p>0è¡¥å…¨</p></td>
<td><p>å®½åº¦.å°æ•°ä½</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sd-col sd-d-flex-column docutils">
<div class="literal-block-wrapper docutils container" id="id64">
<div class="code-block-caption"><span class="caption-text">æ‰“å°çš„æ—¶å€™ä¿ç•™å¤šå°‘ä½å°æ•°</span><a class="headerlink" href="#id64" title="Link to this code">Â¶</a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mf">1.2345</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">a</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">'</span>
</span><span class="go">'1.23'</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>format</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">d</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">2d</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">02d</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">-2d</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>notes</p></td>
<td><p>æ­£å¸¸</p></td>
<td colspan="3"><p>å®½åº¦ä¸º2</p></td>
</tr>
<tr class="row-odd"><td><p>placeholder</p></td>
<td><p>âŒ</p></td>
<td><p>`` ``</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>`` ``</p></td>
</tr>
<tr class="row-even"><td><p>å¯¹é½</p></td>
<td><p>âŒ</p></td>
<td colspan="2"><p>å³</p></td>
<td><p>å·¦</p></td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s1">d</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s1">2d</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s1">02d</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s1">-2d</span><span class="si">}</span><span class="s1">'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">'2_ 2_02_ 2'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">'200_200_200_200'</span>
</pre></div>
</div>
<p><a class="reference external" href="https://blog.csdn.net/weixin_46713695/article/details/125250239">Pythonä¸­çš„{:02d}æ˜¯ä»€ä¹ˆæ„æ€</a></p>
</section>
</section>
<section id="id50">
<h2 id="id50">è¯»å†™æ–‡ä»¶<a class="headerlink" href="#id50" title="Link to this heading">Â¶</a></h2>
<section id="id51">
<h3 id="id51">æ–‡ä»¶è·¯å¾„<a class="headerlink" href="#id51" title="Link to this heading">Â¶</a></h3>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">files_lst</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">'dirctory_path'</span><span class="p">)</span>
</pre></div>
</div>
<p>æ–‡ä»¶å†…å®¹åˆ†ç±»</p>
<p>æ–‡ä»¶æ“ä½œåˆ†ç±»</p>
<table>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">r</span></code> åªè¯»</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">w</span></code> åªå†™</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">a</span></code> åªè¿½åŠ å†™</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>æ–‡ä»¶ä¸å­˜åœ¨</p></td>
<td><p>âŒ</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>æŒ‡é’ˆ</p></td>
<td><p>å¼€å¤´</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="admonition- admonition danger">
<p class="admonition-title">ç•™æ„æŒ‡é’ˆ</p>
<p>å†™å®Œå†è¯»å°±ä¼šè¯»ä¸å‡ºä¸œè¥¿</p>
</div>
</section>
<section id="txt">
<h3 id="txt">txt<a class="headerlink" href="#txt" title="Link to this heading">Â¶</a></h3>
<p>read(), readline(), readlines()</p>
<table>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">read(limit)</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">readline()</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">readlines()</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>limit:int é™åˆ¶è¯»çš„å†…å­˜å­—èŠ‚</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">readline()</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">readlines()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>è¯»å–</p></td>
<td><p>å…¨éƒ¨</p></td>
<td><p>é€è¡Œ</p></td>
<td><p>å…¨éƒ¨</p></td>
</tr>
<tr class="row-even"><td><p>è¿”å›</p></td>
<td><p>str</p></td>
<td><p>str</p></td>
<td><p>list</p></td>
</tr>
<tr class="row-odd"><td><p>æ¯ä¸€è¡Œåˆ†ç¦»</p></td>
<td><p>âŒ</p></td>
<td><p>âœ”</p></td>
<td><p>âœ”</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>notes</p></td>
<td><p>å…¨éƒ¨è¯»å–çš„éœ€è¦è€ƒè™‘å†…å­˜</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">readlines()</span></code> æ¯” <code class="docutils literal notranslate"><span class="pre">readline()</span></code> å¿«</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column sd-col-3 sd-col-xs-3 sd-col-sm-3 sd-col-md-3 sd-col-lg-3 docutils">
<div class="literal-block-wrapper docutils container" id="id65">
<div class="code-block-caption"><span class="caption-text">1.txt</span><a class="headerlink" href="#id65" title="Link to this code">Â¶</a></div>
<div class="highlight-None notranslate"><div class="highlight"><pre><span></span>aaa
bbb
è¿™æ˜¯ä¸ªç©ºè¡Œ
</pre></div>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-column sd-col-9 sd-col-xs-9 sd-col-sm-9 sd-col-md-9 sd-col-lg-9 docutils">
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'1.txt'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">res</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>  <span class="c1"># è¯»å…¨éƒ¨</span>
<span class="go">'aaa\nbbb\n\n'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'1.txt'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">line</span> <span class="o">=</span>  <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>  <span class="c1"># ç¬¬ä¸€è¡Œ</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="k">while</span> <span class="n">line</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">line</span> <span class="o">!=</span> <span class="s1">''</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">line</span> <span class="o">=</span>  <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>  <span class="c1"># é€è¡Œè¯»å–</span>
<span class="go">['aaa\n', 'bbb\n', '\n']</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'1.txt'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="go">['aaa\n', 'bbb\n', '\n']</span>
</pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="id52">
<h3 id="id52">å¿«é€Ÿåºåˆ—<a class="headerlink" href="#id52" title="Link to this heading">Â¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">pickle</span></code></dt><dd><p>å¿«é€Ÿåºåˆ—åŒ–æ•°å­—ç±»å‹ã€‚å¯ä»¥å¤„ç†å‡ ä¹æ‰€æœ‰çš„ç±»å‹ã€‚</p>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="error">
<h2 id="error">Error<a class="headerlink" href="#error" title="Link to this heading">Â¶</a></h2>
<div class="mermaid">
            flowchart LR
try --No_error--&gt; else --&gt; finally
try --exceptæœ‰çš„error--&gt; except --&gt; finally
try --exceptæ²¡æœ‰çš„error --&gt;A{æŠ¥é”™} --&gt; finally
        </div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">condition,</span> <span class="pre">"message"</span></code></p></li>
</ul>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-column sd-col-8 sd-col-xs-8 sd-col-sm-8 sd-col-md-8 sd-col-lg-8 docutils">
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">numb</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">OverflowError</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1"> is not valid'</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"It is over."</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="sd-col sd-d-flex-column sd-col-4 sd-col-xs-4 sd-col-sm-4 sd-col-md-4 sd-col-lg-4 docutils">
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">numb</span><span class="p">(</span><span class="mf">2.1</span><span class="p">)</span>
<span class="go">2</span>
<span class="go">It is over.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numb</span><span class="p">(</span><span class="s1">'a'</span><span class="p">)</span>
<span class="go">a is not valid</span>
<span class="go">It is over.</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="admonition-notimplementederror admonition danger">
<p class="admonition-title">NotImplementedError æœªå®ç°çˆ¶ç±»æ¥å£é‡å†™</p>
<div class="line-block">
<div class="line">åœ¨ç»§æ‰¿çš„æ—¶å€™ï¼Œçˆ¶ç±»æœ‰å¯èƒ½ç•™ä¸‹æ¥å£éœ€è¦å­ç±»å»é‡å†™ï¼Œä½†å­ç±»å¹¶æ²¡æœ‰é‡å†™.</div>
<div class="line"><span class="defi">Sol</span> : é‡å†™æ–¹æ³•</div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Parent</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">talk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">rasie</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">"æ²¡æœ‰é‡å†™talkæ–¹æ³•"</span><span class="p">)</span>  <span class="c1"># å®ç°åŸç†</span>

<span class="k">class</span> <span class="nc">Children</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">TrueChildren</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">talk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"aaaaa"</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Children</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">talk</span><span class="p">()</span>
<span class="go">NotImplementedError: æ²¡æœ‰é‡å†™talkæ–¹æ³•</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">TrueChildren</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">talk</span><span class="p">()</span>
<span class="go">aaaaa</span>
</pre></div>
</div>
</div>
<section id="id53">
<h3 id="id53">å­—ç¬¦ä¸²ç›¸å…³<a class="headerlink" href="#id53" title="Link to this heading">Â¶</a></h3>
<div class="line-block">
<div class="line"><span class="defi">UnicodeEncodeError</span> ã€‚é€‰å®šçš„ç¼–ç æ–¹å¼ä¸èƒ½ç¼–ç è¿™ä¸ªå­—ç¬¦ã€‚</div>
<div class="line"><span class="defi">UnicodeDecodeError</span> ã€‚é€‰å®šçš„è§£ç æ–¹å¼ä¸èƒ½è§£ç è¿™ä¸ªå­—ç¬¦ã€‚</div>
</div>
<div class="admonition- admonition danger">
<p class="admonition-title">æ–‡æœ¬å­˜å–ä¹±ç é—®é¢˜</p>
<ul class="simple">
<li><p>å­˜ä¹±äº†ï¼Œç¼–ç æ ¼å¼åº”è¯¥è®¾ç½®æˆæ”¯æŒæ–‡æœ¬å†…å­—ç¬¦ä¸²çš„æ ¼å¼ã€‚æ—¥æ–‡å°±ä¸è¦ç”¨ &lt;kbd&gt;gbk&lt;/kbd&gt;</p></li>
<li><p>å–ä¹±äº†ï¼Œç¼–ç æ ¼å¼åº”è¯¥å¯¹åº”è¯¥æ–‡ä»¶å­˜å…¥ç¡¬ç›˜çš„æ ¼å¼</p></li>
</ul>
</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">string.encode(encoding,</span> <span class="pre">errors='strict')</span></code>  &amp;  <code class="docutils literal notranslate"><span class="pre">string.decode(encoding,</span> <span class="pre">errors='strict')</span></code></div>
<div class="line">âœï¸  æŒ‡å®š errors å‚æ•°</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">='strict'</span></code>  æŠ›å‡º Error</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">='ignore'</span></code>  å¿½ç•¥è·³è¿‡å­—ç¬¦</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">='replace'</span></code>  æ›¿æ¢æˆå®˜æ–¹æŒ‡å®šç¬¦å·ï¼Œè¡¨ç¤ºæœªçŸ¥å­—ç¬¦</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">'å•Š'</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">'shift-jis'</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">'replace'</span><span class="p">)</span>
<span class="go">b'?'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">b</span><span class="s1">'</span><span class="se">\xe9</span><span class="s1">'</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">'utf-8'</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">'replace'</span><span class="p">)</span>
<span class="go">'ï¿½'</span>
</pre></div>
</div>
<p><span class="defi">SyntaxError</span> ã€‚ä½¿ç”¨é¢„æœŸä»¥ä¹‹å¤–çš„ç¼–ç è®°è½½æ¨¡å—ã€‚</p>
<p>âœï¸ åœ¨æ–‡ä»¶é¡¶éƒ¨æ·»åŠ  coding æ³¨é‡Š</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># coding: gbk</span>
<span class="o">...</span>
</pre></div>
</div>
<p>[ValueError: invalid literal for int() with base 10é—®é¢˜å¤„ç†]: <a class="reference external" href="https://www.cnblogs.com/chaojiyingxiong/p/10189357.html">https://www.cnblogs.com/chaojiyingxiong/p/10189357.html</a>
[CodingConvention]: <a class="reference external" href="https://visualgit.readthedocs.io/en/latest/pages/naming_convention.html#modules">https://visualgit.readthedocs.io/en/latest/pages/naming_convention.html#modules</a>
[python3-cookbook]: <a class="reference external" href="https://python3-cookbook.readthedocs.io/zh_CN/latest/c01/p03_keep_last_n_items.html">https://python3-cookbook.readthedocs.io/zh_CN/latest/c01/p03_keep_last_n_items.html</a>
[Python ä¸­çš„ä¸‹åˆ’çº¿å‘½åè§„åˆ™]: <a class="reference external" href="https://zhuanlan.zhihu.com/p/42228723">https://zhuanlan.zhihu.com/p/42228723</a>
[pythonè¿­ä»£å™¨è¯¦è§£]: <a class="reference external" href="https://blog.csdn.net/weixin_43796670/article/details/129699669">https://blog.csdn.net/weixin_43796670/article/details/129699669</a>
[Python äºŒè¿›åˆ¶ï¼Œåè¿›åˆ¶ï¼Œåå…­è¿›åˆ¶è½¬æ¢]: <a class="reference external" href="https://blog.csdn.net/u012063703/article/details/42609833">https://blog.csdn.net/u012063703/article/details/42609833</a>
[Python3 - 6ç§æ–¹æ³•æ‹¼æ¥åˆå¹¶åˆ—è¡¨list]: <a class="reference external" href="https://mediumcn.com/python3/how-to-concatenate-a-list">https://mediumcn.com/python3/how-to-concatenate-a-list</a>
[Pythonä¸­çš„zip()ï¼šä»å¤šä¸ªåˆ—è¡¨ä¸­è·å–å…ƒç´ ]: <a class="reference external" href="https://note.nkmk.me/en/python-zip-usage-for/">https://note.nkmk.me/en/python-zip-usage-for/</a>
[pythonä¸­ï¼Œ(x for y in z for x in y)è¿™ä¸ªç»“æ„æ€ä¹ˆç†è§£ï¼Ÿ]: <a class="reference external" href="https://blog.csdn.net/weixin_42427638/article/details/85261284">https://blog.csdn.net/weixin_42427638/article/details/85261284</a>
[Pythonâ€™s map(): Processing Iterables Without a Loop]: <a class="reference external" href="https://realpython.com/python-map-function/">https://realpython.com/python-map-function/</a>
[æå‡pythonæ‰§è¡Œæ•ˆç‡çš„è‹¥å¹²æ–¹æ³•]: <a class="reference external" href="https://mdnice.com/writing/f4237ac1c4b6432c8a36138495886fc4">https://mdnice.com/writing/f4237ac1c4b6432c8a36138495886fc4</a>
[Pythonä¸­ä¿®æ”¹å­—ç¬¦ä¸²çš„å››ç§æ–¹æ³•]: <a class="reference external" href="https://zhuanlan.zhihu.com/p/119420131">https://zhuanlan.zhihu.com/p/119420131</a>
[heapq â€“å †é˜Ÿåˆ—ç®—æ³•]: <a class="reference external" href="https://docs.python.org/zh-cn/3/library/heapq.html">https://docs.python.org/zh-cn/3/library/heapq.html</a>
[collections â€” å®¹å™¨æ•°æ®ç±»å‹]:<a class="reference external" href="https://docs.python.org/zh-cn/3/library/collections.html?highlight=deque">https://docs.python.org/zh-cn/3/library/collections.html?highlight=deque</a>
[Pythonç¨€ç–çŸ©é˜µè¯¦è§£]: <a class="reference external" href="https://zhuanlan.zhihu.com/p/456904535">https://zhuanlan.zhihu.com/p/456904535</a>
[pythonä¹‹æ’åºæ“ä½œåŠheapqæ¨¡å—]: <a class="reference external" href="https://segmentfault.com/a/1190000017383322">https://segmentfault.com/a/1190000017383322</a>
[å°æ•´æ•°æ± ]: <a class="reference external" href="https://zhuanlan.zhihu.com/p/371758783">https://zhuanlan.zhihu.com/p/371758783</a>
[Python å…¨å±€å˜é‡]: <a class="reference external" href="https://www.freecodecamp.org/chinese/news/python-global-variables-examples/">https://www.freecodecamp.org/chinese/news/python-global-variables-examples/</a></p>
</section>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="index.html" title="Python"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> "Previous" </span> Python </span>
              </div>
            </a>
          
          
            <a href="enhanced.html" title="Enhanced Python"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> "Next" </span> Enhanced Python </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2024, coconut.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 8.0.2.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>